{"version":3,"sources":["webpack:///./src/components/common/SocialMedia/Google.js","webpack:///./src/router/PrivateRoute.js","webpack:///./src/components/pages/Chats/SearchDialog/SearchDialogListItem.js","webpack:///./src/components/pages/Login/Login.js","webpack:///./src/gql/chat.js","webpack:///./src/gql/auth.js","webpack:///./src/assets/audio/icqBeep.js","webpack:///./src/components/common/Form/AsyncFormInput.js","webpack:///./src/components/common/List/ListItemInfo.js","webpack:///./src/components/pages/Chats/Chat/Chat.js","webpack:///./src/components/common/PageLoader.js","webpack:///./src/assets/images/login-bg__1920_95.jpg","webpack:///./src/gql/user.js","webpack:///./src/components/common/SocialMedia/Social.js","webpack:///./src/components/common/Notification/NotificationMessage.js","webpack:///./src/components/common/SocialMedia/SocialButton.js","webpack:///./src/components/common/Form/FormInputRadio.js","webpack:///./src/apollo/utils.js","webpack:///./src/components/pages/Chats/Chat/ChatTopBar.js","webpack:///./src/components/pages/Chats/Contacts/NoContacts.js","webpack:///./src/components/common/List/ListItem.js","webpack:///./src/components/pages/Chats/Contacts/ContactsList.js","webpack:///./src/components/pages/Chats/Chats.js","webpack:///./src/styles/index.js","webpack:///./src/components/pages/Chats/Chat/index.js","webpack:///./src/components/common/SocialMedia/SocialMedia.js","webpack:///./src/components/common/List/List.js","webpack:///./src/components/common/Notification/NotificationContent.js","webpack:///./src/components/containers/AppLayoutContainer.js","webpack:///./src/apollo/resolvers.js","webpack:///./src/components/pages/Login/LoginForm.js","webpack:///./src/components/pages/Chats/Chat/ChatComment.js","webpack:///./src/router/AppRoute.js","webpack:///./src/router/history.js","webpack:///./src/components/containers/SearchDialogContainer.js","webpack:///./src/assets/images/reg-bg__1920_95.jpg","webpack:///./src/components/common/Form/FormInputPassword.js","webpack:///./src/components/common/Form/FormSubmit.js","webpack:///./src/components/common/HOC/withNotification.js","webpack:///./src/components/pages/Chats/Contacts/Contacts.js","webpack:///./src/components/common/Form/FormInput.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/common/Form/Form.js","webpack:///./src/components/propTypes.js","webpack:///./src/components/common/SocialMedia/Facebook.js","webpack:///./src/registerSW.js","webpack:///./src/components/containers/ChatsContainer.js","webpack:///./src/components/common/SearchBox.js","webpack:///./src/components/common/List/ListItems.js","webpack:///./src/gql/index.js","webpack:///./src/components/pages/Chats/Chat/ChatMessages.js","webpack:///./src/components/pages/Reg/RegFormStepper.js","webpack:///./src/components/common/Notification/Notification.js","webpack:///./src/components/containers/RegContainer.js","webpack:///./src/components/pages/Chats/SearchDialog/SearchDialogList.js","webpack:///./src/apollo/cache.js","webpack:///./src/components/pages/Chats/Contacts/Contact.js","webpack:///./src/components/containers/LoginContainer.js","webpack:///./src/components/context/AppProvider.js","webpack:///./src/apollo/link.js","webpack:///./src/components/pages/Chats/Contacts/ContactsFooter.js","webpack:///./src/components/common/Notification/index.js","webpack:///./src/components/common/TopProgressLine.js","webpack:///./src/components/pages/Reg/Reg.js","webpack:///./src/storage/index.js","webpack:///./src/gql/fragments.js","webpack:///./src/router/index.js","webpack:///./src/components/pages/Chats/Chat/Message.js","webpack:///./src/components/common/Notification/NotificationClose.js","webpack:///./src/components/App.js","webpack:///./src/components/pages/Reg/RegForm.js","webpack:///./src/apollo/index.js","webpack:///./src/components/pages/Chats/Contacts/index.js","webpack:///./src/components/common/NotFound.js","webpack:///./src/components/pages/Chats/SearchDialog/SearchDialog.js","webpack:///./src/index.js","webpack:///./src/components/common/List/ListItemAvatar.js","webpack:///./src/components/common/List/index.js","webpack:///./src/components/common/Form/formConfig.js","webpack:///./src/components/pages/Chats/SearchDialog/index.js","webpack:///./src/helpers/index.js"],"names":["Google","loading","mutation","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Social__WEBPACK_IMPORTED_MODULE_4__","social","color","red","react_google_login__WEBPACK_IMPORTED_MODULE_1___default","scope","clientId","process","env","GOOGLE_APP_ID","onSuccess","profileObj","googleId","id","email","givenName","firstName","familyName","lastName","variables","name","profile","render","onClick","_SocialButton__WEBPACK_IMPORTED_MODULE_5__","icon","faGoogle","__webpack_exports__","tokenSecrets","token","TOKEN_SECRET","refresh","REFRESH_TOKEN_SECRET","checkToken","async","set","secretType","Error","secret","data","regStatus","jwt","verify","storage","e","PrivateRoute","Component","[object Object]","args","super","this","state","auth","status","get","setState","children","props","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","to","key","code","eval","propTypes","PropTypes","oneOfType","element","node","isRequired","SearchDialogListItem","avatar","displayName","username","isAdding","isAdded","_common_List_ListItem__WEBPACK_IMPORTED_MODULE_4__","_common_List_ListItemAvatar__WEBPACK_IMPORTED_MODULE_5__","_extends","online","_common_List_ListItemInfo__WEBPACK_IMPORTED_MODULE_6__","primary","secondary","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_1__","variant","size","disabled","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_2__","_material_ui_icons_DoneRounded__WEBPACK_IMPORTED_MODULE_3___default","Wrapper","styled","Grid","withConfig","componentId","backgrounds","bgImage","Login","handleSuccess","refreshToken","history","setTokens","push","handleError","graphQLErrors","toggleNotification","message","invalidField","toSignUp","_containers_LoginContainer__WEBPACK_IMPORTED_MODULE_5__","signInProps","onCompleted","signIn","onError","signInBySocialProps","signInBySocial","justify","alignItems","container","_LoginForm__WEBPACK_IMPORTED_MODULE_6__","objectOf","any","func","withNotification","CREATE_CHAT","gql","myContactFragment","myChatFragment","CHAT_CREATED_SUBSCRIPTION","GET_SELECTED_CHAT","SELECT_CHAT","GET_CHAT_MESSAGES","messageFragment","ADD_MESSAGE","MESSAGE_ADDED_SUBSCRIPTION","SIGN_IN","authPayloadFragment","SIGN_IN_BY_SOCIAL","SIGN_UP_ASYNC_VALIDATION","SIGN_UP","SIGN_UP_COMPLETION","SIGN_UP_BY_SOCIAL","SIGN_OUT","CHECK_SESSION_EXPIRATION","icqBeep","Audio","AsyncFormInput","PureComponent","asyncValid","setAsyncValid","valid","componentDidUpdate","prevProps","result","error","rest","_FormInput__WEBPACK_IMPORTED_MODULE_5__","endAdornment","_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_2__","position","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_4__","_material_ui_icons_CheckRounded__WEBPACK_IMPORTED_MODULE_3___default","shape","mutationResultProps","ListItemTextStyled","ListItemText","getSpacing","ellipsis","ListItemInfo","defaultProps","string","Paper","Chat","fetchSize","getMessages","fetchMore","chat","chatId","messages","skip","length","fetchMoreMessages","addMessage","content","me","myId","updateOptimisticIds","getAddMessageOptimisticResponse","time","Date","optimisticId","uuid","optimisticResponse","fetchMoreMessagesUpdate","componentDidMount","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default","adding","userInfo","optimisticIds","lastDate","myAvatar","getAvatar","contactAvatar","isOnline","statusText","userLastDateParser","react__WEBPACK_IMPORTED_MODULE_1___default","square","elevation","_ChatTopBar__WEBPACK_IMPORTED_MODULE_6__","_ChatMessages__WEBPACK_IMPORTED_MODULE_7__","fetchThreshold","_ChatComment__WEBPACK_IMPORTED_MODULE_8__","avatars","contact","submit","bool","meProps","userInfoProps","chatProps","arrayOf","div","PageLoader","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","module","exports","__webpack_require__","p","GET_INITIAL_DATA","myFragment","GET_ME","GET_MY_CONTACTS","GET_MY_CHATS","SEARCH_USERS","USER_ACTIVITY_SUBSCRIPTION","UPLOAD_AVATAR","USER_UPDATE_SUBSCRIPTION","userInfoFragment","SocialWrapper","Button","rgba","Social","MessageIcon","type","_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_icons_Error__WEBPACK_IMPORTED_MODULE_4___default","oneOf","NotificationMessage","Fab","SocialButton","component","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__","object","RadioFormControl","FormControl","RadioGroup","MaterialRadioGroup","FormInputRadio","values","validate","validateField","onChange","formik__WEBPACK_IMPORTED_MODULE_3__","value","field","fullWidth","event","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_7__","control","_material_ui_core_Radio__WEBPACK_IMPORTED_MODULE_4__","label","createMutation","gqlMutation","mutationProps","containerProps","mutationContainerPropsKey","mutationContainerProps","lodash_has__WEBPACK_IMPORTED_MODULE_0___default","lodash_get__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2___default","react_apollo__WEBPACK_IMPORTED_MODULE_3__","createQuery","gqlQuery","queryProps","queryContainerPropsKey","queryContainerProps","query","createSubscription","gqlSubscription","subscriptionProps","subscriptionContainerPropsKey","subscriptionContainerProps","subscription","getStyledProps","UserName","UserStatus","span","green","ChatTopBar","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_3__","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_icons_SettingsRounded__WEBPACK_IMPORTED_MODULE_4___default","Typography","MaterialTypography","NoContacts","searchValue","ListItemStyled","MaterialListItem","ListItem","ContactsList","rowRenderer","rowIndex","rowData","selectedChatId","changeRoute","getLastChatMessage","senderId","parsedTime","messageTimeParser","isSelected","messageText","_Contact__WEBPACK_IMPORTED_MODULE_3__","onSelect","_common_List__WEBPACK_IMPORTED_MODULE_2__","noContentComponent","_NoContacts__WEBPACK_IMPORTED_MODULE_4__","spinnerSize","InfoPanel","Chats","checkRoute","location","search","queryString","parse","action","newSendedIds","lodash_concat__WEBPACK_IMPORTED_MODULE_1___default","lodash_filter__WEBPACK_IMPORTED_MODULE_0___default","initialLoading","react__WEBPACK_IMPORTED_MODULE_3___default","_containers_ChatsContainer__WEBPACK_IMPORTED_MODULE_13__","messageAddedSubscriptionProps","addMessageProps","getMe","getMyChats","myContacts","myChats","selectChat","getSelectedChat","selectedChat","contactsListIsEmpty","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default","chatIsUndefined","unselectedText","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_9__","spacing","item","xs","sm","lg","_Contacts__WEBPACK_IMPORTED_MODULE_14__","contacts","chats","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_11__","xsDown","_common_List__WEBPACK_IMPORTED_MODULE_16__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_12__","_Chat__WEBPACK_IMPORTED_MODULE_15__","mdDown","withRouter","path","unit","lodash_get__WEBPACK_IMPORTED_MODULE_0___default","num","spacingFunc","theme","createMuiTheme","typography","useNextVariants","GlobalStyle","createGlobalStyle","reset","SocialMediaWrapper","SocialMediaNote","SocialMedia","note","_Facebook__WEBPACK_IMPORTED_MODULE_3__","_Google__WEBPACK_IMPORTED_MODULE_4__","View","startFrom","NoContentWrapper","Scrollable","pointer","pointerEvents","Scrollbar","presence","show","ScrollbarThumb","button","FetchMore","visible","Loading","List","constructor","_toggleScrollbarDragging","scrollbarDragging","getListHeight","listScrollable","current","getBoundingClientRect","height","getListViewHeight","listView","getScrollTop","scrollTop","_setScrollbar","scrollbar","scrollbarPresence","_setScrollbarPresence","setScrollTop","scrollToBottom","listHeight","listViewHeight","scrollHeight","_calculateScrollbarPosition","ratioPercent","thumbHeight","Math","max","thumbPosition","scrollbarThumb","style","transform","onMouseDown","preventDefault","clientY","initialClientY","top","viewPrevTopOffsett","viewPrevHeight","bottom","thumbPrevBottomOffset","diff","onMouseMove","nextScrollTop","onMouseUp","document","removeEventListener","addEventListener","_onScroll","onScroll","timer","clearTimeout","enablePointerEvents","disablePointerEvents","lodash_isFunction__WEBPACK_IMPORTED_MODULE_0___default","lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default","_onResize","width","onResize","_onObserverChange","inView","target","fetchMoreThreshold","Number","getAttribute","index","thresholdIndex","_onRowRenderer","lazyLoad","rowProps","react__WEBPACK_IMPORTED_MODULE_4___default","react_intersection_observer__WEBPACK_IMPORTED_MODULE_7__","triggerOnce","ref","onMouseEnter","onMouseLeave","onMouseOver","createRef","shouldComponentUpdate","nextProps","nextState","lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default","NoContent","onFocus","onDragStart","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_10__","react_resize_detector__WEBPACK_IMPORTED_MODULE_6__","handleHeight","react__WEBPACK_IMPORTED_MODULE_4__","_ListItems__WEBPACK_IMPORTED_MODULE_11__","number","SnackbarContent","amber","NotificationContent","toggle","aria-describedby","_NotificationMessage__WEBPACK_IMPORTED_MODULE_5__","_NotificationClose__WEBPACK_IMPORTED_MODULE_6__","chatCreatedUpdate","client","readQuery","writeQuery","lodash_concat__WEBPACK_IMPORTED_MODULE_2___default","getInitialData","checkSessionExpiration","chatCreatedSubscription","onSubscriptionData","subscriptionData","chatCreated","userActivitySubscription","userActivityUpdated","userId","contactId","lodash_find__WEBPACK_IMPORTED_MODULE_1___default","fragment","myContactActivityFragment","readFragment","writeFragment","signOut","removeTokens","originalClient","resetStore","uploadAvatar","update","userUpdateSubscription","userUpdated","updatedContacts","AppLayoutContainer","adopt","resolvers","Mutation","_","cache","lodash_find__WEBPACK_IMPORTED_MODULE_0___default","__typename","writeData","Header","SignUpButton","LoginForm","_common_TopProgressLine__WEBPACK_IMPORTED_MODULE_10__","align","gutterBottom","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_5___default","fontSize","_common_Form_Form__WEBPACK_IMPORTED_MODULE_7__","formConfig","submitButtonText","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_9__","UserAvatar","Form","form","FormInput","Input","Emoji","grey","orange","Submit","ChatComment","submitButtonRef","inputRef","onSubmit","clearValue","focus","onKeyDown","blur","click","_common_TopProgressLine__WEBPACK_IMPORTED_MODULE_11__","bordered","_common_List_ListItemAvatar__WEBPACK_IMPORTED_MODULE_10__","_material_ui_icons_MoodRounded__WEBPACK_IMPORTED_MODULE_6___default","placeholder","multiline","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_5__","_material_ui_icons_SendRounded__WEBPACK_IMPORTED_MODULE_7___default","userAvatarProps","AppRoute","layout","Layout","privateRoute","redirect","_PrivateRoute__WEBPACK_IMPORTED_MODULE_3__","createBrowserHistory","searchUsers","getMyContacts","createChat","SearchDialogContainer","FormInputPassword","showPassword","toggleShowPassword","validType","_FormInput__WEBPACK_IMPORTED_MODULE_6__","_material_ui_icons_VisibilityRounded__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_icons_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_5___default","SubmitButton","FormSubmit","text","WrappedComponent","_temp","open","updatedState","lodash_set__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_1__","_Notification__WEBPACK_IMPORTED_MODULE_2__","ContactPanel","searchDialog","sortedContacts","toggleSearchDialog","onChangeSearchValue","sortContacts","lodash_filter__WEBPACK_IMPORTED_MODULE_2___default","upperName","lodash_upperCase__WEBPACK_IMPORTED_MODULE_1___default","upperSearchValue","indexOf","lodash_find__WEBPACK_IMPORTED_MODULE_3___default","prevState","_common_SearchBox__WEBPACK_IMPORTED_MODULE_8__","_ContactsList__WEBPACK_IMPORTED_MODULE_9__","_ContactsFooter__WEBPACK_IMPORTED_MODULE_10__","_SearchDialog__WEBPACK_IMPORTED_MODULE_11__","contactProps","InputWrapper","InputError","FormHelperText","required","autoComplete","isError","onBlur","formik__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_8__","shrink","undefined","htmlFor","_material_ui_core_Input__WEBPACK_IMPORTED_MODULE_7__","inputProps","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","keys","Object","resolve","validationSchema","asyncValidationFields","asyncValidationField","yup","validation","graphQlMessage","setFieldError","fields","errors","touched","handleChange","handleBlur","handleSubmit","lodash_map__WEBPACK_IMPORTED_MODULE_1___default","initialValue","_AsyncFormInput__WEBPACK_IMPORTED_MODULE_10__","_FormInputPassword__WEBPACK_IMPORTED_MODULE_8__","_FormInputRadio__WEBPACK_IMPORTED_MODULE_9__","_FormInput__WEBPACK_IMPORTED_MODULE_7__","_FormSubmit__WEBPACK_IMPORTED_MODULE_11__","formFieldsProps","formAsyncValidationFieldsProps","withFormik","mapPropsToValues","initialValues","validateOnChange","validateOnBlur","called","messageProps","edited","seen","instanceOf","md","Facebook","_Social__WEBPACK_IMPORTED_MODULE_5__","blue","react_facebook_login_dist_facebook_login_render_props__WEBPACK_IMPORTED_MODULE_2___default","appId","FACEBOOK_APP_ID","callback","userID","first_name","last_name","_SocialButton__WEBPACK_IMPORTED_MODULE_6__","faFacebook","register","navigator","window","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","unregister","ready","updateQuery","prev","fetchMoreResult","chatMessages","lodash_concat__WEBPACK_IMPORTED_MODULE_0___default","optimistic","addMessageUpdate","updatedMyChats","newMessages","notifyOnNetworkStatusChange","messageAddedSubscription","messageAdded","ContactsContainer","IconWrapper","InputBase","SearchBox","autoFocus","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_4___default","ListItems","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_List__WEBPACK_IMPORTED_MODULE_5__","disablePadding","lodash_map__WEBPACK_IMPORTED_MODULE_2___default","user","ChatMessages","list","updateScrollTopAfterFetchMore","isSystem","isFirst","isMyMessage","lodash_includes__WEBPACK_IMPORTED_MODULE_1___default","divider","prevMessageTime","isSameDay","_Message__WEBPACK_IMPORTED_MODULE_5__","_common_List__WEBPACK_IMPORTED_MODULE_4__","StepLabelStyled","StepLabel","RegFormStepper","activeStep","steps","_material_ui_core_Stepper__WEBPACK_IMPORTED_MODULE_4__","alternativeLabel","isActive","isCompleted","iconColor","step","_material_ui_core_Step__WEBPACK_IMPORTED_MODULE_5__","active","completed","_material_ui_icons_CheckCircleRounded__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_InfoRounded__WEBPACK_IMPORTED_MODULE_8___default","Notification","onClose","reason","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_2__","anchorOrigin","horizontal","vertical","TransitionProps","direction","autoHideDuration","_NotificationContent__WEBPACK_IMPORTED_MODULE_3__","signUpAsyncValidationUsername","signUpAsyncValidationEmail","signUp","signUpCompletion","signUpBySocial","RegContainer","SearchDialogList","selectedUserId","openConfirmDialog","usernameText","_SearchDialogListItem__WEBPACK_IMPORTED_MODULE_3__","InMemoryCache","freezeResults","initialState","sessionExpired","initData","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_4__","SecondaryInfo","Time","Contact","src","LoginContainer","AppContext","createReactContext","AppProvider","Provider","httpLink","createUploadLink","uri","wsClient","SubscriptionClient","reconnect","subscriptionMiddleware","applyMiddleware","options","next","tokens","getTokens","wsLink","WebSocketLink","subscriptionClient","use","networkLink","split","kind","operation","getMainDefinition","authLink","ApolloLink","forward","setContext","headers","x-token","x-refresh-token","tokenLink","response","context","getContext","errorLink","networkError","statusCode","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default","logger","operationName","link","from","ListPanelFooter","ContactPanelFooter","_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_3__","_material_ui_icons_AddRounded__WEBPACK_IMPORTED_MODULE_4___default","LinearProgressStyled","LinearProgress","TopProgressLine","SignUp","setActiveStep","_containers_RegContainer__WEBPACK_IMPORTED_MODULE_6__","signUpProps","signUpCompletionProps","signUpBySocialProps","_RegForm__WEBPACK_IMPORTED_MODULE_7__","createTokenMethods","localStorage","setItem","getItem","remove","removeItem","LoginLayout","importedComponent","bind","LoadingComponent","AppLayout","Promise","all","NotFoundLayout","Routes","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_AppRoute__WEBPACK_IMPORTED_MODULE_9__","Reg","exact","Redirect","NotFound","HistoryDivider","Content","SystemMessage","Message","forwardRef","row-index","messageHistoryDateParser","NotificationClose","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__","aria-label","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_3___default","App","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","_context_AppProvider__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_0__","_styles__WEBPACK_IMPORTED_MODULE_6__","_router__WEBPACK_IMPORTED_MODULE_5__","hot","Info","Footer","_RegFormStepper__WEBPACK_IMPORTED_MODULE_9__","_common_Form_Form__WEBPACK_IMPORTED_MODULE_6__","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_8__","ApolloClient","credentials","assumeImmutableResults","onResetStore","Contacts","ContentIcon","_material_ui_icons_SentimentDissatisfiedRounded__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","SubTitle","DialogContent","MaterialDialogContent","SearchDialog","confirmDialog","selectedUser","refetch","closeConfirmDialog","_containers_SearchDialogContainer__WEBPACK_IMPORTED_MODULE_8__","searchUsersProps","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_3__","scroll","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_4__","_common_SearchBox__WEBPACK_IMPORTED_MODULE_9__","_SearchDialogList__WEBPACK_IMPORTED_MODULE_10__","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7__","renderApp","apollo","getElementById","registerSW","AvatarIndicator","ListItemAvatar","alt","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_4__","formFields","signUpStepOne","signUpStepTwo","formValidationSchemas","lodash_transform__WEBPACK_IMPORTED_MODULE_2___default","res","min","typeError","formInitialValues","formName","lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default","formId","firstLater","lastLater","historyDateParser","date","moment","format","shortMessageTimeParser","calendar","sameDay","lastDay","lastWeek","sameElse","referenceDate","b","isSame","icqBeepPlay","play"],"mappings":"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AC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACA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","file":"app.1083d1d30803496e592d.js","sourcesContent":["import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Google = ({ loading, mutation }) => (\r\n  <Social social=\"google\" color={red[500]}>\r\n    <GoogleLogin\r\n      scope=\"email profile\"\r\n      clientId={process.env.GOOGLE_APP_ID}\r\n      onSuccess={({\r\n        profileObj: {\r\n          googleId: id,\r\n          email,\r\n          givenName: firstName,\r\n          familyName: lastName,\r\n        },\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'google',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faGoogle} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Google;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nimport storage from '../storage';\r\n\r\nconst tokenSecrets = {\r\n  token: process.env.TOKEN_SECRET,\r\n  refresh: process.env.REFRESH_TOKEN_SECRET,\r\n};\r\n\r\nexport const checkToken = async (token, set = false, secretType = 'token') => {\r\n  try {\r\n    if (!token) {\r\n      throw new Error('Token wasn\\'t found');\r\n    }\r\n    const secret = tokenSecrets[secretType];\r\n    const { data: { regStatus } } = await jwt.verify(token, secret);\r\n\r\n    if (set) {\r\n      storage.token.set(token);\r\n    }\r\n    return { regStatus };\r\n  } catch (e) {\r\n    return { regStatus: '' };\r\n  }\r\n};\r\n\r\nclass PrivateRoute extends Component {\r\n  state = {\r\n    render: false,\r\n    auth: false,\r\n    status: '',\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const token = storage.token.get();\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, false);\r\n\r\n        this.setState({\r\n          render: true,\r\n          auth: true,\r\n          status: regStatus,\r\n        });\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    } else {\r\n      this.setState({\r\n        render: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { render, auth, status } = this.state;\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={render}>\r\n          <Choose>\r\n            <When condition={!auth}>\r\n              <Redirect to=\"login\" />\r\n            </When>\r\n            <When condition={auth && status === 'UNCOMPLETED'}>\r\n              <Redirect to={`reg?token=${storage.token.get()}`} />\r\n            </When>\r\n            <Otherwise>\r\n              {children}\r\n            </Otherwise>\r\n          </Choose>\r\n        </When>\r\n        <Otherwise>{null}</Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\n// import styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport DoneIcon from '@material-ui/icons/DoneRounded';\r\n\r\nimport ListItem from '../../../common/List/ListItem';\r\nimport ListItemAvatar from '../../../common/List/ListItemAvatar';\r\nimport ListItemInfo from '../../../common/List/ListItemInfo';\r\n\r\nconst SearchDialogListItem = ({\r\n  avatar,\r\n  displayName,\r\n  username,\r\n  isAdding,\r\n  isAdded,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <ListItem>\r\n      <ListItemAvatar {...avatar} online={false} />\r\n      <ListItemInfo primary={displayName} secondary={username} />\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={onClick}\r\n        disabled={isAdded}\r\n      >\r\n        <Choose>\r\n          <When condition={isAdding}>\r\n            <CircularProgress size={20} color=\"inherit\" />\r\n          </When>\r\n          <When condition={isAdded}>\r\n            <DoneIcon />\r\n          </When>\r\n          <Otherwise>\r\n            Add\r\n          </Otherwise>\r\n        </Choose>\r\n      </Button>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default SearchDialogListItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport LoginContainer from '../../containers/LoginContainer';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/login-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass Login extends Component {\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    const { history } = this.props;\r\n\r\n    storage.setTokens(token, refreshToken);\r\n    history.push('/');\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n      if (!invalidField) {\r\n        toggleNotification(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  toSignUp = () => {\r\n    const { history } = this.props;\r\n\r\n    history.push('/reg');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <LoginContainer\r\n        signInProps={{\r\n          onCompleted: ({ signIn }) => this.handleSuccess(signIn),\r\n          onError: this.handleError,\r\n        }}\r\n        signInBySocialProps={{\r\n          onCompleted: ({ signInBySocial }) => this.handleSuccess(signInBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({ signIn, signInBySocial }) => (\r\n          <Wrapper\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <LoginForm\r\n              signIn={signIn}\r\n              signInBySocial={signInBySocial}\r\n              toSignUp={this.toSignUp}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </LoginContainer>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  toggleNotification: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withNotification(Login);\r\n","import gql from 'graphql-tag';\r\n\r\nimport { myContactFragment, myChatFragment, messageFragment } from './fragments';\r\n\r\nexport const CREATE_CHAT = gql`\r\n  mutation CreateChat($userId: ID!) {\r\n    createChat(userId: $userId) {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const CHAT_CREATED_SUBSCRIPTION = gql`\r\n  subscription onChatCreated {\r\n    chatCreated {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const GET_SELECTED_CHAT = gql`\r\n  query getSelectedChat {\r\n    selectedChat @client {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const SELECT_CHAT = gql`\r\n  mutation SelectChat($chatId: String!) {\r\n    selectChat(chatId: $chatId) @client\r\n  }\r\n`;\r\n\r\nexport const GET_CHAT_MESSAGES = gql`\r\n  query ChatMessages($chatId: String!, $skip: Int!) {\r\n    chatMessages(chatId: $chatId, skip: $skip) {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const ADD_MESSAGE = gql`\r\n  mutation AddMessage($chatId: String!, $content: String!, $time: DateTime!, $optimisticId: String!) {\r\n    addMessage(chatId: $chatId, content: $content, time: $time, optimisticId: $optimisticId) {\r\n      chatId\r\n      optimistic\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const MESSAGE_ADDED_SUBSCRIPTION = gql`\r\n  subscription onMessageAdded {\r\n    messageAdded {\r\n      chatId\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport default {\r\n  CREATE_CHAT,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  GET_SELECTED_CHAT,\r\n  SELECT_CHAT,\r\n  GET_CHAT_MESSAGES,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n};\r\n","import gql from 'graphql-tag';\r\n\r\nimport { authPayloadFragment } from './fragments';\r\n\r\nconst SIGN_IN = gql`\r\n  mutation SignIn($form: SignInForm!) {\r\n    signIn(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_IN_BY_SOCIAL = gql`\r\n  mutation SignInBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signInBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_ASYNC_VALIDATION = gql`\r\n  mutation SignUpAsyncValidation($field: String!, $value: String!) {\r\n    signUpAsyncValidation(field: $field, value: $value) {\r\n      field\r\n      valid\r\n    }\r\n  }\r\n`;\r\n\r\nconst SIGN_UP = gql`\r\n  mutation SignUp($form: SignUpForm!) {\r\n    signUp(form: $form)\r\n  }\r\n`;\r\n\r\nconst SIGN_UP_COMPLETION = gql`\r\n  mutation SignUpCompletion($form: SignUpCompletionForm!) {\r\n    signUpCompletion(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_BY_SOCIAL = gql`\r\n  mutation SignUpBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signUpBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_OUT = gql`\r\n  mutation SignOut($userId: String) {\r\n    signOut(userId: $userId)\r\n  }\r\n`;\r\n\r\nconst CHECK_SESSION_EXPIRATION = gql`\r\n  {\r\n    sessionExpired @client\r\n  }\r\n`;\r\n\r\nexport default {\r\n  SIGN_IN,\r\n  SIGN_IN_BY_SOCIAL,\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n  SIGN_OUT,\r\n  CHECK_SESSION_EXPIRATION,\r\n};\r\n","const icqBeep = new Audio('data:audio/mp3;base64,SUQzAwAAAAAfdlRDT04AAAAFAAAAKDEyKVBSSVYAAAAOAABQZWFrVmFsdWUAIQAAAFBSSVYAAAARAABBdmVyYWdlTGV2ZWwAewQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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CEosaRI4cSJU5xIlskUcY0iRw4kS2MFJQVgFNCjowViC8BTQo6MFYgvAU0KOjBWILwFNCjowV0F+Kbw74SYgpqKZlxyY1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tQwAADwAABpAAAAAAAADSAAAAATEFNRTMuOTFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UMAAA8AAAaQAAAAAAAA0gAAAAExBTUUzLjkxVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+1DAAAPAAAGkAAAAAAAANIAAAABMQU1FMy45MVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==');\r\n\r\nexport default icqBeep;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CheckIcon from '@material-ui/icons/CheckRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nimport { mutationResultProps } from '../../propTypes';\r\n\r\nclass AsyncFormInput extends PureComponent {\r\n  state = {\r\n    asyncValid: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { data, error } } = this.props;\r\n\r\n    if (!prevProps.result.data && data) {\r\n      this.setAsyncValid(true);\r\n    }\r\n    if (!prevProps.result.error && error) {\r\n      this.setAsyncValid(false);\r\n    }\r\n  }\r\n\r\n  setAsyncValid = (valid) => {\r\n    this.setState({ asyncValid: valid });\r\n  }\r\n\r\n  render() {\r\n    const { asyncValid } = this.state;\r\n    const { result: { loading }, ...rest } = this.props;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        endAdornment={\r\n          (loading || asyncValid)\r\n          && (\r\n            <InputAdornment position=\"end\">\r\n              <Choose>\r\n                <When condition={loading}>\r\n                  <CircularProgress size={18} />\r\n                </When>\r\n                <When condition={!loading && asyncValid}>\r\n                  <CheckIcon color=\"action\" />\r\n                </When>\r\n                <Otherwise>{null}</Otherwise>\r\n              </Choose>\r\n            </InputAdornment>\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nAsyncFormInput.propTypes = {\r\n  result: PropTypes.shape(mutationResultProps).isRequired,\r\n};\r\n\r\nexport default AsyncFormInput;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { ellipsis } from 'polished';\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListItemTextStyled = styled(ListItemText)`\r\n  && {\r\n    display: inline-flex;\r\n    flex-flow: column;\r\n    padding: 0 ${getSpacing(1)};\r\n\r\n    > * {\r\n      ${ellipsis('100%')};\r\n    }\r\n  }\r\n`;\r\n\r\nconst ListItemInfo = ({ primary, secondary }) => (\r\n  <ListItemTextStyled primary={primary} secondary={secondary} />\r\n);\r\n\r\nListItemInfo.defaultProps = {\r\n  primary: '',\r\n  secondary: '',\r\n};\r\nListItemInfo.propTypes = {\r\n  primary: PropTypes.string,\r\n  secondary: PropTypes.string,\r\n};\r\n\r\nexport default ListItemInfo;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { isEqual } from 'lodash';\r\nimport uuid from 'uuid/v4';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport ChatTopBar from './ChatTopBar';\r\nimport ChatMessages from './ChatMessages';\r\nimport ChatComment from './ChatComment';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\nimport { getAvatar, userLastDateParser } from '../../../../helpers';\r\nimport { meProps, userInfoProps, chatProps } from '../../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)} 0;\r\n    background-color: #fff;\r\n  }\r\n`;\r\n\r\nclass Chat extends Component {\r\n  fetchSize = 30;\r\n\r\n  componentDidMount() {\r\n    this.getMessages();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { chat: { id: chatId } } = this.props;\r\n\r\n    if (!isEqual(prevProps.chat.id, chatId)) {\r\n      this.getMessages();\r\n    }\r\n  }\r\n\r\n  getMessages = (fetchMore = false) => {\r\n    const { chat } = this.props;\r\n    const { id: chatId, messages } = chat;\r\n    const skip = messages.length;\r\n\r\n    if (!fetchMore) {\r\n      if (skip < this.fetchSize) {\r\n        this.fetchMoreMessages({ chatId, skip });\r\n      }\r\n    } else {\r\n      this.fetchMoreMessages({ chatId, skip });\r\n    }\r\n  }\r\n\r\n  addMessage = (content) => {\r\n    const {\r\n      me: { id: myId },\r\n      chat: { id: chatId },\r\n      updateOptimisticIds,\r\n      addMessage,\r\n      getAddMessageOptimisticResponse,\r\n    } = this.props;\r\n    const time = new Date();\r\n    const optimisticId = uuid();\r\n\r\n    const variables = {\r\n      chatId,\r\n      content,\r\n      time,\r\n      optimisticId,\r\n    };\r\n    const optimisticResponse = getAddMessageOptimisticResponse({\r\n      chatId,\r\n      optimisticId,\r\n      myId,\r\n      content,\r\n      time,\r\n    });\r\n\r\n    addMessage({ variables, optimisticResponse });\r\n    updateOptimisticIds(optimisticId);\r\n  }\r\n\r\n  fetchMoreMessages = (variables) => {\r\n    const {\r\n      fetchMoreMessages,\r\n      fetchMoreMessagesUpdate,\r\n    } = this.props;\r\n\r\n    fetchMoreMessages(fetchMoreMessagesUpdate(variables));\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      adding,\r\n      me,\r\n      userInfo,\r\n      chat,\r\n      optimisticIds,\r\n    } = this.props;\r\n    const { displayName, status, lastDate } = userInfo;\r\n    const { id: chatId, messages } = chat;\r\n    const { id: myId } = me;\r\n\r\n    const myAvatar = getAvatar(me);\r\n    const contactAvatar = getAvatar(userInfo);\r\n    const isOnline = status === 'ONLINE';\r\n    const statusText = isOnline\r\n      ? 'online'\r\n      : userLastDateParser(lastDate);\r\n\r\n    return (\r\n      <Wrapper square elevation={0}>\r\n        <ChatTopBar\r\n          name={displayName}\r\n          isOnline={isOnline}\r\n          statusText={statusText}\r\n        />\r\n        <ChatMessages\r\n          chatId={chatId}\r\n          loading={loading}\r\n          adding={adding}\r\n          myId={myId}\r\n          messages={messages}\r\n          optimisticIds={optimisticIds}\r\n          getMessages={() => this.getMessages(true)}\r\n          fetchThreshold={5}\r\n        />\r\n        <ChatComment\r\n          adding={adding}\r\n          avatars={{\r\n            me: myAvatar,\r\n            contact: contactAvatar,\r\n          }}\r\n          submit={this.addMessage}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nChat.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  adding: PropTypes.bool.isRequired,\r\n  me: PropTypes.shape(meProps).isRequired,\r\n  userInfo: PropTypes.shape(userInfoProps).isRequired,\r\n  chat: PropTypes.shape(chatProps).isRequired,\r\n  optimisticIds: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  updateOptimisticIds: PropTypes.func.isRequired,\r\n  addMessage: PropTypes.func.isRequired,\r\n  getAddMessageOptimisticResponse: PropTypes.func.isRequired,\r\n  fetchMoreMessages: PropTypes.func.isRequired,\r\n  fetchMoreMessagesUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Chat;\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nconst Wrapper = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')}\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst PageLoader = () => (\r\n  <Wrapper>\r\n    <CircularProgress size={80} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PageLoader;\r\n","module.exports = __webpack_public_path__ + \"assets/images/login-bg__1920_95.jpg\";","import gql from 'graphql-tag';\r\n\r\nimport {\r\n  myContactFragment,\r\n  myChatFragment,\r\n  myFragment,\r\n  userInfoFragment,\r\n} from './fragments';\r\n\r\nconst GET_INITIAL_DATA = gql`\r\n  query GetInitialData {\r\n    me {\r\n      ...myData\r\n    }\r\n    myContacts {\r\n      ...myContactData\r\n    }\r\n    myChats {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_ME = gql`\r\n  query GetMe {\r\n    me @client {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_MY_CONTACTS = gql`\r\n  query GetMyContacts {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n`;\r\n\r\nconst GET_MY_CHATS = gql`\r\n  query GetMyChats {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n    myChats @client {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nconst SEARCH_USERS = gql`\r\n  query SearchUsers($searchValue: String!) {\r\n    searchUsers(searchValue: $searchValue) {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst USER_ACTIVITY_SUBSCRIPTION = gql`\r\n  subscription onUserActivityUpdated {\r\n    userActivityUpdated {\r\n      userId\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPLOAD_AVATAR = gql`\r\n  mutation uploadAvatar($file: Upload!) {\r\n    uploadAvatar(file: $file) {\r\n      sm\r\n      md\r\n    }\r\n  }\r\n`;\r\n\r\nconst USER_UPDATE_SUBSCRIPTION = gql`\r\n  subscription onUserUpdated {\r\n    userUpdated {\r\n      ...userInfoData\r\n    }\r\n  }\r\n  ${userInfoFragment}\r\n`;\r\n\r\nexport default {\r\n  GET_INITIAL_DATA,\r\n  GET_ME,\r\n  GET_MY_CONTACTS,\r\n  GET_MY_CHATS,\r\n  SEARCH_USERS,\r\n  UPLOAD_AVATAR,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  USER_UPDATE_SUBSCRIPTION,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { rgba } from 'polished';\r\n\r\nimport { Button } from './SocialButton';\r\n\r\nconst SocialWrapper = styled.div`\r\n  display: inline-flex;\r\n\r\n  :not(:last-child) {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  ${Button} {\r\n    background-color: ${({ color }) => color};\r\n\r\n    :hover {\r\n      background-color: ${({ color }) => rgba(color, 0.8)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Social = ({ social, color, children }) => (\r\n  <SocialWrapper\r\n    key={social}\r\n    color={color}\r\n  >\r\n    {children}\r\n  </SocialWrapper>\r\n);\r\n\r\nSocial.propTypes = {\r\n  social: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.element]).isRequired,\r\n};\r\n\r\nexport default Social;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst Wrapper = styled.p`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #fff;\r\n\r\n  span {\r\n    margin-left: 1em;\r\n  }\r\n`;\r\n\r\nconst MessageIcon = ({ type }) => (\r\n  <Choose>\r\n    <When condition={type === 'warning'}>\r\n      <WarningIcon />\r\n    </When>\r\n    <When condition={type === 'error'}>\r\n      <ErrorIcon />\r\n    </When>\r\n    <Otherwise>{null}</Otherwise>\r\n  </Choose>\r\n);\r\n\r\nMessageIcon.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n};\r\n\r\nconst NotificationMessage = ({ type, message }) => (\r\n  <Wrapper>\r\n    <MessageIcon type={type} />\r\n    <span>\r\n      {message}\r\n    </span>\r\n  </Wrapper>\r\n);\r\n\r\nNotificationMessage.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default NotificationMessage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nexport const Button = styled(Fab)`\r\n  && {\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst SocialButton = ({ loading, onClick, icon }) => (\r\n  <Button disabled={loading} size=\"small\" onClick={onClick} component={Fab}>\r\n    <FontAwesomeIcon icon={icon} size=\"lg\" />\r\n  </Button>\r\n);\r\n\r\nSocialButton.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]).isRequired,\r\n};\r\n\r\nexport default SocialButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport MaterialRadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport styled from 'styled-components';\r\n// import { position } from 'polished';\r\nimport { map } from 'lodash';\r\n\r\nconst RadioFormControl = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    margin-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst RadioGroup = styled(MaterialRadioGroup)`\r\n  && {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst FormInputRadio = ({\r\n  name,\r\n  values,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n}) => (\r\n  <Field name={name} validate={value => validate(value, name)}>\r\n    {({ field }) => (\r\n      <RadioFormControl variant=\"standard\" fullWidth>\r\n        <RadioGroup\r\n          {...field}\r\n          name={name}\r\n          onChange={(event) => {\r\n            validateField(name);\r\n\r\n            onChange(event);\r\n          }}\r\n        >\r\n          {map(values, value => (\r\n            <FormControlLabel\r\n              key={value}\r\n              value={value}\r\n              control={<Radio />}\r\n              label={value}\r\n            />\r\n          ))}\r\n        </RadioGroup>\r\n      </RadioFormControl>\r\n    )}\r\n  </Field>\r\n);\r\n\r\nFormInputRadio.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  values: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  validate: PropTypes.func.isRequired,\r\n  validateField: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default FormInputRadio;\r\n","import React from 'react';\r\nimport { Query, Mutation, Subscription } from 'react-apollo';\r\nimport { get, has } from 'lodash';\r\n\r\nexport const createMutation = (name, gqlMutation, mutationProps = {}) => (containerProps) => {\r\n  const mutationContainerPropsKey = `${name}Props`;\r\n  const mutationContainerProps = has(containerProps, mutationContainerPropsKey)\r\n    ? get(containerProps, mutationContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Mutation\r\n      mutation={gqlMutation}\r\n      {...mutationProps}\r\n      {...mutationContainerProps}\r\n    >\r\n      {(mutation, result) => render({\r\n        mutation,\r\n        result,\r\n        name,\r\n      })}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\nexport const createQuery = (name, gqlQuery, queryProps = {}) => (containerProps) => {\r\n  const queryContainerPropsKey = `${name}Props`;\r\n  const queryContainerProps = has(containerProps, queryContainerPropsKey)\r\n    ? get(containerProps, queryContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Query\r\n      query={gqlQuery}\r\n      {...queryProps}\r\n      {...queryContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport const createSubscription = (name, gqlSubscription, subscriptionProps = {}) => (containerProps) => {\r\n  const subscriptionContainerPropsKey = `${name}Props`;\r\n  const subscriptionContainerProps = has(containerProps, subscriptionContainerPropsKey)\r\n    ? get(containerProps, subscriptionContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Subscription\r\n      subscription={gqlSubscription}\r\n      {...subscriptionProps}\r\n      {...subscriptionContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Subscription>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport { getStyledProps } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  z-index: 20;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n\r\n  p {\r\n    ${getStyledProps('theme.typography.subtitle2')};\r\n  }\r\n`;\r\n\r\nconst UserStatus = styled.span`\r\n  ${getStyledProps('theme.typography.caption')};\r\n  color: ${({ online, ...rest }) => (online\r\n    ? green[600]\r\n    : getStyledProps('theme.palette.grey.500')(rest))};\r\n`;\r\n\r\nconst ChatTopBar = ({\r\n  name,\r\n  statusText,\r\n  isOnline,\r\n}) => (\r\n  <Wrapper>\r\n    <IconButton>\r\n      <SearchIcon />\r\n    </IconButton>\r\n    <UserName>\r\n      <p>{name}</p>\r\n      <UserStatus online={isOnline}>\r\n        {statusText}\r\n      </UserStatus>\r\n    </UserName>\r\n    <IconButton>\r\n      <SettingsIcon />\r\n    </IconButton>\r\n  </Wrapper>\r\n);\r\n\r\nChatTopBar.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  statusText: PropTypes.string.isRequired,\r\n  isOnline: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default ChatTopBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport MaterialTypography from '@material-ui/core/Typography';\r\n\r\nconst Typography = styled(MaterialTypography)`\r\n  && {\r\n    p {\r\n      text-align: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NoContacts = ({ searchValue }) => (\r\n  <Typography variant=\"subtitle2\">\r\n    <Choose>\r\n      <When condition={!searchValue}>\r\n        <p>Your contact list is empty.</p>\r\n        <p>Click on the &quot;+&quot; icon to find your contacts</p>\r\n      </When>\r\n      <Otherwise>\r\n        {null}\r\n      </Otherwise>\r\n    </Choose>\r\n  </Typography>\r\n);\r\n\r\nNoContacts.propTypes = {\r\n  searchValue: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default NoContacts;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport MaterialListItem from '@material-ui/core/ListItem';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListItemStyled = styled(MaterialListItem)`\r\n  && {\r\n    padding: 0 ${getSpacing(1)};\r\n    margin-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst ListItem = ({ children, onClick }) => {\r\n  return (\r\n    <ListItemStyled onClick={onClick}>\r\n      {children}\r\n    </ListItemStyled>\r\n  );\r\n};\r\n\r\nexport default ListItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport List from '../../../common/List';\r\nimport Contact from './Contact';\r\nimport NoContacts from './NoContacts';\r\n\r\nimport { getAvatar, messageTimeParser } from '../../../../helpers';\r\n\r\nclass ContactsList extends Component {\r\n  rowRenderer = ({ rowIndex, rowData }) => {\r\n    const {\r\n      myId,\r\n      selectedChatId,\r\n      changeRoute,\r\n      getLastChatMessage,\r\n    } = this.props;\r\n    const { chatId, userInfo } = rowData;\r\n    const { displayName, status } = userInfo;\r\n    const avatar = getAvatar(userInfo);\r\n    const message = getLastChatMessage(chatId);\r\n    const { senderId, content, time } = message;\r\n    const parsedTime = messageTimeParser(time);\r\n\r\n    const isSelected = selectedChatId === chatId;\r\n    const online = status === 'ONLINE';\r\n    const isMyMessage = senderId === myId;\r\n    const messageText = isMyMessage\r\n      ? `You: ${content}`\r\n      : content;\r\n\r\n    return (\r\n      <Contact\r\n        key={rowIndex}\r\n        myId={myId}\r\n        avatar={avatar}\r\n        displayName={displayName}\r\n        message={messageText}\r\n        time={parsedTime}\r\n        online={online}\r\n        isSelected={isSelected}\r\n        onSelect={() => changeRoute(chatId)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, searchValue } = this.props;\r\n\r\n    return (\r\n      <List\r\n        loading={loading}\r\n        data={data}\r\n        rowRenderer={this.rowRenderer}\r\n        noContentComponent={() => (<NoContacts searchValue={searchValue} />)}\r\n        spinnerSize={40}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nContactsList.defaultProps = {\r\n  myId: null,\r\n  selectedChatId: null,\r\n};\r\nContactsList.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  myId: PropTypes.string,\r\n  searchValue: PropTypes.string.isRequired,\r\n  selectedChatId: PropTypes.string,\r\n  changeRoute: PropTypes.func.isRequired,\r\n  getLastChatMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactsList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\nimport { isEmpty, concat, filter } from 'lodash';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ChatsContainer, {\r\n  fetchMoreMessagesUpdate,\r\n  getAddMessageOptimisticResponse,\r\n} from '../../containers/ChatsContainer';\r\nimport Contacts from './Contacts';\r\nimport Chat from './Chat';\r\nimport { NoContentWrapper } from '../../common/List';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    ${size('100%')};\r\n    display: flex;\r\n    align-items: stretch;\r\n  }\r\n`;\r\n\r\nconst InfoPanel = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)};\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n  }\r\n`;\r\n\r\nclass Chats extends Component {\r\n  state = {\r\n    optimisticIds: [],\r\n  }\r\n\r\n  checkRoute = () => {\r\n    const { location: { search } } = this.props;\r\n    const { chatId } = queryString.parse(search);\r\n\r\n    return chatId;\r\n  }\r\n\r\n  changeRoute = (chatId) => {\r\n    const { history } = this.props;\r\n\r\n    history.push(`/chats?chatId=${chatId}`);\r\n  }\r\n\r\n  updateOptimisticIds = (optimisticId, action = 'add') => {\r\n    this.setState(({ optimisticIds }) => {\r\n      let newSendedIds;\r\n\r\n      switch (action) {\r\n        case 'add': {\r\n          newSendedIds = concat(optimisticIds, optimisticId);\r\n          break;\r\n        }\r\n        case 'remove': {\r\n          newSendedIds = filter(optimisticIds, id => id !== optimisticId);\r\n          break;\r\n        }\r\n        default: {\r\n          newSendedIds = optimisticIds;\r\n        }\r\n      }\r\n      return ({ optimisticIds: newSendedIds });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { optimisticIds } = this.state;\r\n    const { initialLoading } = this.props;\r\n    const selectedChatId = initialLoading ? null : this.checkRoute();\r\n\r\n    return (\r\n      <ChatsContainer\r\n        messageAddedSubscriptionProps={{\r\n          variables: { chatId: selectedChatId },\r\n        }}\r\n        addMessageProps={{\r\n          onCompleted: ({ addMessage: { optimisticId } }) => {\r\n            this.updateOptimisticIds(optimisticId, 'remove');\r\n          },\r\n        }}\r\n      >\r\n        {({\r\n          getMe: {\r\n            data: { me = {} },\r\n          },\r\n          getMyChats: {\r\n            data: { myContacts = [], myChats = [] },\r\n          },\r\n          addMessage: {\r\n            mutation: addMessage,\r\n            result: {\r\n              loading: adding,\r\n            },\r\n          },\r\n          selectChat: {\r\n            mutation: selectChat,\r\n          },\r\n          getSelectedChat: {\r\n            data: { selectedChat = { contact: {}, chat: {} } },\r\n            fetchMore: fetchMoreMessages,\r\n            loading,\r\n          },\r\n        }) => {\r\n          const { contact, chat } = selectedChat;\r\n          const contactsListIsEmpty = isEmpty(myContacts);\r\n          const chatIsUndefined = isEmpty(chat);\r\n          let unselectedText;\r\n\r\n          if (!selectedChatId) {\r\n            unselectedText = 'Please select a chat to start messaging';\r\n          } else if (isEmpty(chat)) {\r\n            unselectedText = 'Selected chat is undefined';\r\n          }\r\n\r\n          return (\r\n            <Wrapper square elevation={0}>\r\n              <Grid container spacing={0}>\r\n                <Grid item xs={12} sm={4} lg={3}>\r\n                  <Contacts\r\n                    loading={initialLoading}\r\n                    myId={me.id}\r\n                    contacts={myContacts}\r\n                    chats={myChats}\r\n                    selectedChatId={selectedChatId}\r\n                    selectChat={selectChat}\r\n                    changeRoute={this.changeRoute}\r\n                  />\r\n                </Grid>\r\n                <Hidden xsDown>\r\n                  <Grid item sm={8} lg={6}>\r\n                    <Choose>\r\n                      <When condition={contactsListIsEmpty}>\r\n                        {null}\r\n                      </When>\r\n                      <When condition={!selectedChatId || chatIsUndefined}>\r\n                        <NoContentWrapper>\r\n                          <Typography variant=\"subtitle2\">\r\n                            <p>{unselectedText}</p>\r\n                          </Typography>\r\n                        </NoContentWrapper>\r\n                      </When>\r\n                      <Otherwise>\r\n                        <Chat\r\n                          loading={loading}\r\n                          adding={adding}\r\n                          me={me}\r\n                          userInfo={contact.userInfo}\r\n                          chat={chat}\r\n                          optimisticIds={optimisticIds}\r\n                          fetchMoreMessages={fetchMoreMessages}\r\n                          fetchMoreMessagesUpdate={fetchMoreMessagesUpdate}\r\n                          addMessage={addMessage}\r\n                          getAddMessageOptimisticResponse={getAddMessageOptimisticResponse}\r\n                          updateOptimisticIds={this.updateOptimisticIds}\r\n                        />\r\n                      </Otherwise>\r\n                    </Choose>\r\n                  </Grid>\r\n                </Hidden>\r\n                <Hidden mdDown>\r\n                  <Grid item lg={3}>\r\n                    <InfoPanel square elevation={0}>{null}</InfoPanel>\r\n                  </Grid>\r\n                </Hidden>\r\n              </Grid>\r\n            </Wrapper>\r\n          );\r\n        }}\r\n      </ChatsContainer>\r\n    );\r\n  }\r\n}\r\n\r\nChats.propTypes = {\r\n  location: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  initialLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default withRouter(Chats);\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport reset from 'styled-reset';\r\nimport { size } from 'polished';\r\nimport { get } from 'lodash';\r\n\r\nexport const getStyledProps = (path, unit = '') => (props) => {\r\n  const value = get(props, path);\r\n\r\n  if (unit) {\r\n    return `${value}${unit}`;\r\n  }\r\n  return value;\r\n};\r\n\r\nexport const getSpacing = (num = 1) => (props) => {\r\n  const spacingFunc = getStyledProps('theme.spacing')(props);\r\n  const padding = spacingFunc(num);\r\n\r\n  return `${padding}px`;\r\n};\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  ${reset}\r\n\r\n  html,\r\n  body {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    min-height: 100%;\r\n    font-family: ${getStyledProps('theme.typography.fontFamily')};\r\n    font-size: ${getStyledProps('theme.typography.fontSize')}px;\r\n    font-weight: ${getStyledProps('theme.typography.fontWeightRegular')};\r\n    color: #000;\r\n    background-color: #fff;\r\n    overflow-y: auto;\r\n\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    #root {\r\n      ${size('inherit')};\r\n      display: flex;\r\n    }\r\n  }\r\n\r\n  body.disable-pointer-events,\r\n  body.disable-pointer-events * {\r\n    pointer-events: none !important;\r\n  }\r\n`;\r\n","import Chat from './Chat';\r\n\r\nexport default Chat;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport Facebook from './Facebook';\r\nimport Google from './Google';\r\n\r\nimport { mutationResultProps } from '../../propTypes';\r\n\r\nconst SocialMediaWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 3em;\r\n`;\r\n\r\nconst SocialMediaNote = styled.p`\r\n  display: inline-flex;\r\n  margin-right: 1em;\r\n`;\r\n\r\nconst SocialMedia = ({\r\n  mutation,\r\n  result: { loading },\r\n  note,\r\n}) => {\r\n  return (\r\n    <SocialMediaWrapper>\r\n      <SocialMediaNote>\r\n        {note}\r\n      </SocialMediaNote>\r\n      <Facebook loading={loading} mutation={mutation} />\r\n      <Google loading={loading} mutation={mutation} />\r\n    </SocialMediaWrapper>\r\n  );\r\n};\r\n\r\nSocialMedia.defaultProps = {\r\n  note: '',\r\n};\r\nSocialMedia.propTypes = {\r\n  mutation: PropTypes.func.isRequired,\r\n  result: PropTypes.shape(mutationResultProps).isRequired,\r\n  note: PropTypes.string,\r\n};\r\n\r\nexport default SocialMedia;\r\n","import React, { Component, Fragment, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactResizeDetector from 'react-resize-detector';\r\nimport { InView } from 'react-intersection-observer';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\nimport {\r\n  debounce, isEmpty, isEqual, isFunction,\r\n} from 'lodash';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport ListItems from './ListItems';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  flex: 1 auto;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst View = styled.div`\r\n  ${position('absolute', 0, '-17px', 0, 0)};\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  z-index: 15;\r\n\r\n  ${({ startFrom }) => startFrom === 'bottom' && `\r\n    display: flex;\r\n    flex-flow: column;\r\n  `}\r\n`;\r\n\r\nexport const NoContentWrapper = styled.div`\r\n  ${size('100%')};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Scrollable = styled.div`\r\n  margin-top: auto;\r\n\r\n  ${({ pointer }) => {\r\n    const pointerEvents = !pointer ? 'none !important' : 'auto';\r\n\r\n    return `\r\n      pointer-events: ${pointerEvents};\r\n\r\n      * {\r\n        pointer-events: ${pointerEvents};\r\n      }\r\n    `;\r\n  }};\r\n`;\r\n\r\nconst Scrollbar = styled.div`\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  width: 3px;\r\n  display: ${({ presence }) => (presence ? 'block' : 'none')};\r\n  background-color: ${getStyledProps('theme.palette.grey.300')};\r\n  opacity: ${({ show }) => (show ? 1 : 0)};\r\n  transition: .25s ease;\r\n  z-index: 20;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ScrollbarThumb = styled.button`\r\n  width: 100%;\r\n  position: relative;\r\n  padding: 0;\r\n  background-color: ${getStyledProps('theme.palette.primary.main')};\r\n  border: none;\r\n  will-change: transform;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst FetchMore = styled.div`\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  visibility: ${({ visible }) => (visible ? 'visibility' : 'hidden')}\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')};\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nclass List extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.scrollbarThumb = createRef();\r\n    this.listView = createRef();\r\n    this.listScrollable = createRef();\r\n\r\n    this.state = {\r\n      scrollbar: false,\r\n      scrollbarPresence: false,\r\n      scrollbarDragging: false,\r\n      pointerEvents: true,\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { scrollbarDragging } = this.state;\r\n\r\n    if (!isEqual(scrollbarDragging, nextState.scrollbarDragging)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { loading, data, lazyLoad } = this.props;\r\n\r\n    if (\r\n      (!isEqual(prevProps.data, data) && isEmpty(data))\r\n      ||\r\n      (!isEqual(prevProps.loading, loading) && loading && !lazyLoad)\r\n    ) {\r\n      this._setScrollbarPresence(false);\r\n    }\r\n  }\r\n\r\n  _toggleScrollbarDragging = () => {\r\n    this.setState(({ scrollbarDragging }) => ({ scrollbarDragging: !scrollbarDragging }));\r\n  }\r\n\r\n  getListHeight = () => this.listScrollable.current.getBoundingClientRect().height || 0;\r\n\r\n  getListViewHeight = () => this.listView.current.getBoundingClientRect().height || 0;\r\n\r\n  getScrollTop = () => this.listView.current.scrollTop;\r\n\r\n  _setScrollbar = (scrollbar) => {\r\n    const { scrollbarDragging, scrollbarPresence } = this.state;\r\n\r\n    if (scrollbarPresence && !scrollbarDragging) {\r\n      this.setState({ scrollbar });\r\n    }\r\n  }\r\n\r\n  _setScrollbarPresence = (scrollbarPresence) => {\r\n    this.setState({ scrollbarPresence });\r\n  }\r\n\r\n  setScrollTop = (scrollTop) => {\r\n    this.listView.current.scrollTop = scrollTop;\r\n  }\r\n\r\n  scrollToBottom = () => {\r\n    const { height: listHeight } = this.listScrollable.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = this.listView.current.getBoundingClientRect();\r\n\r\n    if (listHeight > listViewHeight) {\r\n      this.setScrollTop(this.listView.current.scrollHeight);\r\n    }\r\n  }\r\n\r\n  _calculateScrollbarPosition = (scrollTop) => {\r\n    const { height: listHeight } = this.listScrollable.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = this.listView.current.getBoundingClientRect();\r\n    const listScrollHeight = listHeight - listViewHeight;\r\n    const ratioPercent = scrollTop / listScrollHeight;\r\n    const thumbHeight = Math.max(20, (listViewHeight / listHeight) * listViewHeight);\r\n    const scrollbarHeight = listViewHeight - thumbHeight;\r\n    const thumbPosition = ratioPercent * scrollbarHeight;\r\n\r\n    this.scrollbarThumb.current.style.height = `${thumbHeight}px`;\r\n    this.scrollbarThumb.current.style.transform = `translate(0, ${thumbPosition}px)`;\r\n  }\r\n\r\n  onMouseDown = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { clientY: initialClientY } = e;\r\n    const {\r\n      top: viewPrevTopOffsett,\r\n      height: viewPrevHeight,\r\n    } = this.listView.current.getBoundingClientRect();\r\n    const {\r\n      bottom: thumbPrevBottomOffset,\r\n    } = this.scrollbarThumb.current.getBoundingClientRect();\r\n    const thumbOffset = thumbPrevBottomOffset - viewPrevTopOffsett;\r\n    const mouseOffset = initialClientY - viewPrevTopOffsett;\r\n    const diff = thumbOffset - mouseOffset;\r\n\r\n    this._toggleScrollbarDragging();\r\n\r\n    const onMouseMove = ({ clientY }) => {\r\n      const {\r\n        height: listHeight,\r\n      } = this.listScrollable.current.getBoundingClientRect();\r\n      const {\r\n        height: thumbHeight,\r\n      } = this.scrollbarThumb.current.getBoundingClientRect();\r\n      const currentMouseOffset = clientY - viewPrevTopOffsett;\r\n      const positionInView = viewPrevHeight - (currentMouseOffset + diff);\r\n      const ratioPercent = positionInView / (viewPrevHeight - thumbHeight);\r\n      const scrollHeight = listHeight - viewPrevHeight;\r\n      const scrollTop = scrollHeight - (ratioPercent * scrollHeight);\r\n      let nextScrollTop = scrollTop;\r\n\r\n      if (scrollTop < 0) nextScrollTop = 0;\r\n      if (scrollTop > scrollHeight) nextScrollTop = scrollHeight;\r\n\r\n      this.listView.current.scrollTop = nextScrollTop;\r\n    };\r\n\r\n    const onMouseUp = () => {\r\n      this._toggleScrollbarDragging();\r\n\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n    };\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n  }\r\n\r\n  _onScroll = (e) => {\r\n    e.preventDefault();\r\n    const { onScroll } = this.props;\r\n    const { scrollTop } = this.listView.current;\r\n    let timer;\r\n\r\n    clearTimeout(timer);\r\n    this.enablePointerEvents();\r\n    timer = this.disablePointerEvents();\r\n\r\n    this._calculateScrollbarPosition(scrollTop);\r\n\r\n    if (onScroll && isFunction(onScroll)) {\r\n      onScroll({ scrollTop });\r\n    }\r\n  }\r\n\r\n  disablePointerEvents = () => {\r\n    const { pointerEvents } = this.props;\r\n\r\n    if (pointerEvents) {\r\n      this.setState({ pointerEvents: false });\r\n    }\r\n  }\r\n\r\n  enablePointerEvents = debounce(() => {\r\n    this.setState({ pointerEvents: true });\r\n  }, 500);\r\n\r\n  _onResize = (width, height) => {\r\n    const { onResize } = this.props;\r\n    const { height: listViewHeight } = this.listView.current.getBoundingClientRect();\r\n\r\n    if (height > listViewHeight) {\r\n      this._setScrollbarPresence(true);\r\n      this._calculateScrollbarPosition();\r\n    } else {\r\n      this._setScrollbarPresence(false);\r\n    }\r\n\r\n    if (onResize && (isFunction(onResize))) {\r\n      onResize({ width, height });\r\n    }\r\n  }\r\n\r\n  _onObserverChange = (inView, { target }) => {\r\n    const {\r\n      data,\r\n      startFrom,\r\n      fetchMore,\r\n      fetchMoreThreshold,\r\n    } = this.props;\r\n    const rowIndex = Number(target.getAttribute('row-index'));\r\n    let index = rowIndex;\r\n    let thresholdIndex = data.length - fetchMoreThreshold;\r\n\r\n    if (startFrom === 'bottom') {\r\n      index = data.length - rowIndex;\r\n      thresholdIndex = fetchMoreThreshold;\r\n    }\r\n\r\n    if ((index === thresholdIndex) && inView) {\r\n      fetchMore();\r\n    }\r\n  }\r\n\r\n  _onRowRenderer = (rowData, index) => {\r\n    const {\r\n      lazyLoad,\r\n      startFrom,\r\n      data,\r\n      rowRenderer,\r\n    } = this.props;\r\n    const rowIndex = startFrom === 'bottom'\r\n      ? (data.length - index)\r\n      : (index + 1);\r\n    const rowProps = {\r\n      index,\r\n      rowIndex,\r\n      rowData,\r\n    };\r\n\r\n    if (lazyLoad) {\r\n      return (\r\n        <InView\r\n          key={rowIndex}\r\n          onChange={this._onObserverChange}\r\n          triggerOnce\r\n        >\r\n          {({ ref }) => rowRenderer({ ref, ...rowProps })}\r\n        </InView>\r\n      );\r\n    }\r\n    return rowRenderer(rowProps);\r\n  }\r\n\r\n  onMouseEnter = (e) => {\r\n    e.preventDefault();\r\n    this._setScrollbar(true);\r\n  }\r\n\r\n  onMouseLeave = (e) => {\r\n    e.preventDefault();\r\n    this._setScrollbar(false);\r\n  }\r\n\r\n  onMouseOver = (e) => {\r\n    e.preventDefault();\r\n    const { scrollbar } = this.state;\r\n\r\n    if (!scrollbar) {\r\n      this._setScrollbar(true);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { scrollbar, scrollbarPresence, pointerEvents } = this.state;\r\n    const {\r\n      loading,\r\n      data,\r\n      lazyLoad,\r\n      startFrom,\r\n      noContentComponent: NoContent,\r\n      spinnerSize,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Wrapper\r\n        onMouseEnter={this.onMouseEnter}\r\n        onMouseLeave={this.onMouseLeave}\r\n        onMouseOver={this.onMouseOver}\r\n        onFocus={this.onMouseOver}\r\n      >\r\n        <Scrollbar show={scrollbar} presence={scrollbarPresence}>\r\n          <ScrollbarThumb\r\n            ref={this.scrollbarThumb}\r\n            type=\"button\"\r\n            onDragStart={() => false}\r\n            onMouseDown={this.onMouseDown}\r\n          />\r\n        </Scrollbar>\r\n        <View\r\n          ref={this.listView}\r\n          onScroll={this._onScroll}\r\n          startFrom={startFrom}\r\n        >\r\n          <Choose>\r\n            <When condition={!lazyLoad && loading}>\r\n              <Loading>\r\n                <CircularProgress size={spinnerSize} color=\"primary\" />\r\n              </Loading>\r\n            </When>\r\n            <When condition={!loading && isEmpty(data)}>\r\n              <Choose>\r\n                <When condition={NoContent}>\r\n                  <NoContentWrapper>\r\n                    <NoContent />\r\n                  </NoContentWrapper>\r\n                </When>\r\n                <Otherwise>\r\n                  {null}\r\n                </Otherwise>\r\n              </Choose>\r\n            </When>\r\n            <Otherwise>\r\n              <Scrollable ref={this.listScrollable} pointer={pointerEvents}>\r\n                <ReactResizeDetector onResize={this._onResize} handleHeight>\r\n                  <Fragment>\r\n                    <If condition={lazyLoad && startFrom === 'bottom'}>\r\n                      <FetchMore visible={loading}>\r\n                        <CircularProgress size={spinnerSize} color=\"primary\" />\r\n                      </FetchMore>\r\n                    </If>\r\n                    <ListItems\r\n                      scrollbar={scrollbar}\r\n                      scrollbarPresence={scrollbarPresence}\r\n                      loading={loading}\r\n                      pointerEvents={pointerEvents}\r\n                      data={data}\r\n                      rowRenderer={this._onRowRenderer}\r\n                    />\r\n                    <If condition={lazyLoad && startFrom === 'top'}>\r\n                      <FetchMore visible={loading}>\r\n                        <CircularProgress size={spinnerSize} color=\"primary\" />\r\n                      </FetchMore>\r\n                    </If>\r\n                  </Fragment>\r\n                </ReactResizeDetector>\r\n              </Scrollable>\r\n            </Otherwise>\r\n          </Choose>\r\n        </View>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nList.defaultProps = {\r\n  loading: false,\r\n  data: [],\r\n  lazyLoad: false,\r\n  fetchMore: () => {},\r\n  fetchMoreThreshold: 10,\r\n  startFrom: 'top',\r\n  onResize: () => {},\r\n  onScroll: () => {},\r\n  noContentComponent: null,\r\n  spinnerSize: 20,\r\n};\r\nList.propTypes = {\r\n  loading: PropTypes.bool,\r\n  data: PropTypes.arrayOf(PropTypes.any),\r\n  rowRenderer: PropTypes.func.isRequired,\r\n  lazyLoad: PropTypes.bool,\r\n  fetchMore: PropTypes.func,\r\n  fetchMoreThreshold: PropTypes.number,\r\n  startFrom: PropTypes.oneOf(['top', 'bottom']),\r\n  onResize: PropTypes.func,\r\n  onScroll: PropTypes.func,\r\n  noContentComponent: PropTypes.func,\r\n  spinnerSize: PropTypes.number,\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport amber from '@material-ui/core/colors/amber';\r\n\r\nimport NotificationMessage from './NotificationMessage';\r\nimport NotificationClose from './NotificationClose';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst Wrapper = styled(SnackbarContent)`\r\n  && {\r\n    background-color: ${(props) => {\r\n    const { type } = props;\r\n\r\n    if (type === 'error') {\r\n      return getStyledProps('theme.palette.error.main')(props);\r\n    }\r\n    return amber[500];\r\n  }}}\r\n`;\r\n\r\nconst NotificationContent = ({ type, message, toggle }) => (\r\n  <Wrapper\r\n    type={type}\r\n    aria-describedby=\"alert-notification\"\r\n    message={<NotificationMessage key=\"message\" type={type} message={message} />}\r\n    action={[<NotificationClose key=\"close\" toggle={toggle} />]}\r\n  />\r\n);\r\n\r\nNotificationContent.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  toggle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default NotificationContent;\r\n","import { adopt } from 'react-adopt';\r\nimport {\r\n  concat, find, map,\r\n} from 'lodash';\r\n\r\nimport { createMutation, createQuery, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { myContactActivityFragment } from '../../gql/fragments';\r\n\r\nimport history from '../../router/history';\r\nimport storage from '../../storage';\r\nimport originalClient from '../../apollo';\r\n\r\nconst {\r\n  GET_ME,\r\n  GET_INITIAL_DATA,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  SIGN_OUT,\r\n  GET_MY_CHATS,\r\n  GET_MY_CONTACTS,\r\n  CHECK_SESSION_EXPIRATION,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  USER_UPDATE_SUBSCRIPTION,\r\n  UPLOAD_AVATAR,\r\n} = gql;\r\n\r\nexport const chatCreatedUpdate = (client, { contact, chat }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts: concat(myContacts, contact),\r\n      myChats: concat(myChats, chat),\r\n    },\r\n  });\r\n};\r\n\r\nconst getInitialData = createQuery('getInitialData', GET_INITIAL_DATA);\r\nconst checkSessionExpiration = createQuery('checkSessionExpiration', CHECK_SESSION_EXPIRATION);\r\nconst chatCreatedSubscription = createSubscription('chatCreatedSubscription', CHAT_CREATED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { chatCreated } } }) {\r\n    chatCreatedUpdate(client, chatCreated);\r\n  },\r\n});\r\nconst userActivitySubscription = createSubscription('userActivitySubscription', USER_ACTIVITY_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userActivityUpdated } } }) {\r\n    const { userId, status, lastDate } = userActivityUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const { id: contactId } = find(myContacts, ({ userInfo: { id: userId } }));\r\n\r\n    const fragment = myContactActivityFragment;\r\n    const id = `MyContact:${contactId}`;\r\n    const { userInfo, ...rest } = client.readFragment({ fragment, id });\r\n\r\n    client.writeFragment({\r\n      fragment,\r\n      id,\r\n      data: {\r\n        userInfo: {\r\n          ...userInfo,\r\n          status,\r\n          lastDate,\r\n        },\r\n        ...rest,\r\n      },\r\n    });\r\n  },\r\n});\r\nconst signOut = createMutation('signOut', SIGN_OUT, {\r\n  onCompleted() {\r\n    storage.removeTokens();\r\n    originalClient.resetStore();\r\n    history.push('/');\r\n  },\r\n});\r\nconst uploadAvatar = createMutation('uploadAvatar', UPLOAD_AVATAR, {\r\n  update(client, { data: { uploadAvatar: avatar } }) {\r\n    const { me } = client.readQuery({ query: GET_ME });\r\n\r\n    client.writeQuery({\r\n      query: GET_ME,\r\n      data: { me: { ...me, avatar } },\r\n    });\r\n  },\r\n});\r\nconst userUpdateSubscription = createSubscription('userUpdateSubscription', USER_UPDATE_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userUpdated } } }) {\r\n    const { id: userId } = userUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const updatedContacts = map(myContacts, (contact) => {\r\n      const { userInfo: { id } } = contact;\r\n\r\n      if (id === userId) {\r\n        return { ...contact, userInfo: userUpdated };\r\n      }\r\n      return contact;\r\n    });\r\n\r\n    client.writeQuery({ myContacts: updatedContacts });\r\n  },\r\n});\r\n\r\nconst AppLayoutContainer = adopt({\r\n  chatCreatedSubscription,\r\n  userActivitySubscription,\r\n  getInitialData,\r\n  checkSessionExpiration,\r\n  signOut,\r\n  uploadAvatar,\r\n  userUpdateSubscription,\r\n});\r\n\r\nexport default AppLayoutContainer;\r\n","import { find } from 'lodash';\r\n\r\nimport gql from '../gql';\r\n\r\nconst { GET_MY_CHATS } = gql;\r\n\r\nconst resolvers = {\r\n  Mutation: {\r\n    selectChat: (_, { chatId }, { cache }) => {\r\n      const { myContacts, myChats } = cache.readQuery({ query: GET_MY_CHATS });\r\n      const contact = find(myContacts, { chatId }) || { __typename: 'MyContact' };\r\n      const chat = find(myChats, { id: chatId }) || { __typename: 'Chat' };\r\n\r\n      cache.writeData({\r\n        data: {\r\n          selectedChat: {\r\n            contact,\r\n            chat,\r\n            __typename: 'SelectedChat',\r\n          },\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n\r\nexport default resolvers;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport TopProgressLine from '../../common/TopProgressLine';\r\n\r\nimport { getSpacing } from '../../../styles';\r\nimport { mutationProps } from '../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    position: relative;\r\n    padding: ${getSpacing(5)} ${getSpacing(3)};\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\nconst SignUpButton = styled(Button)`\r\n  && {\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst LoginForm = ({\r\n  signIn,\r\n  signInBySocial,\r\n  toSignUp,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <TopProgressLine loading={signIn.result.loading} />\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <AccountCircleIcon fontSize=\"inherit\" color=\"primary\" />\r\n      </Header>\r\n      <Form\r\n        {...formConfig('signIn')}\r\n        mutation={signIn.mutation}\r\n        result={signIn.result}\r\n        submitButtonText=\"Sign In\"\r\n      />\r\n      <SignUpButton\r\n        onClick={toSignUp}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n      >\r\n        {'Sign Up'}\r\n      </SignUpButton>\r\n      <SocialMedia\r\n        mutation={signInBySocial.mutation}\r\n        result={signInBySocial.result}\r\n        note=\"Sign In with social media:\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nLoginForm.propTypes = {\r\n  signIn: PropTypes.shape(mutationProps).isRequired,\r\n  signInBySocial: PropTypes.shape(mutationProps).isRequired,\r\n  toSignUp: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport MoodIcon from '@material-ui/icons/MoodRounded';\r\nimport SendIcon from '@material-ui/icons/SendRounded';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport orange from '@material-ui/core/colors/orange';\r\n\r\nimport ListItemAvatar from '../../../common/List/ListItemAvatar';\r\nimport TopProgressLine from '../../../common/TopProgressLine';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\nimport { userAvatarProps } from '../../../propTypes';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  position: relative;\r\n  border-top: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  padding-top: ${getSpacing(1)};\r\n`;\r\n\r\nconst UserAvatar = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: ${getSpacing(2)};\r\n`;\r\n\r\nconst Form = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  position: relative;\r\n`;\r\n\r\nconst FormInput = styled(Input)`\r\n  && {\r\n    width: 100%;\r\n    min-height: 80px;\r\n    display: inline-flex;\r\n    align-items: flex-start;\r\n\r\n    > div {\r\n      width: 95%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Emoji = styled.div`\r\n  ${position('absolute', 0, 0, null, null)}\r\n  font-size: 28px;\r\n  color: ${grey[500]};\r\n  cursor: pointer;\r\n  z-index: 10;\r\n\r\n  &:hover {\r\n    color: ${orange[300]};\r\n  }\r\n`;\r\n\r\nconst Submit = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n\r\n  button {\r\n    margin-top: ${getSpacing(1)};\r\n    text-transform: uppercase;\r\n\r\n    svg {\r\n      margin-left: ${getSpacing(1)};\r\n    }\r\n  }\r\n`;\r\n\r\nclass ChatComment extends Component {\r\n  submitButtonRef = createRef();\r\n\r\n  inputRef = createRef();\r\n\r\n  state = {\r\n    value: '',\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { value } = this.state;\r\n    const { submit } = this.props;\r\n\r\n    if (value) {\r\n      submit(value);\r\n      this.clearValue();\r\n    }\r\n  }\r\n\r\n  onChange = () => {\r\n    const { value } = this.inputRef.current;\r\n    this.setState({ value });\r\n  }\r\n\r\n  clearValue = () => {\r\n    this.setState({ value: '' });\r\n    this.inputRef.current.focus();\r\n  }\r\n\r\n  onKeyDown = ({ key }) => {\r\n    if (key === 'Escape') {\r\n      this.inputRef.current.blur();\r\n    } else if (key === 'Enter') {\r\n      this.submitButtonRef.current.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const {\r\n      adding,\r\n      avatars: {\r\n        me,\r\n        contact,\r\n      },\r\n    } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <TopProgressLine height=\"1px\" loading={adding} bordered />\r\n        <UserAvatar>\r\n          <ListItemAvatar {...me} />\r\n        </UserAvatar>\r\n        <Form onSubmit={this.onSubmit}>\r\n          <Emoji>\r\n            <MoodIcon fontSize=\"inherit\" color=\"inherit\" />\r\n          </Emoji>\r\n          <FormInput\r\n            inputRef={this.inputRef}\r\n            value={value}\r\n            onChange={this.onChange}\r\n            onKeyDown={this.onKeyDown}\r\n            placeholder=\"Write a message...\"\r\n            multiline\r\n          />\r\n          <Submit>\r\n            <Button\r\n              ref={this.submitButtonRef}\r\n              variant=\"text\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n            >\r\n              {'Send'}\r\n              <SendIcon />\r\n            </Button>\r\n          </Submit>\r\n        </Form>\r\n        <UserAvatar>\r\n          <ListItemAvatar {...contact} />\r\n        </UserAvatar>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nChatComment.propTypes = {\r\n  avatars: PropTypes.shape({\r\n    me: PropTypes.shape(userAvatarProps).isRequired,\r\n    contact: PropTypes.shape(userAvatarProps).isRequired,\r\n  }).isRequired,\r\n  adding: PropTypes.bool.isRequired,\r\n  submit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ChatComment;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst AppRoute = ({\r\n  component: Component,\r\n  layout: Layout,\r\n  privateRoute,\r\n  redirect,\r\n  to,\r\n  ...rest\r\n}) => {\r\n  const render = props => (\r\n    <Layout>\r\n      <Component {...props} />\r\n    </Layout>\r\n  );\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        <Choose>\r\n          <When condition={redirect}>\r\n            <Component to={to} />\r\n          </When>\r\n          <When condition={privateRoute}>\r\n            <PrivateRoute>\r\n              {render(props)}\r\n            </PrivateRoute>\r\n          </When>\r\n          <Otherwise>\r\n            {render(props)}\r\n          </Otherwise>\r\n        </Choose>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nAppRoute.defaultProps = {\r\n  privateRoute: false,\r\n  layout: null,\r\n  redirect: false,\r\n  to: '',\r\n};\r\nAppRoute.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.node, PropTypes.func]).isRequired,\r\n  layout: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  privateRoute: PropTypes.bool,\r\n  redirect: PropTypes.bool,\r\n  to: PropTypes.string,\r\n};\r\n\r\nexport default AppRoute;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation, createQuery } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { chatCreatedUpdate } from './AppLayoutContainer';\r\n\r\nconst {\r\n  SEARCH_USERS,\r\n  CREATE_CHAT,\r\n  GET_MY_CONTACTS,\r\n} = gql;\r\n\r\nconst searchUsers = createQuery('searchUsers', SEARCH_USERS);\r\nconst getMyContacts = createQuery('getMyContacts', GET_MY_CONTACTS);\r\nconst createChat = createMutation('createChat', CREATE_CHAT, {\r\n  update(client, { data }) {\r\n    chatCreatedUpdate(client, data.createChat);\r\n  },\r\n});\r\n\r\nconst SearchDialogContainer = adopt({\r\n  searchUsers,\r\n  getMyContacts,\r\n  createChat,\r\n});\r\n\r\nexport default SearchDialogContainer;\r\n","module.exports = __webpack_public_path__ + \"assets/images/reg-bg__1920_95.jpg\";","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VisibilityIcon from '@material-ui/icons/VisibilityRounded';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOffRounded';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass FormInputPassword extends PureComponent {\r\n  state = {\r\n    showPassword: false,\r\n  }\r\n\r\n  toggleShowPassword = () => {\r\n    this.setState(({ showPassword }) => ({ showPassword: !showPassword }));\r\n  }\r\n\r\n  render() {\r\n    const { showPassword } = this.state;\r\n    const { type, ...rest } = this.props;\r\n    const validType = showPassword ? 'text' : type;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        type={validType}\r\n        endAdornment={(\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={this.toggleShowPassword}>\r\n              <Choose>\r\n                <When condition={showPassword}>\r\n                  <VisibilityIcon />\r\n                </When>\r\n                <Otherwise>\r\n                  <VisibilityOffIcon />\r\n                </Otherwise>\r\n              </Choose>\r\n            </IconButton>\r\n          </InputAdornment>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nFormInputPassword.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FormInputPassword;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst SubmitButton = styled(Button)`\r\n  && {\r\n    position: relative;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst FormSubmit = ({ loading, text }) => (\r\n  <SubmitButton\r\n    type=\"submit\"\r\n    size=\"large\"\r\n    color=\"primary\"\r\n    variant=\"contained\"\r\n    disabled={loading}\r\n    fullWidth\r\n  >\r\n    {text}\r\n  </SubmitButton>\r\n);\r\n\r\nFormSubmit.defaultProps = {\r\n  loading: false,\r\n};\r\nFormSubmit.propTypes = {\r\n  loading: PropTypes.bool,\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FormSubmit;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { set } from 'lodash';\r\n\r\nimport Notification from '../Notification';\r\n\r\nconst withNotification = WrappedComponent => class extends Component {\r\n  state = {\r\n    open: false,\r\n    message: '',\r\n    type: 'error',\r\n  }\r\n\r\n  toggleNotification = (message = '', type = '') => {\r\n    this.setState(({ open }) => {\r\n      const updatedState = {\r\n        open: !open,\r\n      };\r\n\r\n      if (message) {\r\n        set(updatedState, 'message', message);\r\n      }\r\n      if (type) {\r\n        set(updatedState, 'type', type);\r\n      }\r\n      return updatedState;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <WrappedComponent {...this.props} toggleNotification={this.toggleNotification} />\r\n        <Notification {...this.state} toggle={this.toggleNotification} />\r\n      </Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withNotification;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport {\r\n  find, filter, upperCase, isEqual,\r\n} from 'lodash';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport SearchBox from '../../../common/SearchBox';\r\nimport ContactsList from './ContactsList';\r\nimport ContactsFooter from './ContactsFooter';\r\nimport SearchDialog from '../SearchDialog';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\nimport { contactProps, chatProps } from '../../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n    padding: ${getSpacing(2)};\r\n    padding-top: ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nclass ContactPanel extends Component {\r\n  state = {\r\n    searchDialog: false,\r\n    searchValue: '',\r\n    sortedContacts: [],\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchValue } = this.state;\r\n    const { selectedChatId, selectChat, contacts } = this.props;\r\n\r\n    if (!isEqual(prevProps.selectedChatId, selectedChatId)) {\r\n      selectChat({ variables: { chatId: selectedChatId } });\r\n    }\r\n\r\n    if (\r\n      !isEqual(prevState.searchValue, searchValue)\r\n      ||\r\n      !isEqual(prevProps.contacts, contacts)\r\n    ) {\r\n      this.sortContacts(contacts, searchValue);\r\n    }\r\n  }\r\n\r\n  toggleSearchDialog = () => {\r\n    this.setState(({ searchDialog }) => ({ searchDialog: !searchDialog }));\r\n  }\r\n\r\n  onChangeSearchValue = (searchValue) => {\r\n    this.setState({ searchValue });\r\n  }\r\n\r\n  sortContacts = (contacts, searchValue) => {\r\n    const sortedContacts = filter(contacts, ({ userInfo }) => {\r\n      const upperName = upperCase(userInfo.displayName);\r\n      const upperSearchValue = upperCase(searchValue);\r\n\r\n      return upperName.indexOf(upperSearchValue) !== -1;\r\n    });\r\n\r\n    this.setState({ sortedContacts });\r\n  }\r\n\r\n  getLastChatMessage = (chatId) => {\r\n    const { chats } = this.props;\r\n    const chat = find(chats, { id: chatId });\r\n\r\n    if (chat) {\r\n      const { messages } = chat;\r\n\r\n      return messages[messages.length - 1];\r\n    }\r\n    return {};\r\n  }\r\n\r\n  render() {\r\n    const { searchDialog, searchValue, sortedContacts } = this.state;\r\n    const {\r\n      loading,\r\n      myId,\r\n      selectedChatId,\r\n      changeRoute,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Wrapper square elevation={0}>\r\n        <SearchBox value={searchValue} onChange={this.onChangeSearchValue} />\r\n        <ContactsList\r\n          loading={loading}\r\n          data={sortedContacts}\r\n          myId={myId}\r\n          searchValue={searchValue}\r\n          selectedChatId={selectedChatId}\r\n          changeRoute={changeRoute}\r\n          getLastChatMessage={this.getLastChatMessage}\r\n        />\r\n        <ContactsFooter toggleSearchDialog={this.toggleSearchDialog} />\r\n        <SearchDialog open={searchDialog} toggle={this.toggleSearchDialog} />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nContactPanel.defaultProps = {\r\n  myId: null,\r\n  selectedChatId: null,\r\n  contacts: [],\r\n  chats: [],\r\n};\r\nContactPanel.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  myId: PropTypes.string,\r\n  selectedChatId: PropTypes.string,\r\n  contacts: PropTypes.arrayOf(PropTypes.shape(contactProps)),\r\n  chats: PropTypes.arrayOf(PropTypes.shape(chatProps)),\r\n  selectChat: PropTypes.func.isRequired,\r\n  changeRoute: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactPanel;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst InputWrapper = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    padding-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst InputError = styled(FormHelperText)`\r\n  && {\r\n    ${position('absolute', null, 0, '0.5em', 0)}\r\n  }\r\n`;\r\n\r\nconst FormInput = ({\r\n  name,\r\n  type,\r\n  label,\r\n  placeholder,\r\n  required,\r\n  autoComplete,\r\n  error,\r\n  isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  onBlur,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Field name={name} validate={value => validate(value, name)}>\r\n      {({ field }) => (\r\n        <InputWrapper fullWidth>\r\n          <InputLabel shrink={type === 'date' || undefined} htmlFor={name}>{label}</InputLabel>\r\n          <Input\r\n            {...field}\r\n            id={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            required={required}\r\n            autoComplete={autoComplete}\r\n            error={isError}\r\n            onChange={onChange}\r\n            onBlur={(event) => {\r\n              validateField(name);\r\n\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            inputProps={{\r\n              onKeyDown: ({ key, target }) => {\r\n                if (key === 'Escape') {\r\n                  target.blur();\r\n                }\r\n              },\r\n            }}\r\n            {...rest}\r\n          />\r\n          <InputError error={isError}>{error}</InputError>\r\n        </InputWrapper>\r\n      )}\r\n    </Field>\r\n  );\r\n};\r\n\r\nFormInput.defaultProps = {\r\n  label: '',\r\n  placeholder: '',\r\n  error: undefined,\r\n  isError: false,\r\n};\r\nFormInput.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool.isRequired,\r\n  autoComplete: PropTypes.string.isRequired,\r\n  error: PropTypes.string,\r\n  isError: PropTypes.bool,\r\n  validate: PropTypes.func.isRequired,\r\n  validateField: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  onBlur: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default FormInput;\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-SG\": \"zavE\",\n\t\"./en-SG.js\": \"zavE\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { map, find } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport FormInput from './FormInput';\r\nimport FormInputPassword from './FormInputPassword';\r\nimport FormInputRadio from './FormInputRadio';\r\nimport AsyncFormInput from './AsyncFormInput';\r\nimport FormSubmit from './FormSubmit';\r\n\r\nimport {\r\n  formFieldsProps,\r\n  mutationResultProps,\r\n  formAsyncValidationFieldsProps,\r\n} from '../../propTypes';\r\n\r\nconst Wrapper = styled.form`\r\n  width: 100%;\r\n`;\r\n\r\nclass Form extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    const { result, setFieldError } = this.props;\r\n\r\n    if (!prevProps.result.error && result.error) {\r\n      if (result.error.graphQLErrors) {\r\n        const { graphQLErrors } = result.error;\r\n        const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n        if (invalidField) {\r\n          setFieldError(invalidField, message);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  validate = async (value, field) => {\r\n    const { validationSchema, asyncValidationFields } = this.props;\r\n    const asyncValidationField = find(asyncValidationFields, { name: field });\r\n\r\n    try {\r\n      await yup.reach(validationSchema, field).validate(value);\r\n\r\n      if (asyncValidationField) {\r\n        const { validation } = asyncValidationField;\r\n\r\n        await validation.mutation({ variables: { value, field } });\r\n      }\r\n    } catch ({ message, graphQLErrors }) {\r\n      if (graphQLErrors) {\r\n        const { message: graphQlMessage } = graphQLErrors[0];\r\n\r\n        throw graphQlMessage;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields,\r\n      errors,\r\n      touched,\r\n      handleChange,\r\n      handleBlur,\r\n      handleSubmit,\r\n      result,\r\n      submitButtonText,\r\n      validateField,\r\n      asyncValidationFields,\r\n    } = this.props;\r\n    const { loading } = result;\r\n\r\n    return (\r\n      <Wrapper onSubmit={handleSubmit}>\r\n        {\r\n          map(fields, (field) => {\r\n            const {\r\n              name,\r\n              type,\r\n              initialValue,\r\n              ...values\r\n            } = field;\r\n            const error = errors[name];\r\n            const isError = error && touched[name];\r\n            const asyncValidationField = find(asyncValidationFields, { name });\r\n\r\n            return (\r\n              <Choose>\r\n                <When condition={asyncValidationField}>\r\n                  <AsyncFormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    result={asyncValidationField.validation.result}\r\n                    validate={this.validate}\r\n                    validateField={validateField}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'password'}>\r\n                  <FormInputPassword\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    isError={isError}\r\n                    error={error}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'radio'}>\r\n                  <FormInputRadio\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                  />\r\n                </When>\r\n                <Otherwise>\r\n                  <FormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </Otherwise>\r\n              </Choose>\r\n            );\r\n          })\r\n        }\r\n        <FormSubmit loading={loading} text={submitButtonText} />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nForm.defaultProps = {\r\n  errors: {},\r\n  touched: {},\r\n  submitButtonText: 'Submit',\r\n  asyncValidationFields: [],\r\n};\r\nForm.propTypes = {\r\n  fields: PropTypes.arrayOf(PropTypes.shape(formFieldsProps)).isRequired,\r\n  errors: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.object, PropTypes.string])),\r\n  touched: PropTypes.objectOf(PropTypes.bool),\r\n  handleChange: PropTypes.func.isRequired,\r\n  handleBlur: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  setFieldError: PropTypes.func.isRequired,\r\n  result: PropTypes.shape(mutationResultProps).isRequired,\r\n  submitButtonText: PropTypes.string,\r\n  validateField: PropTypes.func.isRequired,\r\n  validationSchema: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  asyncValidationFields: PropTypes.arrayOf(PropTypes.shape(formAsyncValidationFieldsProps)),\r\n};\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: ({ initialValues }) => initialValues,\r\n\r\n  handleSubmit: (form, { props: { mutation } }) => {\r\n    mutation({ variables: { form } });\r\n  },\r\n\r\n  validateOnChange: false,\r\n  validateOnBlur: false,\r\n})(Form);\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const mutationResultProps = {\r\n  called: PropTypes.bool,\r\n  client: PropTypes.objectOf(PropTypes.any),\r\n  data: PropTypes.objectOf(PropTypes.any),\r\n  error: PropTypes.objectOf(PropTypes.any),\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport const mutationProps = {\r\n  mutation: PropTypes.func,\r\n  name: PropTypes.string,\r\n  result: PropTypes.shape(mutationResultProps),\r\n};\r\n\r\nexport const formFieldsProps = {\r\n  name: PropTypes.string,\r\n  label: PropTypes.string,\r\n  type: PropTypes.string,\r\n  autoComplete: PropTypes.oneOf(['on', 'off']),\r\n  required: PropTypes.bool,\r\n  initialValue: PropTypes.string,\r\n};\r\n\r\nexport const formAsyncValidationFieldsProps = {\r\n  name: PropTypes.string,\r\n  validation: PropTypes.shape(mutationProps),\r\n};\r\n\r\nexport const messageProps = {\r\n  content: PropTypes.string,\r\n  edited: PropTypes.bool,\r\n  id: PropTypes.string,\r\n  seen: PropTypes.bool,\r\n  senderId: PropTypes.string,\r\n  time: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n  type: PropTypes.oneOf(['system', 'text']),\r\n  __typename: PropTypes.string,\r\n};\r\n\r\nexport const meProps = {\r\n  id: PropTypes.string,\r\n  avatar: PropTypes.shape({\r\n    sm: PropTypes.string,\r\n    md: PropTypes.string,\r\n  }),\r\n  displayName: PropTypes.string,\r\n  firstName: PropTypes.string,\r\n  lastName: PropTypes.string,\r\n  status: PropTypes.oneOf(['ONLINE', 'OFFLINE']),\r\n  username: PropTypes.string,\r\n};\r\n\r\nexport const chatProps = {\r\n  id: PropTypes.string,\r\n  messages: PropTypes.arrayOf(PropTypes.shape(messageProps)),\r\n};\r\n\r\nexport const userAvatarProps = {\r\n  sm: PropTypes.string,\r\n  md: PropTypes.string,\r\n};\r\n\r\nexport const userInfoProps = {\r\n  avatar: PropTypes.shape(userAvatarProps),\r\n  displayName: PropTypes.string,\r\n  firstName: PropTypes.string,\r\n  lastName: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n  status: PropTypes.string,\r\n  username: PropTypes.string,\r\n  lastDate: PropTypes.string,\r\n  __typename: PropTypes.string,\r\n};\r\n\r\nexport const contactProps = {\r\n  chatId: PropTypes.string,\r\n  id: PropTypes.string,\r\n  userInfo: PropTypes.shape(userInfoProps),\r\n  __typename: PropTypes.string,\r\n};\r\n\r\nexport default undefined;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Facebook = ({ loading, mutation }) => (\r\n  <Social social=\"facebook\" color={blue[900]}>\r\n    <FacebookLogin\r\n      fields=\"first_name,last_name,id,email,gender\"\r\n      appId={process.env.FACEBOOK_APP_ID}\r\n      callback={({\r\n        userID: id,\r\n        email,\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'facebook',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton\r\n          loading={loading}\r\n          onClick={onClick}\r\n          icon={faFacebook}\r\n        />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nFacebook.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  mutation: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Facebook;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nexport default function register() { // Register the service worker\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = 'service-worker.js';\r\n      navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n          registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n              if (installingWorker.state === 'installed') {\r\n                if (navigator.serviceWorker.controller) {\r\n                  // At this point, the old content will have been purged and\r\n                  // the fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in your web app.\r\n                  console.log('New content is available; please refresh.');\r\n                } else {\r\n                  // At this point, everything has been precached.\r\n                  // It's the perfect time to display a\r\n                  // \"Content is cached for offline use.\" message.\r\n                  console.log('Content is cached for offline use.');\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error during service worker registration:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { adopt } from 'react-adopt';\r\nimport { map, concat } from 'lodash';\r\n\r\nimport { createQuery, createMutation, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n// import { icqBeepPlay } from '../../helpers';\r\n\r\nconst {\r\n  GET_ME,\r\n  GET_MY_CHATS,\r\n  GET_CHAT_MESSAGES,\r\n  SELECT_CHAT,\r\n  GET_SELECTED_CHAT,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n} = gql;\r\n\r\nexport const fetchMoreMessagesUpdate = variables => ({\r\n  query: GET_CHAT_MESSAGES,\r\n  variables,\r\n  updateQuery: (prev, { fetchMoreResult }) => {\r\n    const { selectedChat } = prev;\r\n    const { chatMessages } = fetchMoreResult;\r\n    const { chat, ...rest } = selectedChat;\r\n    const { messages } = chat;\r\n\r\n    return {\r\n      selectedChat: {\r\n        ...rest,\r\n        chat: {\r\n          ...chat,\r\n          messages: concat(chatMessages, messages),\r\n        },\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nexport const getAddMessageOptimisticResponse = ({\r\n  chatId,\r\n  myId,\r\n  optimisticId,\r\n  content,\r\n  time,\r\n}) => ({\r\n  __typename: 'Mutation',\r\n  addMessage: {\r\n    chatId,\r\n    optimistic: true,\r\n    optimisticId,\r\n    message: {\r\n      id: optimisticId,\r\n      senderId: myId,\r\n      content,\r\n      time,\r\n      type: 'text',\r\n      seen: false,\r\n      edited: false,\r\n      __typename: 'ChatMessage',\r\n    },\r\n    __typename: 'MessageUpdate',\r\n  },\r\n});\r\n\r\nconst addMessageUpdate = (client, { chatId, message }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n  const updatedMyChats = map(myChats, (chat) => {\r\n    const { id, messages } = chat;\r\n\r\n    if (id === chatId) {\r\n      const newMessages = [...messages, message];\r\n\r\n      return {\r\n        ...chat,\r\n        messages: newMessages,\r\n      };\r\n    }\r\n    return chat;\r\n  });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts,\r\n      myChats: updatedMyChats,\r\n    },\r\n  });\r\n};\r\n\r\nconst getMe = createQuery('getMe', GET_ME);\r\nconst getMyChats = createQuery('getMyChats', GET_MY_CHATS, {\r\n  notifyOnNetworkStatusChange: true,\r\n});\r\nconst addMessage = createMutation('addMessage', ADD_MESSAGE, {\r\n  update(client, { data }) {\r\n    addMessageUpdate(client, data.addMessage);\r\n  },\r\n});\r\nconst messageAddedSubscription = createSubscription('messageAddedSubscription', MESSAGE_ADDED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { messageAdded } } }) {\r\n    addMessageUpdate(client, messageAdded);\r\n    // icqBeepPlay();\r\n  },\r\n});\r\nconst getSelectedChat = createQuery('getSelectedChat', GET_SELECTED_CHAT, {\r\n  notifyOnNetworkStatusChange: true,\r\n});\r\nconst selectChat = createMutation('selectChat', SELECT_CHAT);\r\n\r\nconst ContactsContainer = adopt({\r\n  getMe,\r\n  getMyChats,\r\n  addMessage,\r\n  messageAddedSubscription,\r\n  selectChat,\r\n  getSelectedChat,\r\n});\r\n\r\nexport default ContactsContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\n\r\nimport { getStyledProps, getSpacing } from '../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  margin-bottom: ${getSpacing(1)};\r\n  color: ${getStyledProps('theme.palette.grey.600')};\r\n  background-color: #fff;\r\n  border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')}\r\n`;\r\n\r\nconst IconWrapper = styled.div`\r\n  flex: 0 40px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${getStyledProps('theme.palette.primary.light')};\r\n`;\r\n\r\nconst Input = styled(InputBase)`\r\n  && {\r\n    flex: 1 auto;\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\nconst SearchBox = ({ value, onChange, autoFocus }) => (\r\n  <Wrapper>\r\n    <IconWrapper>\r\n      <SearchIcon />\r\n    </IconWrapper>\r\n    <Input\r\n      type=\"text\"\r\n      value={value}\r\n      onChange={({ target }) => onChange(target.value)}\r\n      placeholder=\"Search...\"\r\n      autoFocus={autoFocus}\r\n    />\r\n  </Wrapper>\r\n);\r\n\r\nSearchBox.defaultProps = {\r\n  autoFocus: false,\r\n};\r\nSearchBox.propTypes = {\r\n  autoFocus: PropTypes.bool,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map, isEmpty, isEqual } from 'lodash';\r\n\r\nimport List from '@material-ui/core/List';\r\n\r\nclass ListItems extends Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    const {\r\n      scrollbar,\r\n      scrollbarPresence,\r\n      loading,\r\n      pointerEvents\r\n    } = this.props;\r\n\r\n    if (\r\n      !isEqual(loading, nextProps.loading)\r\n      ||\r\n      !isEqual(pointerEvents, nextProps.pointerEvents)\r\n      ||\r\n      !isEqual(scrollbar, nextProps.scrollbar)\r\n      ||\r\n      !isEqual(scrollbarPresence, nextProps.scrollbarPresence)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { data, rowRenderer } = this.props;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={isEmpty(data)}>\r\n          {null}\r\n        </When>\r\n        <Otherwise>\r\n          <List disablePadding>\r\n            {map(data, (item, index) => rowRenderer(item, index))}\r\n          </List>\r\n        </Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nListItems.defaultProps = {\r\n  loading: false,\r\n  data: [],\r\n  scrollbar: false,\r\n  scrollbarPresence: false,\r\n  pointerEvents: false,\r\n};\r\nListItems.propTypes = {\r\n  loading: PropTypes.bool,\r\n  data: PropTypes.arrayOf(PropTypes.any),\r\n  rowRenderer: PropTypes.func.isRequired,\r\n  scrollbar: PropTypes.bool,\r\n  scrollbarPresence: PropTypes.bool,\r\n  pointerEvents: PropTypes.bool,\r\n};\r\n\r\nexport default ListItems;\r\n","import auth from './auth';\r\nimport user from './user';\r\nimport chat from './chat';\r\n\r\n\r\nexport default {\r\n  ...auth,\r\n  ...user,\r\n  ...chat,\r\n};\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { includes, isEqual } from 'lodash';\r\n\r\nimport List from '../../../common/List';\r\nimport Message from './Message';\r\n\r\nimport { isSameDay } from '../../../../helpers';\r\n\r\nclass ChatMessages extends Component {\r\n  list = createRef();\r\n\r\n  state = {\r\n    listHeight: 0,\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { listHeight } = this.state;\r\n\r\n    if (!isEqual(listHeight, nextState.listHeight)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      chatId,\r\n      adding,\r\n      messages,\r\n    } = this.props;\r\n\r\n    if (!isEqual(prevProps.chatId, chatId)) {\r\n      this.list.current.scrollToBottom();\r\n    }\r\n\r\n    if (\r\n      isEqual(prevProps.chatId, chatId)\r\n      &&\r\n      !isEqual(prevProps.messages, messages)\r\n    ) {\r\n      if (!adding) {\r\n        this.updateScrollTopAfterFetchMore();\r\n      } else {\r\n        this.list.current.scrollToBottom();\r\n      }\r\n    }\r\n  }\r\n\r\n  onResize = ({ height }) => {\r\n    this.setState({ listHeight: height });\r\n  }\r\n\r\n  updateScrollTopAfterFetchMore = () => {\r\n    const { listHeight } = this.state;\r\n    const scrollTop = this.list.current.getScrollTop();\r\n    const height = this.list.current.getListHeight();\r\n    const diff = height - listHeight;\r\n\r\n    if (scrollTop < diff) {\r\n      const nextScrollTop = diff + scrollTop;\r\n\r\n      this.list.current.setScrollTop(nextScrollTop);\r\n    }\r\n  }\r\n\r\n  rowRenderer = ({\r\n    ref,\r\n    index,\r\n    rowIndex,\r\n    rowData,\r\n  }) => {\r\n    const { messages, optimisticIds, myId } = this.props;\r\n    const {\r\n      id,\r\n      senderId,\r\n      type,\r\n      time,\r\n      content,\r\n    } = rowData;\r\n    const isSystem = type === 'system';\r\n    const isFirst = messages[0].id === id;\r\n    const isMyMessage = senderId === myId;\r\n    const isAdding = includes(optimisticIds, id);\r\n    const direction = isMyMessage ? 'start' : 'end';\r\n    const alignItems = isSystem ? 'center' : `flex-${direction}`;\r\n    let divider = false;\r\n\r\n    if (index > 0) {\r\n      const { time: prevMessageTime } = messages[index - 1];\r\n\r\n      divider = !isSameDay(time, prevMessageTime);\r\n    }\r\n\r\n    return (\r\n      <Message\r\n        ref={ref}\r\n        rowIndex={rowIndex}\r\n        alignItems={alignItems}\r\n        divider={divider}\r\n        time={time}\r\n        content={content}\r\n        isSystem={isSystem}\r\n        isFirst={isFirst}\r\n        isMyMessage={isMyMessage}\r\n        isAdding={isAdding}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      messages,\r\n      getMessages,\r\n    } = this.props;\r\n\r\n    return (\r\n      <List\r\n        ref={this.list}\r\n        loading={loading}\r\n        data={messages}\r\n        fetchMore={getMessages}\r\n        fetchMoreThreshold={5}\r\n        startFrom=\"bottom\"\r\n        rowRenderer={this.rowRenderer}\r\n        onResize={this.onResize}\r\n        lazyLoad\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nChatMessages.defaultProps = {\r\n  chatId: null,\r\n  myId: null,\r\n  messages: [],\r\n  optimisticIds: [],\r\n};\r\nChatMessages.propTypes = {\r\n  chatId: PropTypes.string,\r\n  myId: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  adding: PropTypes.bool.isRequired,\r\n  messages: PropTypes.arrayOf(PropTypes.object),\r\n  getMessages: PropTypes.func.isRequired,\r\n  optimisticIds: PropTypes.arrayOf(PropTypes.string),\r\n};\r\n\r\nexport default ChatMessages;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport InfoIcon from '@material-ui/icons/InfoRounded';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircleRounded';\r\n\r\nconst StepLabelStyled = styled(StepLabel)`\r\n  p {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst RegFormStepper = ({ activeStep, steps }) => (\r\n  <Stepper alternativeLabel activeStep={activeStep}>\r\n    {\r\n      map(steps, (label, index) => {\r\n        const isActive = activeStep === index;\r\n        const isCompleted = index < activeStep;\r\n        const iconColor = (!isCompleted && !isActive)\r\n          ? 'disabled'\r\n          : 'primary';\r\n        const step = index + 1;\r\n\r\n        return (\r\n          <Step\r\n            key={index}\r\n            active={isActive}\r\n            completed={isCompleted}\r\n          >\r\n            <StepLabelStyled\r\n              icon={(\r\n                <Choose>\r\n                  <When condition={isCompleted}>\r\n                    <CheckCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <When condition={step === 1}>\r\n                    <AccountCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <InfoIcon color={iconColor} />\r\n                  </Otherwise>\r\n                </Choose>\r\n              )}\r\n            >\r\n              <span>{`Step ${step}.`}</span>\r\n              <p>{label}</p>\r\n            </StepLabelStyled>\r\n          </Step>\r\n        );\r\n      })\r\n    }\r\n  </Stepper>\r\n);\r\n\r\nexport default RegFormStepper;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport NotificationContent from './NotificationContent';\r\n\r\nclass Notification extends Component {\r\n  onClose = (event, reason) => {\r\n    const { open, toggle } = this.props;\r\n\r\n    if (reason === 'timeout' && !open) {\r\n      return;\r\n    }\r\n    toggle();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      message,\r\n      open,\r\n      toggle,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    return (\r\n      <Snackbar\r\n        open={open}\r\n        onClose={this.onClose}\r\n        anchorOrigin={{\r\n          horizontal: 'right',\r\n          vertical: 'top',\r\n        }}\r\n        TransitionProps={{\r\n          direction: 'left',\r\n        }}\r\n        autoHideDuration={4000}\r\n        {...rest}\r\n      >\r\n        <NotificationContent\r\n          type={type}\r\n          message={message}\r\n          toggle={() => toggle()}\r\n        />\r\n      </Snackbar>\r\n    );\r\n  }\r\n}\r\n\r\nNotification.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  toggle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport gql from '../../gql';\r\nimport { createMutation } from '../../apollo/utils';\r\n\r\nconst {\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n} = gql;\r\n\r\nconst signUpAsyncValidationUsername = createMutation('signUpAsyncValidationUsername', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUpAsyncValidationEmail = createMutation('signUpAsyncValidationEmail', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUp = createMutation('signUp', SIGN_UP);\r\nconst signUpCompletion = createMutation('signUpCompletion', SIGN_UP_COMPLETION);\r\nconst signUpBySocial = createMutation('signUpBySocial', SIGN_UP_BY_SOCIAL);\r\n\r\nconst RegContainer = adopt({\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n});\r\n\r\nexport default RegContainer;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { find } from 'lodash';\r\n\r\nimport List from '../../../common/List';\r\nimport SearchDialogListItem from './SearchDialogListItem';\r\n\r\nimport { getAvatar } from '../../../../helpers';\r\n\r\nclass SearchDialogList extends Component {\r\n  rowRenderer = ({ rowIndex, rowData }) => {\r\n    const {\r\n      loading,\r\n      myContacts,\r\n      adding,\r\n      selectedUserId,\r\n      openConfirmDialog,\r\n    } = this.props;\r\n    const { id, displayName, username } = rowData;\r\n    const isAdding = adding && selectedUserId === id;\r\n    const isAdded = !!find(myContacts, ({ userInfo }) => userInfo.id === id);\r\n    const avatar = getAvatar(rowData);\r\n    const usernameText = `@${username}`;\r\n\r\n    return (\r\n      <SearchDialogListItem\r\n        key={rowIndex}\r\n        displayName={displayName}\r\n        username={usernameText}\r\n        avatar={avatar}\r\n        isAdding={isAdding}\r\n        isAdded={isAdded}\r\n        onClick={() => openConfirmDialog(rowData)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading, data } = this.props;\r\n\r\n    return (\r\n      <List\r\n        loading={loading}\r\n        data={data}\r\n        rowRenderer={this.rowRenderer}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDialogList;\r\n","import { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\nconst cache = new InMemoryCache({\r\n  freezeResults: true,\r\n});\r\n\r\nconst initialState = {\r\n  sessionExpired: false,\r\n  me: {\r\n    __typename: 'User',\r\n  },\r\n  myContacts: [],\r\n  myChats: [],\r\n  selectedChat: {\r\n    contact: {\r\n      __typename: 'MyContact',\r\n    },\r\n    chat: {\r\n      __typename: 'Chat',\r\n    },\r\n    __typename: 'SelectedChat',\r\n  },\r\n};\r\n\r\nexport const initData = () => {\r\n  cache.writeData({ data: initialState });\r\n};\r\ninitData();\r\n\r\nexport default cache;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport MaterialListItem from '@material-ui/core/ListItem';\r\n// import red from '@material-ui/core/colors/red';\r\n\r\nimport ListItemAvatar from '../../../common/List/ListItemAvatar';\r\nimport ListItemInfo from '../../../common/List/ListItemInfo';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst ListItem = styled(({ isSelected, ...rest }) => <MaterialListItem {...rest} />)`\r\n  && {\r\n    padding-right: 60px;\r\n    padding-left: ${getSpacing(1)};\r\n    ${({ isSelected }) => isSelected && `\r\n      background-color: #fff;\r\n      border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')};\r\n    `};\r\n\r\n    &&:hover {\r\n      background-color: #fff;\r\n      border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')};\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SecondaryInfo = styled.div`\r\n  width: 60px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  color: ${getStyledProps('theme.palette.grey.700')};\r\n  padding: 11px;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst Time = styled.span`\r\n  width: 100%;\r\n  font-size: 11px;\r\n  text-align: right;\r\n`;\r\n\r\n// const Badge = styled.div`\r\n//   min-width: 21px;\r\n//   display: flex;\r\n//   justify-content: center;\r\n//   align-items: center;\r\n//   padding: 5px;\r\n//   font-size: 11px;\r\n//   color: #fff;\r\n//   background-color: ${red[500]};\r\n//   border-radius: 50%;\r\n// `;\r\n\r\nconst Contact = ({\r\n  displayName,\r\n  message,\r\n  avatar,\r\n  online,\r\n  time,\r\n  isSelected,\r\n  onSelect,\r\n}) => {\r\n  const { src, text } = avatar;\r\n\r\n  return (\r\n    <ListItem isSelected={isSelected} onClick={onSelect}>\r\n      <ListItemAvatar src={src} text={text} online={online} />\r\n      <ListItemInfo primary={displayName} secondary={message} />\r\n      <SecondaryInfo>\r\n        <Time>{time}</Time>\r\n      </SecondaryInfo>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nContact.propTypes = {\r\n  displayName: PropTypes.string.isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  avatar: PropTypes.shape({\r\n    src: PropTypes.string,\r\n    text: PropTypes.string,\r\n  }).isRequired,\r\n  online: PropTypes.bool.isRequired,\r\n  time: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]).isRequired,\r\n  isSelected: PropTypes.bool.isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Contact;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n\r\nconst { SIGN_IN, SIGN_IN_BY_SOCIAL } = gql;\r\n\r\nconst signIn = createMutation('signIn', SIGN_IN);\r\nconst signInBySocial = createMutation('signInBySocial', SIGN_IN_BY_SOCIAL);\r\n\r\nconst LoginContainer = adopt({\r\n  signIn,\r\n  signInBySocial,\r\n});\r\n\r\nexport default LoginContainer;\r\n","import React, { Component } from 'react';\r\nimport createReactContext from 'create-react-context';\r\n\r\nexport const AppContext = createReactContext({});\r\n\r\nclass AppProvider extends Component {\r\n  state = {}\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <AppContext.Provider\r\n        value={{}}\r\n      >\r\n        {children}\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppProvider;\r\n","import { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloLink, from, split } from 'apollo-link';\r\nimport { onError } from 'apollo-link-error';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\r\nimport { isEmpty } from 'lodash';\r\n\r\nimport storage from '../storage';\r\nimport client from './index';\r\n\r\nconsole.log('client');\r\nconsole.log(process.env.APOLLO_URL);\r\nconsole.log(process.env.WS_URL);\r\n\r\nconst httpLink = createUploadLink({\r\n  uri: process.env.APOLLO_URL,\r\n});\r\nconst wsClient = new SubscriptionClient(process.env.WS_URL, {\r\n  reconnect: true,\r\n});\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options, next) => {\r\n    options.tokens = storage.getTokens();\r\n    next();\r\n  },\r\n};\r\n\r\nconst wsLink = new WebSocketLink(wsClient);\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst networkLink = split(\r\n  ({ query }) => {\r\n    const { kind, operation } = getMainDefinition(query);\r\n    return kind === 'OperationDefinition' && operation === 'subscription';\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst authLink = new ApolloLink((operation, forward) => {\r\n  operation.setContext({\r\n    headers: {\r\n      'x-token': storage.token.get(),\r\n      'x-refresh-token': storage.refreshToken.get(),\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\nconst tokenLink = new ApolloLink((operation, forward) => forward(operation).map((response) => {\r\n  const context = operation.getContext();\r\n\r\n  if ('response' in context) {\r\n    const { response: { headers } } = context;\r\n\r\n    if (headers) {\r\n      const token = headers.get('x-token');\r\n      const refreshToken = headers.get('x-refresh-token');\r\n\r\n      if (token && refreshToken) {\r\n        storage.setTokens(token, refreshToken);\r\n      }\r\n    }\r\n  }\r\n  return response;\r\n}));\r\n\r\nconst errorLink = onError(({ networkError = {}, graphQLErrors }) => {\r\n  if (networkError.statusCode === 401) {\r\n    storage.removeTokens();\r\n    client.writeData({ data: { sessionExpired: true } });\r\n  }\r\n  if (!isEmpty(networkError)) {\r\n    console.log(networkError);\r\n  }\r\n  if (!isEmpty(graphQLErrors)) {\r\n    console.log(graphQLErrors);\r\n  }\r\n});\r\n\r\nconst logger = new ApolloLink((operation, forward) => {\r\n  const { operationName } = operation;\r\n  console.log(`log operation: ${operationName}`, operation);\r\n  return forward(operation).map((response) => {\r\n    console.log(`log operation result ${operationName}:`, response);\r\n    return response;\r\n  });\r\n});\r\n\r\nconst link = from([\r\n  authLink,\r\n  tokenLink,\r\n  logger,\r\n  errorLink,\r\n  networkLink,\r\n]);\r\n\r\nexport default link;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/AddRounded';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst ListPanelFooter = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: ${getSpacing(1)} 0;\r\n`;\r\n\r\nconst ContactPanelFooter = ({ toggleSearchDialog }) => {\r\n  return (\r\n    <ListPanelFooter>\r\n      <Fab color=\"primary\" size=\"medium\" onClick={toggleSearchDialog}>\r\n        <AddIcon />\r\n      </Fab>\r\n    </ListPanelFooter>\r\n  );\r\n};\r\n\r\nContactPanelFooter.propTypes = {\r\n  toggleSearchDialog: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactPanelFooter;\r\n","import Notification from './Notification';\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst Wrapper = styled.div`\r\n  ${({ height, bordered }) => position('absolute', `${bordered ? `-${height}` : 0}`, 0, null, 0)}\r\n  height: ${({ height }) => height};\r\n  overflow: hidden;\r\n`;\r\n\r\nconst LinearProgressStyled = styled(LinearProgress)`\r\n  && {\r\n    height: ${({ height }) => height};\r\n  }\r\n`;\r\n\r\nconst TopProgressLine = ({ height, loading, bordered }) => (\r\n  <Wrapper height={height} bordered={bordered}>\r\n    <If condition={loading}>\r\n      <LinearProgressStyled height={height} color=\"primary\" />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nTopProgressLine.defaultProps = {\r\n  bordered: false,\r\n  height: '2px',\r\n};\r\nTopProgressLine.propTypes = {\r\n  height: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  bordered: PropTypes.bool,\r\n};\r\n\r\nexport default TopProgressLine;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport RegContainer from '../../containers/RegContainer';\r\nimport RegForm from './RegForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport { checkToken } from '../../../router/PrivateRoute';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/reg-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    activeStep: 0,\r\n    completed: false,\r\n  }\r\n\r\n  steps = [\r\n    'Create your account',\r\n    'Tell us about yourself',\r\n  ];\r\n\r\n  async componentDidMount() {\r\n    const { location: { search }, history } = this.props;\r\n    const { token } = queryString.parse(search);\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, true);\r\n\r\n        if (regStatus) {\r\n          this.setActiveStep(1);\r\n        } else {\r\n          history.push('/reg');\r\n        }\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    if (token && refreshToken) {\r\n      const { history } = this.props;\r\n\r\n      storage.setTokens(token, refreshToken);\r\n      history.push('/');\r\n    } else {\r\n      this.setState({ completed: true });\r\n    }\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message } = graphQLErrors[0];\r\n\r\n      toggleNotification(message);\r\n    }\r\n  }\r\n\r\n  setActiveStep = (step) => {\r\n    this.setState(() => ({ activeStep: step }));\r\n  }\r\n\r\n  render() {\r\n    const { activeStep, completed } = this.state;\r\n\r\n    return (\r\n      <RegContainer\r\n        signUpProps={{\r\n          onCompleted: ({ signUp }) => this.handleSuccess(signUp),\r\n        }}\r\n        signUpCompletionProps={{\r\n          onCompleted: ({ signUpCompletion }) => this.handleSuccess(signUpCompletion),\r\n        }}\r\n        signUpBySocialProps={{\r\n          onCompleted: ({ signUpBySocial }) => this.handleSuccess(signUpBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({\r\n          signUpAsyncValidationUsername,\r\n          signUpAsyncValidationEmail,\r\n          signUp,\r\n          signUpCompletion,\r\n          signUpBySocial,\r\n        }) => (\r\n          <Wrapper\r\n            ref={this.createRef}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <RegForm\r\n              steps={this.steps}\r\n              activeStep={activeStep}\r\n              completed={completed}\r\n              signUpAsyncValidationUsername={signUpAsyncValidationUsername}\r\n              signUpAsyncValidationEmail={signUpAsyncValidationEmail}\r\n              signUp={signUp}\r\n              signUpCompletion={signUpCompletion}\r\n              signUpBySocial={signUpBySocial}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </RegContainer>\r\n    );\r\n  }\r\n}\r\n\r\nSignUp.propTypes = {\r\n  location: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  toggleNotification: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withNotification(SignUp);\r\n","// import {} from 'lodash';\r\n\r\nconst createTokenMethods = name => ({\r\n  name,\r\n  set(token) {\r\n    localStorage.setItem(this.name, token);\r\n  },\r\n  get() {\r\n    return localStorage.getItem(this.name) || '';\r\n  },\r\n  remove() {\r\n    localStorage.removeItem(this.name);\r\n  },\r\n});\r\n\r\nexport default {\r\n  token: createTokenMethods('chatkilla_tkn'),\r\n  refreshToken: createTokenMethods('chatkilla_rfrsh_tkn'),\r\n  setTokens(token, refreshToken) {\r\n    this.token.set(token);\r\n    this.refreshToken.set(refreshToken);\r\n  },\r\n  getTokens() {\r\n    const token = this.token.get();\r\n    const refreshToken = this.refreshToken.get();\r\n\r\n    return { token, refreshToken };\r\n  },\r\n  removeTokens() {\r\n    this.token.remove();\r\n    this.refreshToken.remove();\r\n  },\r\n};\r\n","import gql from 'graphql-tag';\r\n\r\nexport const authPayloadFragment = gql`\r\n  fragment tokens on AuthPayload {\r\n    token\r\n    refreshToken\r\n  }\r\n`;\r\n\r\nexport const myFragment = gql`\r\n  fragment myData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n  }\r\n`;\r\n\r\nexport const userInfoFragment = gql`\r\n  fragment userInfoData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n    lastDate\r\n  }\r\n`;\r\n\r\nexport const myContactFragment = gql`\r\n  fragment myContactData on MyContact {\r\n    id\r\n    chatId\r\n    userInfo {\r\n      ...userInfoData\r\n    }\r\n  }\r\n  ${userInfoFragment}\r\n`;\r\n\r\nexport const messageFragment = gql`\r\n  fragment messageData on ChatMessage {\r\n    id\r\n    senderId\r\n    type\r\n    content\r\n    time\r\n    edited\r\n    seen\r\n  }\r\n`;\r\n\r\nexport const myChatFragment = gql`\r\n  fragment myChatData on Chat {\r\n    id\r\n    messages {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const myContactActivityFragment = gql`\r\n  fragment contactActivity on MyContact {\r\n    userInfo {\r\n      id\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport importedComponent from 'react-imported-component';\r\n\r\nimport Login from '../components/pages/Login/Login';\r\nimport Reg from '../components/pages/Reg/Reg';\r\nimport Chats from '../components/pages/Chats/Chats';\r\nimport NotFound from '../components/common/NotFound';\r\nimport PageLoader from '../components/common/PageLoader';\r\n\r\nimport AppRoute from './AppRoute';\r\n\r\nconst LoginLayout = importedComponent(() => import('../components/layouts/LoginLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst AppLayout = importedComponent(() => import('../components/layouts/AppLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst NotFoundLayout = importedComponent(() => import('../components/layouts/NotFoundLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <AppRoute path=\"/login\" layout={LoginLayout} component={Login} />\r\n    <AppRoute path=\"/reg\" layout={LoginLayout} component={Reg} />\r\n    <AppRoute exact path=\"/\" component={Redirect} to=\"/chats\" redirect />\r\n    <AppRoute path=\"/chats\" layout={AppLayout} component={Chats} privateRoute />\r\n    <AppRoute path=\"*\" layout={NotFoundLayout} component={NotFound} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React, { forwardRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport MaterialListItem from '@material-ui/core/ListItem';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport blue from '@material-ui/core/colors/blue';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\nimport { messageTimeParser, messageHistoryDateParser } from '../../../../helpers';\r\n\r\nconst ListItem = styled(MaterialListItem)`\r\n  && {\r\n    padding-top: ${getSpacing(1)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: ${({ alignItems }) => alignItems};\r\n`;\r\n\r\nconst HistoryDivider = styled.div`\r\n  width: 100%;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: ${getSpacing(1)} 0;\r\n\r\n  p {\r\n    height: 1px;\r\n    flex: 1 auto;\r\n    display: inline-flex;\r\n    background-color: ${grey[500]};\r\n    border-radius: 2px;\r\n  }\r\n\r\n  span {\r\n  padding: 0 ${getSpacing(2)};\r\n    color: ${grey[500]};\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  max-width: 49%;\r\n  padding: ${getSpacing(1)};\r\n  ${({ isMyMessage }) => ({\r\n    [`border-bottom-${isMyMessage ? 'left' : 'right'}-radius`]: 0,\r\n  })};\r\n  background-color: ${({ isMyMessage }) => (isMyMessage ? grey[100] : blue[100])};\r\n  border-radius: 5px;\r\n  opacity: ${({ isAdding }) => (isAdding ? 0.3 : 1)};\r\n  word-break: break-all;\r\n  ${getStyledProps('theme.typography.body2')};\r\n\r\n  &:hover {\r\n    cursor: text;\r\n  }\r\n`;\r\n\r\nconst SystemMessage = styled.div`\r\n  padding: ${getSpacing(1)};\r\n  color: ${grey[500]};\r\n  background-color: ${grey[100]};\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n\r\n  span {\r\n  ${getStyledProps('theme.typography.caption')};\r\n  color: ${getStyledProps('theme.palette.text.secondary')};\r\n  }\r\n`;\r\n\r\nconst Message = forwardRef((props, ref) => {\r\n  const {\r\n    rowIndex,\r\n    alignItems,\r\n    isFirst,\r\n    isSystem,\r\n    isMyMessage,\r\n    isAdding,\r\n    divider,\r\n    time,\r\n    content,\r\n  } = props;\r\n\r\n  return (\r\n    <ListItem ref={ref} row-index={rowIndex}>\r\n      <Wrapper alignItems={alignItems}>\r\n        <If condition={isFirst || divider}>\r\n          <HistoryDivider>\r\n            <p />\r\n            <span>{messageHistoryDateParser(time)}</span>\r\n            <p />\r\n          </HistoryDivider>\r\n        </If>\r\n        <Choose>\r\n          <When condition={isSystem}>\r\n            <SystemMessage>\r\n              <p>{content}</p>\r\n            </SystemMessage>\r\n          </When>\r\n          <Otherwise>\r\n            <Content\r\n              isMyMessage={isMyMessage}\r\n              isAdding={isAdding}\r\n            >\r\n              {content}\r\n            </Content>\r\n            <Time>\r\n              <span>{messageTimeParser(time, 'wide')}</span>\r\n            </Time>\r\n          </Otherwise>\r\n        </Choose>\r\n      </Wrapper>\r\n    </ListItem>\r\n  );\r\n});\r\n\r\nMessage.propTypes = {\r\n  rowIndex: PropTypes.number.isRequired,\r\n  alignItems: PropTypes.string.isRequired,\r\n  isFirst: PropTypes.bool.isRequired,\r\n  isSystem: PropTypes.bool.isRequired,\r\n  isMyMessage: PropTypes.bool.isRequired,\r\n  isAdding: PropTypes.bool.isRequired,\r\n  divider: PropTypes.bool.isRequired,\r\n  time: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]).isRequired,\r\n  content: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst NotificationClose = ({ toggle }) => (\r\n  <IconButton\r\n    key=\"close\"\r\n    aria-label=\"Close\"\r\n    color=\"inherit\"\r\n    onClick={toggle}\r\n  >\r\n    <CloseIcon />\r\n  </IconButton>\r\n);\r\n\r\nNotificationClose.propTypes = {\r\n  toggle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default NotificationClose;\r\n","import React, { Fragment } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from 'styled-components';\r\n\r\nimport AppProvider from './context/AppProvider';\r\nimport Router from '../router';\r\nimport { GlobalStyle, theme } from '../styles';\r\n\r\nconst App = () => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ThemeProvider theme={theme}>\r\n        <AppProvider>\r\n          <Fragment>\r\n            <GlobalStyle />\r\n            <Router />\r\n          </Fragment>\r\n        </AppProvider>\r\n      </ThemeProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default hot(module)(App);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport RegFormStepper from './RegFormStepper';\r\n\r\nimport TopProgressLine from '../../common/TopProgressLine';\r\n\r\nimport { getSpacing } from '../../../styles';\r\nimport { mutationProps } from '../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    position: relative;\r\n    padding: ${getSpacing(4)} ${getSpacing(3)};\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst Info = styled(Typography)`\r\n  && {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst Footer = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    margin-top: ${getSpacing(2)};\r\n  }\r\n`;\r\n\r\nconst SignUp = ({\r\n  steps,\r\n  activeStep,\r\n  completed,\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <TopProgressLine loading={signUp.result.loading || signUpCompletion.result.loading} />\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <RegFormStepper activeStep={activeStep} steps={steps} />\r\n      </Header>\r\n      <Choose>\r\n        <When condition={completed}>\r\n          <Info>\r\n            {'Your account had been successfuly completed.Check your email and confirm registration.'}\r\n          </Info>\r\n        </When>\r\n        <When condition={activeStep === 0}>\r\n          <Form\r\n            {...formConfig('signUpStepOne')}\r\n            mutation={signUp.mutation}\r\n            result={signUp.result}\r\n            submitButtonText=\"Confirm\"\r\n            asyncValidationFields={[{\r\n              name: 'username',\r\n              validation: signUpAsyncValidationUsername,\r\n            }, {\r\n              name: 'email',\r\n              validation: signUpAsyncValidationEmail,\r\n            }]}\r\n          />\r\n          <SocialMedia\r\n            mutation={signUpBySocial.mutation}\r\n            result={signUpBySocial.result}\r\n            note=\"Sign Up with social media:\"\r\n          />\r\n        </When>\r\n        <When condition={activeStep === 1}>\r\n          <Form\r\n            {...formConfig('signUpStepTwo')}\r\n            mutation={signUpCompletion.mutation}\r\n            result={signUpCompletion.result}\r\n            submitButtonText=\"Confirm\"\r\n          />\r\n        </When>\r\n        <Otherwise>\r\n          {null}\r\n        </Otherwise>\r\n      </Choose>\r\n      <Footer align=\"center\">\r\n        <Link to=\"/login\">I already have a account</Link>\r\n      </Footer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nSignUp.propTypes = {\r\n  steps: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  activeStep: PropTypes.number.isRequired,\r\n  completed: PropTypes.bool.isRequired,\r\n  signUpAsyncValidationUsername: PropTypes.shape(mutationProps).isRequired,\r\n  signUpAsyncValidationEmail: PropTypes.shape(mutationProps).isRequired,\r\n  signUp: PropTypes.shape(mutationProps).isRequired,\r\n  signUpCompletion: PropTypes.shape(mutationProps).isRequired,\r\n  signUpBySocial: PropTypes.shape(mutationProps).isRequired,\r\n};\r\n\r\nexport default SignUp;\r\n","import { ApolloClient } from 'apollo-client';\r\n\r\nimport link from './link';\r\nimport cache, { initData } from './cache';\r\nimport resolvers from './resolvers';\r\n\r\nconst client = new ApolloClient({\r\n  link,\r\n  cache,\r\n  resolvers,\r\n  credentials: 'include',\r\n  assumeImmutableResults: true,\r\n});\r\n\r\nclient.onResetStore(initData);\r\n\r\nexport default client;\r\n","import Contacts from './Contacts';\r\n\r\nexport default Contacts;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfiedRounded';\r\n\r\nconst Wrapper = styled.div`\r\n  ${size('100%')}\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n`;\r\n\r\nconst ContentIcon = styled.div`\r\n  width: 100%;\r\n  font-size: 7em;\r\n`;\r\n\r\nconst NotFound = () => (\r\n  <Wrapper>\r\n    <Content>\r\n      <ContentIcon>\r\n        <SentimentDissatisfiedIcon color=\"primary\" fontSize=\"inherit\" />\r\n      </ContentIcon>\r\n      <Typography variant=\"h4\">\r\n        Sorry, but page not found...\r\n      </Typography>\r\n    </Content>\r\n  </Wrapper>\r\n);\r\n\r\nexport default NotFound;\r\n","import React, { PureComponent, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport MaterialDialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport SearchDialogContainer from '../../../containers/SearchDialogContainer';\r\nimport SearchBox from '../../../common/SearchBox';\r\nimport SearchDialogList from './SearchDialogList';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst SubTitle = styled(Typography)`\r\n  && {\r\n    padding: 0 ${getSpacing(3)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst DialogContent = styled(MaterialDialogContent)`\r\n  && {\r\n    height: 300px;\r\n    display: flex;\r\n    flex-flow: column;\r\n  }\r\n`;\r\n\r\nclass SearchDialog extends PureComponent {\r\n  state = {\r\n    searchValue: '',\r\n    confirmDialog: false,\r\n    selectedUser: {},\r\n  }\r\n\r\n  onChangeSearchValue = (value, refetch) => {\r\n    this.setState(\r\n      () => ({ searchValue: value }),\r\n      () => {\r\n        refetch();\r\n      },\r\n    );\r\n  }\r\n\r\n  openConfirmDialog = (user = {}) => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n      selectedUser: user,\r\n    }));\r\n  }\r\n\r\n  closeConfirmDialog = () => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { searchValue, confirmDialog, selectedUser } = this.state;\r\n    const { open, toggle } = this.props;\r\n\r\n    return (\r\n      <SearchDialogContainer\r\n        searchUsersProps={{\r\n          variables: { searchValue },\r\n          skip: !searchValue,\r\n        }}\r\n      >\r\n        {({\r\n          searchUsers: { loading, data, refetch },\r\n          createChat: { mutation: createChat, result: { loading: adding } },\r\n          getMyContacts: { data: { myContacts } },\r\n        }) => {\r\n          return (\r\n            <Fragment>\r\n              <Dialog open={open} onClose={toggle} scroll=\"body\">\r\n                <DialogTitle>\r\n                  Search contact\r\n                </DialogTitle>\r\n                <SubTitle variant=\"subtitle2\">\r\n                  Search contact by name or use &quot;@&quot; as a first character for searching by username.\r\n                </SubTitle>\r\n                <DialogContent>\r\n                  <SearchBox\r\n                    value={searchValue}\r\n                    onChange={value => this.onChangeSearchValue(value, refetch)}\r\n                    autoFocus\r\n                  />\r\n                  <SearchDialogList\r\n                    loading={loading}\r\n                    data={data && data.searchUsers}\r\n                    myContacts={myContacts}\r\n                    adding={adding}\r\n                    selectedUserId={selectedUser.id}\r\n                    openConfirmDialog={this.openConfirmDialog}\r\n                  />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button onClick={toggle} color=\"primary\">Close</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n              <If condition={confirmDialog}>\r\n                <Dialog open={confirmDialog} onClose={toggle}>\r\n                  <DialogTitle>{`Create chat with ${selectedUser.displayName}?`}</DialogTitle>\r\n                  <DialogActions>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      onClick={this.closeConfirmDialog}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        createChat({ variables: { userId: selectedUser.id } });\r\n                        this.closeConfirmDialog();\r\n                      }}\r\n                    >\r\n                      Confirm\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </If>\r\n            </Fragment>\r\n          );\r\n        }}\r\n      </SearchDialogContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDialog;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport registerSW from './registerSW';\r\n\r\nimport App from './components/App';\r\n\r\nimport apollo from './apollo';\r\nimport history from './router/history';\r\n\r\nconst renderApp = (Component) => {\r\n  render(\r\n    <ApolloProvider client={apollo}>\r\n      <Router history={history}>\r\n        <Component />\r\n      </Router>\r\n    </ApolloProvider>, document.getElementById('root'),\r\n  );\r\n};\r\n\r\nrenderApp(App);\r\nregisterSW();\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\n// import { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AvatarIndicator = styled.span`\r\n  ${position('absolute', null, '2px', '2px', null)};\r\n  ${size('10px')};\r\n  display: block;\r\n  background-color: ${green[500]};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ListItemAvatar = ({\r\n  online,\r\n  src,\r\n  alt,\r\n  text,\r\n}) => (\r\n  <Wrapper>\r\n    <Choose>\r\n      <When condition={src}>\r\n        <Avatar src={src} alt={alt || text} />\r\n      </When>\r\n      <Otherwise>\r\n        <Avatar>{text}</Avatar>\r\n      </Otherwise>\r\n    </Choose>\r\n    <If condition={online}>\r\n      <AvatarIndicator />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nListItemAvatar.defaultProps = {\r\n  online: false,\r\n  src: '',\r\n  alt: '',\r\n  text: '',\r\n};\r\nListItemAvatar.propTypes = {\r\n  online: PropTypes.bool,\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  text: PropTypes.string,\r\n};\r\n\r\nexport default ListItemAvatar;\r\n","import List, { NoContentWrapper } from './List';\r\n\r\nexport {\r\n  NoContentWrapper,\r\n};\r\n\r\nexport default List;\r\n","import { transform, forEach, set } from 'lodash';\r\nimport * as yup from 'yup';\r\n\r\nexport const formFields = {\r\n  signIn: [{\r\n    name: 'username',\r\n    label: 'User Name / Email Address',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepOne: [{\r\n    name: 'username',\r\n    label: 'User Name',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'email',\r\n    label: 'Email Address',\r\n    type: 'email',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepTwo: [{\r\n    name: 'firstName',\r\n    label: 'First Name',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'lastName',\r\n    label: 'Last name',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'gender',\r\n    label: 'Gender',\r\n    type: 'radio',\r\n    autoComplete: 'off',\r\n    required: true,\r\n    initialValue: 'Male',\r\n    values: ['Male', 'Female', 'Other'],\r\n  }, {\r\n    name: 'birthday',\r\n    label: 'Birthday',\r\n    type: 'date',\r\n    autoComplete: 'off',\r\n    required: false,\r\n    initialValue: '',\r\n  }],\r\n};\r\n\r\nexport const formValidationSchemas = {\r\n  signIn: yup.object().shape(transform(formFields.signIn, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepOne: yup.object().shape(transform(formFields.signUpStepOne, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'email': {\r\n        res[name] = yup.string().email().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepTwo: yup.object().shape(transform(formFields.signUpStepTwo, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'firstName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'lastName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'gender': {\r\n        res[name] = yup.string();\r\n        break;\r\n      }\r\n      case 'birthday': {\r\n        res[name] = yup.date().typeError('');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n};\r\n\r\nexport const formInitialValues = transform(formFields, (res, values, formName) => {\r\n  res[formName] = {};\r\n\r\n  forEach(values, ({ name, initialValue }) => {\r\n    set(res[formName], name, initialValue);\r\n  });\r\n}, {});\r\n\r\n\r\nexport default formId => ({\r\n  fields: formFields[formId],\r\n  validationSchema: formValidationSchemas[formId],\r\n  initialValues: formInitialValues[formId],\r\n});\r\n","import SearchDialog from './SearchDialog';\r\n\r\nexport default SearchDialog;\r\n","import { upperCase, isEmpty } from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport icqBeep from '../assets/audio/icqBeep';\r\n\r\nexport const getAvatar = (user = {}, size = 'sm') => {\r\n  let src = '';\r\n  let text = '';\r\n\r\n  if (!isEmpty(user)) {\r\n    const { avatar, firstName, lastName } = user;\r\n    let firstLater = '';\r\n    let lastLater = '';\r\n\r\n    if (avatar && avatar[size]) {\r\n      src = avatar[size];\r\n    }\r\n\r\n    if (firstName) {\r\n      firstLater = upperCase(firstName[0]);\r\n    }\r\n    if (lastName) {\r\n      lastLater = upperCase(lastName[0]);\r\n    }\r\n    text = `${firstLater}${lastLater}`;\r\n  }\r\n\r\n  return {\r\n    src,\r\n    text,\r\n  };\r\n};\r\n\r\nexport const historyDateParser = date => moment(date).format('dddd, MMMM D, YYYY');\r\n\r\nconst shortMessageTimeParser = date => moment(date).calendar(null, {\r\n  sameDay: 'HH:mm',\r\n  lastDay: 'ddd',\r\n  lastWeek: 'ddd',\r\n  sameElse: 'DD/MM/YY',\r\n});\r\n\r\nexport const messageTimeParser = (time, variant = 'short') => {\r\n  if (variant === 'wide') {\r\n    return moment(time).format('HH:mm:ss');\r\n  }\r\n  return shortMessageTimeParser(time);\r\n};\r\n\r\nexport const userLastDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[today at] HH:mm',\r\n  lastDay: '[yesterday at] HH:mm',\r\n  lastWeek: '[last] dddd [at] HH:mm',\r\n  sameElse: 'DD/MM/YYYY',\r\n});\r\n\r\nconst messageHistoryDateFormat = 'dddd, MMMM D, YYYY';\r\n\r\nexport const messageHistoryDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[Today]',\r\n  lastDay: '[Yesterday]',\r\n  lastWeek: messageHistoryDateFormat,\r\n  sameElse: messageHistoryDateFormat,\r\n});\r\n\r\nexport const isSameDay = (date, referenceDate) => {\r\n  const a = moment(date);\r\n  const b = moment(referenceDate);\r\n  const diff = a.isSame(b, 'days');\r\n\r\n  return diff;\r\n};\r\n\r\nexport const icqBeepPlay = () => icqBeep.play();\r\n"],"sourceRoot":""}