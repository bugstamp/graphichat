{"version":3,"sources":["webpack:///./src/components/common/SocialMedia/Google.js","webpack:///./src/router/PrivateRoute.js","webpack:///./src/components/common/ContactPanel/ContactPanelItem.js","webpack:///./src/gql/chat.js","webpack:///./src/components/smart/AppLayoutContainer.js","webpack:///./src/gql/auth.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/assets/audio/icqBeep.js","webpack:///./src/components/smart/LoginContainer.js","webpack:///./src/components/common/Form/AsyncFormInput.js","webpack:///./src/components/common/TopLineProgress.js","webpack:///./src/components/common/ContactPanel/SearchDialogListItem.js","webpack:///./src/components/dumb/Reg/RegFormStepper.js","webpack:///./src/components/common/ContactPanel/AppList/ListItemInfo.js","webpack:///./src/components/common/PageLoader.js","webpack:///./src/assets/images/login-bg__1920_95.jpg","webpack:///./src/gql/user.js","webpack:///./src/components/common/SocialMedia/Social.js","webpack:///./src/components/common/SocialMedia/SocialButton.js","webpack:///./src/components/common/Form/FormInputRadio.js","webpack:///./src/apollo/utils.js","webpack:///./src/styles/index.js","webpack:///./src/components/common/ContactPanel/ContactPanelFooter.js","webpack:///./src/components/common/SocialMedia/SocialMedia.js","webpack:///./src/components/smart/SearchDialogContainer.js","webpack:///./src/router/AppRoute.js","webpack:///./src/router/history.js","webpack:///./src/assets/images/reg-bg__1920_95.jpg","webpack:///./src/components/dumb/Chats/Chats.js","webpack:///./src/components/common/Form/FormInputPassword.js","webpack:///./src/components/common/Form/FormSubmit.js","webpack:///./src/components/common/HOC/withNotification.js","webpack:///./src/components/common/Form/FormInput.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/common/Form/Form.js","webpack:///./src/components/dumb/Reg/RegForm.js","webpack:///./src/components/common/SocialMedia/Facebook.js","webpack:///./src/components/common/ContactPanel/ContactPanel.js","webpack:///./src/components/common/MessagePanel/MessagePanelMessages.js","webpack:///./src/components/common/ContactPanel/AppList/ListSearch.js","webpack:///./src/components/smart/RegContainer.js","webpack:///./src/gql/index.js","webpack:///./src/components/common/MessagePanel/MessagePanelComment.js","webpack:///./src/components/common/ContactPanel/AppList/ListItemAvatar.js","webpack:///./src/components/smart/ChatsContainer.js","webpack:///./src/apollo/cache.js","webpack:///./src/components/context/AppProvider.js","webpack:///./src/components/common/ContactPanel/AppList/ListItem.js","webpack:///./src/apollo/link.js","webpack:///./src/components/common/Notification.js","webpack:///./src/components/common/MessagePanel/MessagePanelTopBar.js","webpack:///./src/storage/index.js","webpack:///./src/components/common/ContactPanel/AppList/List.js","webpack:///./src/gql/fragments.js","webpack:///./src/router/index.js","webpack:///./src/components/dumb/Login/LoginForm.js","webpack:///./src/components/dumb/Login/Login.js","webpack:///./src/components/common/ContactPanel/SearchDialog.js","webpack:///./src/components/App.js","webpack:///./src/apollo/index.js","webpack:///./src/components/dumb/Reg/Reg.js","webpack:///./src/components/common/NotFound.js","webpack:///./src/index.js","webpack:///./src/components/common/Form/formConfig.js","webpack:///./src/components/common/MessagePanel/MessagePanel.js","webpack:///./src/helpers/index.js"],"names":["Google","loading","mutation","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Social__WEBPACK_IMPORTED_MODULE_4__","social","color","red","react_google_login__WEBPACK_IMPORTED_MODULE_1___default","scope","clientId","process","onSuccess","profileObj","googleId","id","email","givenName","firstName","familyName","lastName","variables","name","profile","render","onClick","_SocialButton__WEBPACK_IMPORTED_MODULE_5__","icon","faGoogle","__webpack_exports__","tokenSecrets","token","refresh","checkToken","async","set","secretType","Error","secret","data","regStatus","jwt","verify","storage","e","PrivateRoute","Component","[object Object]","args","super","this","state","auth","status","get","setState","children","props","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","to","key","code","eval","propTypes","PropTypes","oneOfType","element","node","isRequired","ContactListItem","styled","isSelected","rest","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_3__","withConfig","displayName","componentId","getSpacing","background-color","border-radius","getStyledProps","ContactItemSecondary","div","position","ContactItemTime","span","ContactItemBadge","ContactPanelItem","myId","contact","message","onSelect","avatar","avatarText","getAvatarInitials","online","senderId","content","time","secondary","_AppList_ListItemAvatar__WEBPACK_IMPORTED_MODULE_5__","src","sm","text","_AppList_ListItemInfo__WEBPACK_IMPORTED_MODULE_6__","primary","messageTimeParser","CREATE_CHAT","gql","myContactFragment","myChatFragment","CHAT_CREATED_SUBSCRIPTION","GET_CHAT_MESSAGES","messageFragment","ADD_MESSAGE","MESSAGE_ADDED_SUBSCRIPTION","GET_ME","GET_INITIAL_DATA","SIGN_OUT","GET_MY_CHATS","GET_MY_CONTACTS","CHECK_SESSION_EXPIRATION","USER_ACTIVITY_SUBSCRIPTION","USER_UPDATE_SUBSCRIPTION","UPLOAD_AVATAR","chatCreatedUpdate","client","chat","myContacts","myChats","readQuery","query","writeQuery","lodash_concat__WEBPACK_IMPORTED_MODULE_3___default","getInitialData","createQuery","checkSessionExpiration","chatCreatedSubscription","createSubscription","onSubscriptionData","subscriptionData","chatCreated","userActivitySubscription","userActivityUpdated","userId","lastDate","contactId","lodash_find__WEBPACK_IMPORTED_MODULE_2___default","userInfo","fragment","myContactActivityFragment","readFragment","writeFragment","signOut","createMutation","uploadAvatar","update","me","lodash_set__WEBPACK_IMPORTED_MODULE_1___default","userUpdateSubscription","userUpdated","updatedContacts","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","AppLayoutContainer","adopt","SIGN_IN","authPayloadFragment","SIGN_IN_BY_SOCIAL","SIGN_UP_ASYNC_VALIDATION","SIGN_UP","SIGN_UP_COMPLETION","SIGN_UP_BY_SOCIAL","register","navigator","window","addEventListener","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","unregister","ready","icqBeep","Audio","signIn","signInBySocial","LoginContainer","AsyncFormInput","PureComponent","asyncValid","setAsyncValid","valid","componentDidUpdate","prevProps","result","react__WEBPACK_IMPORTED_MODULE_1___default","_FormInput__WEBPACK_IMPORTED_MODULE_5__","_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","endAdornment","_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_4__","size","_material_ui_icons_CheckRounded__WEBPACK_IMPORTED_MODULE_3___default","Wrapper","height","bordered","LinearProgressStyled","LinearProgress","TopLineProgress","defaultProps","string","bool","SearchDialogListItem","item","openConfirmDialog","adding","added","username","_AppList_ListItem__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_1__","variant","disabled","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_2__","_material_ui_icons_DoneRounded__WEBPACK_IMPORTED_MODULE_3___default","StepLabelStyled","StepLabel","RegFormStepper","activeStep","steps","_material_ui_core_Stepper__WEBPACK_IMPORTED_MODULE_4__","alternativeLabel","label","index","isActive","isCompleted","iconColor","step","_material_ui_core_Step__WEBPACK_IMPORTED_MODULE_5__","active","completed","_material_ui_icons_CheckCircleRounded__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_InfoRounded__WEBPACK_IMPORTED_MODULE_8___default","ListItemTextStyled","ListItemText","ellipsis","ListItemInfo","PageLoader","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","module","exports","__webpack_require__","p","myFragment","SEARCH_USERS","userInfoFragment","SocialWrapper","Button","rgba","Social","Fab","SocialButton","component","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__","RadioFormControlStyled","FormControl","RadioGroupStyled","RadioGroup","FormInputRadio","values","initialValue","validate","validateField","onChange","react__WEBPACK_IMPORTED_MODULE_2___default","formik__WEBPACK_IMPORTED_MODULE_4__","value","field","fullWidth","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_9__","shrink","event","lodash_map__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_8__","control","_material_ui_core_Radio__WEBPACK_IMPORTED_MODULE_5__","gqlMutation","mutationProps","containerProps","mutationContainerPropsKey","mutationContainerProps","lodash_has__WEBPACK_IMPORTED_MODULE_1___default","lodash_get__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_3___default","react_apollo__WEBPACK_IMPORTED_MODULE_4__","gqlQuery","queryProps","queryContainerPropsKey","queryContainerProps","gqlSubscription","subscriptionProps","subscriptionContainerPropsKey","subscriptionContainerProps","subscription","path","unit","lodash_get__WEBPACK_IMPORTED_MODULE_0___default","num","spacingFunc","theme","createMuiTheme","typography","useNextVariants","GlobalStyle","createGlobalStyle","reset","ListPanelFooter","ContactPanelFooter","toggleSearchDialog","_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_2__","_material_ui_icons_AddRounded__WEBPACK_IMPORTED_MODULE_3___default","SocialMediaWrapper","SocialMediaNote","SocialMedia","note","_Facebook__WEBPACK_IMPORTED_MODULE_2__","_Google__WEBPACK_IMPORTED_MODULE_3__","searchUsers","getMyContacts","createChat","SearchDialogContainer","AppRoute","layout","Layout","privateRoute","redirect","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","_PrivateRoute__WEBPACK_IMPORTED_MODULE_4__","func","object","createBrowserHistory","Paper","InfoPanel","Chats","selected","sendedIds","checkRoute","location","search","chatId","queryString","parse","selectChat","changeRoute","history","push","updateSendedIds","optimisticId","action","newSendedIds","lodash_concat__WEBPACK_IMPORTED_MODULE_1___default","lodash_filter__WEBPACK_IMPORTED_MODULE_0___default","componentDidMount","lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_5___default","_context_AppProvider__WEBPACK_IMPORTED_MODULE_14__","Consumer","user","fetching","_smart_ChatsContainer__WEBPACK_IMPORTED_MODULE_17__","messageAddedSubscriptionProps","addMessageProps","onCompleted","addMessage","getMyChats","fetchMore","fetchMoreMessages","selectedContact","selectedChat","square","elevation","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_10__","container","spacing","xs","lg","_common_ContactPanel_ContactPanel__WEBPACK_IMPORTED_MODULE_15__","contacts","chats","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_12__","xsDown","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_4___default","_common_MessagePanel_MessagePanel__WEBPACK_IMPORTED_MODULE_16__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_13__","mdDown","withRouter","FormInputPassword","showPassword","toggleShowPassword","type","validType","_FormInput__WEBPACK_IMPORTED_MODULE_7__","_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4__","_material_ui_icons_VisibilityRounded__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_icons_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_6___default","SubmitButton","FormSubmit","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_3__","withNotification","WrappedComponent","_temp","open","toggleNotification","updatedState","react__WEBPACK_IMPORTED_MODULE_2__","_Notification__WEBPACK_IMPORTED_MODULE_3__","toggle","InputWrapper","InputError","FormHelperText","FormInput","placeholder","required","autoComplete","isError","onBlur","formik__WEBPACK_IMPORTED_MODULE_3__","undefined","htmlFor","_material_ui_core_Input__WEBPACK_IMPORTED_MODULE_8__","inputProps","onKeyDown","target","blur","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","keys","Object","resolve","FormWrapper","form","Form","validationSchema","asyncValidationFields","asyncValidationField","lodash_find__WEBPACK_IMPORTED_MODULE_1___default","yup","validation","graphQLErrors","graphQlMessage","setFieldError","invalidField","fields","errors","touched","handleChange","handleBlur","handleSubmit","submitButtonText","onSubmit","lodash_map__WEBPACK_IMPORTED_MODULE_2___default","_AsyncFormInput__WEBPACK_IMPORTED_MODULE_11__","_FormInputPassword__WEBPACK_IMPORTED_MODULE_9__","_FormInputRadio__WEBPACK_IMPORTED_MODULE_10__","_FormInput__WEBPACK_IMPORTED_MODULE_8__","_FormSubmit__WEBPACK_IMPORTED_MODULE_12__","withFormik","mapPropsToValues","initialValues","validateOnChange","validateOnBlur","Header","Typography","Footer","SignUp","signUpAsyncValidationUsername","signUpAsyncValidationEmail","signUp","signUpCompletion","signUpBySocial","align","gutterBottom","_RegFormStepper__WEBPACK_IMPORTED_MODULE_9__","_common_Form_Form__WEBPACK_IMPORTED_MODULE_6__","formConfig","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_8__","Facebook","blue","react_facebook_login_dist_facebook_login_render_props__WEBPACK_IMPORTED_MODULE_1___default","appId","callback","userID","first_name","last_name","faFacebook","NoContactInfo","ContactPanel","searchDialog","searchValue","onChangeSearchValue","sortContacts","lodash_filter__WEBPACK_IMPORTED_MODULE_2___default","upperName","lodash_upperCase__WEBPACK_IMPORTED_MODULE_1___default","upperSearchValue","_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default","call","sortedContacts","react__WEBPACK_IMPORTED_MODULE_6___default","_AppList_ListSearch__WEBPACK_IMPORTED_MODULE_12__","_AppList_List__WEBPACK_IMPORTED_MODULE_13__","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_11__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10__","lodash_map__WEBPACK_IMPORTED_MODULE_5___default","messages","lodash_find__WEBPACK_IMPORTED_MODULE_3___default","_ContactPanelItem__WEBPACK_IMPORTED_MODULE_14__","length","_ContactPanelFooter__WEBPACK_IMPORTED_MODULE_15__","_SearchDialog__WEBPACK_IMPORTED_MODULE_16__","MessagePanelListView","MessagePanelList","scrollbarPresence","_material_ui_core_List__WEBPACK_IMPORTED_MODULE_8__","MessagePanelListItem","ListItem","MessagePanelListItemMessageWrapper","alignItems","ListScrollbar","presence","show","MessagePanelHistoryDivider","grey","MessagePanelMessage","isMyMessage","isAdding","MessagePanelSystemMessage","MessagePanelMessageTime","MessagePanelLoading","appeared","MessagePanelMessages","listRef","createRef","listViewRef","scrollbarThumbRef","dragging","scrollbar","observableId","listHeight","onScroll","calculateScrollbarPosition","toggleScrollbar","scrollTop","current","getBoundingClientRect","listViewHeight","thumbHeight","scrollbarHeight","thumbPosition","style","Math","max","bottom","onResize","width","listViewRect","setScrollbarPresence","onIntersectionChange","inView","getMessages","setObservableId","scrollToBottom","scrollHeight","updateScrollTop","diff","onMouseDown","preventDefault","clientY","initialClientY","top","onMouseMove","listRect","scrollThumbRectHeight","currentMouseOffset","ratioPercent","validScrollTop","onMouseUp","document","removeEventListener","shouldComponentUpdate","nextProps","nextState","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default","prevState","fetchSize","fetchHorizon","currentSize","validFetchHorizon","onMouseEnter","onMouseLeave","_material_ui_core_RootRef__WEBPACK_IMPORTED_MODULE_11__","rootRef","onDragStart","onMouseOver","disablePadding","react_resize_detector__WEBPACK_IMPORTED_MODULE_4__","handleHeight","react__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_10__","isSystem","isFirst","lodash_includes__WEBPACK_IMPORTED_MODULE_1___default","divider","prevMessageTime","isSameDay","react_intersection_observer__WEBPACK_IMPORTED_MODULE_5__","ref","messageHistoryDateParser","renderMessages","SearchIconWrapper","SearchInput","InputBase","ListSearch","autoFocus","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_4___default","RegContainer","MessagePanelCommentAvatar","MessagePanelCommentForm","MessagePanelCommentInput","Input","MessagePanelCommentSmiles","orange","MessagePanelCommentSubmit","MessagePanelComment","submitButtonRef","inputRef","submit","clear","focus","click","avatars","_TopLineProgress__WEBPACK_IMPORTED_MODULE_11__","_ContactPanel_AppList_ListItemAvatar__WEBPACK_IMPORTED_MODULE_10__","_material_ui_icons_MoodRounded__WEBPACK_IMPORTED_MODULE_5___default","fontSize","multiline","_material_ui_core_RootRef__WEBPACK_IMPORTED_MODULE_7__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_4__","_material_ui_icons_SendRounded__WEBPACK_IMPORTED_MODULE_6___default","AvatarIndicator","green","ListItemAvatar","alt","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_4__","addMessageUpdate","updatedMyChats","newMessages","notifyOnNetworkStatusChange","messageAddedSubscription","messageAdded","ContactsContainer","cache","InMemoryCache","freezeResults","initialState","sessionExpired","__typename","initData","writeData","AppContext","createReactContext","AppProvider","setUser","setFetching","Provider","ListItemStyled","AppListItem","httpLink","createUploadLink","uri","wsClient","SubscriptionClient","reconnect","subscriptionMiddleware","applyMiddleware","options","next","tokens","getTokens","wsLink","WebSocketLink","subscriptionClient","use","networkLink","split","kind","operation","getMainDefinition","authLink","ApolloLink","forward","setContext","headers","x-token","x-refresh-token","refreshToken","tokenLink","_context","_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default","response","context","getContext","setTokens","errorLink","onError","networkError","statusCode","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default","logger","_context2","operationName","link","from","NotificationMessageIcon","_material_ui_icons_Error__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_6___default","NotificationMessageWrapper","NotificationContentWrapper","SnackbarContent","amber","NotificationMessage","NotificationClose","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_5__","aria-label","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_8___default","NotificationContent","aria-describedby","Notification","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_3__","onClose","reason","anchorOrigin","horizontal","vertical","autoHideDuration","TransitionProps","direction","MessagePanelTopBarName","MessagePanelTopBarStatus","MessagePanelTopBar","statusText","isOnline","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__","_material_ui_icons_SettingsRounded__WEBPACK_IMPORTED_MODULE_3___default","createTokenMethods","localStorage","setItem","getItem","remove","removeItem","removeTokens","ListStyled","List","AppList","LoginLayout","importedComponent","bind","LoadingComponent","AppLayout","Promise","all","NotFoundLayout","Routes","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_AppRoute__WEBPACK_IMPORTED_MODULE_9__","Login","Reg","exact","Redirect","NotFound","SignUpButton","LoginForm","toSignUp","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_5___default","_common_Form_Form__WEBPACK_IMPORTED_MODULE_7__","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_9__","Grid","backgrounds","bgImage","handleSuccess","handleError","_smart_LoginContainer__WEBPACK_IMPORTED_MODULE_4__","signInProps","signInBySocialProps","justify","_LoginForm__WEBPACK_IMPORTED_MODULE_5__","ListWrapper","SubTitle","ProgressWrapper","SearchDialog","confirmDialog","selectedUser","refetch","closeConfirmDialog","_smart_SearchDialogContainer__WEBPACK_IMPORTED_MODULE_11__","searchUsersProps","skip","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_5__","scroll","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_7__","lodash_find__WEBPACK_IMPORTED_MODULE_0___default","_SearchDialogListItem__WEBPACK_IMPORTED_MODULE_14__","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9__","App","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","_context_AppProvider__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_0__","_styles__WEBPACK_IMPORTED_MODULE_6__","_router__WEBPACK_IMPORTED_MODULE_5__","hot","ApolloClient","resolvers","credentials","assumeImmutableResults","onResetStore","setActiveStep","_smart_RegContainer__WEBPACK_IMPORTED_MODULE_5__","signUpProps","signUpCompletionProps","signUpBySocialProps","_RegForm__WEBPACK_IMPORTED_MODULE_6__","Content","ContentIcon","_material_ui_icons_SentimentDissatisfiedRounded__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","renderApp","react_apollo__WEBPACK_IMPORTED_MODULE_3__","apollo","getElementById","registerServiceWorker","formFields","signUpStepOne","signUpStepTwo","formValidationSchemas","shape","lodash_transform__WEBPACK_IMPORTED_MODULE_2___default","res","min","typeError","formInitialValues","formName","lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default","lodash_set__WEBPACK_IMPORTED_MODULE_0___default","formId","WrapperPaper","MessagePanel","Date","uuid","optimisticResponse","optimistic","seen","edited","updateQuery","prev","fetchMoreResult","chatMessages","updatedChats","updatedMessages","lodash_concat__WEBPACK_IMPORTED_MODULE_0___default","lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default","userLastDateParser","myAvatarText","contactAvatarText","_MessagePanelTopBar__WEBPACK_IMPORTED_MODULE_7__","_MessagePanelMessages__WEBPACK_IMPORTED_MODULE_8__","_MessagePanelComment__WEBPACK_IMPORTED_MODULE_9__","firstLater","lodash_upperCase__WEBPACK_IMPORTED_MODULE_2___default","historyDateParser","date","moment","format","shortMessageTimeParser","calendar","sameDay","lastDay","lastWeek","sameElse","referenceDate","b","isSame","icqBeepPlay","play","getBase64","file","_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_0___default","rej","reader","FileReader","readAsDataURL","onload","onerror"],"mappings":"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OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,QAAA,O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","file":"app.1c6cb16d08b0489ba80a.js","sourcesContent":["import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Google = ({ loading, mutation }) => (\r\n  <Social social=\"google\" color={red[500]}>\r\n    <GoogleLogin\r\n      scope=\"email profile\"\r\n      clientId={process.env.GOOGLE_APP_ID}\r\n      onSuccess={({\r\n        profileObj: {\r\n          googleId: id,\r\n          email,\r\n          givenName: firstName,\r\n          familyName: lastName,\r\n        },\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'google',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faGoogle} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Google;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nimport storage from '../storage';\r\n\r\nconst tokenSecrets = {\r\n  token: process.env.TOKEN_SECRET,\r\n  refresh: process.env.REFRESH_TOKEN_SECRET,\r\n};\r\n\r\nexport const checkToken = async (token, set = false, secretType = 'token') => {\r\n  try {\r\n    if (!token) {\r\n      throw new Error('Token wasn\\'t found');\r\n    }\r\n    const secret = tokenSecrets[secretType];\r\n    const { data: { regStatus } } = await jwt.verify(token, secret);\r\n\r\n    if (set) {\r\n      storage.token.set(token);\r\n    }\r\n    return { regStatus };\r\n  } catch (e) {\r\n    return { regStatus: '' };\r\n  }\r\n};\r\n\r\nclass PrivateRoute extends Component {\r\n  state = {\r\n    render: false,\r\n    auth: false,\r\n    status: '',\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const token = storage.token.get();\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, false);\r\n\r\n        this.setState({\r\n          render: true,\r\n          auth: true,\r\n          status: regStatus,\r\n        });\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    } else {\r\n      this.setState({\r\n        render: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { render, auth, status } = this.state;\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={render}>\r\n          <Choose>\r\n            <When condition={!auth}>\r\n              <Redirect to=\"login\" />\r\n            </When>\r\n            <When condition={auth && status === 'UNCOMPLETED'}>\r\n              <Redirect to={`reg?token=${storage.token.get()}`} />\r\n            </When>\r\n            <Otherwise>\r\n              {children}\r\n            </Otherwise>\r\n          </Choose>\r\n        </When>\r\n        <Otherwise>{null}</Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport AppListItemAvatar from './AppList/ListItemAvatar';\r\nimport AppListItemInfo from './AppList/ListItemInfo';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\nimport { getAvatarInitials, messageTimeParser } from '../../../helpers';\r\n\r\nconst ContactListItem = styled(({ isSelected, ...rest }) => <ListItem {...rest} />)`\r\n  && {\r\n    padding-right: 60px;\r\n    padding-left: ${getSpacing(1)};\r\n    ${({ isSelected }) => isSelected && ({\r\n      'background-color': '#fff',\r\n      'border-radius': getStyledProps('theme.shape.borderRadius', 'px'),\r\n    })};\r\n\r\n    &&:hover {\r\n      background-color: #fff;\r\n      border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')};\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ContactItemSecondary = styled.div`\r\n  width: 60px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  color: ${getStyledProps('theme.palette.grey.700')};\r\n  padding: 11px;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst ContactItemTime = styled.span`\r\n  width: 100%;\r\n  font-size: 11px;\r\n  text-align: right;\r\n`;\r\n\r\nconst ContactItemBadge = styled.div`\r\n  min-width: 21px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 5px;\r\n  font-size: 11px;\r\n  color: #fff;\r\n  background-color: ${red[500]};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ContactPanelItem = ({\r\n  myId,\r\n  contact,\r\n  message,\r\n  onSelect,\r\n  isSelected,\r\n}) => {\r\n  const { avatar, displayName, status } = contact;\r\n  const avatarText = getAvatarInitials(contact);\r\n  const online = status === 'ONLINE';\r\n  const { senderId, content, time } = message;\r\n  const isMyMessage = senderId === myId;\r\n  const secondary = isMyMessage\r\n    ? `You: ${content}`\r\n    : content;\r\n\r\n  return (\r\n    <ContactListItem isSelected={isSelected} onClick={onSelect}>\r\n      <AppListItemAvatar src={avatar && avatar.sm} text={avatarText} online={online} />\r\n      <AppListItemInfo primary={displayName} secondary={secondary} />\r\n      <ContactItemSecondary>\r\n        <ContactItemTime>{messageTimeParser(time)}</ContactItemTime>\r\n        {/* <ContactItemBadge>{}</ContactItemBadge> */}\r\n      </ContactItemSecondary>\r\n    </ContactListItem>\r\n  );\r\n};\r\n\r\nexport default ContactPanelItem;\r\n","import gql from 'graphql-tag';\r\n\r\nimport { myContactFragment, myChatFragment, messageFragment } from './fragments';\r\n\r\nexport const CREATE_CHAT = gql`\r\n  mutation CreateChat($userId: ID!) {\r\n    createChat(userId: $userId) {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const CHAT_CREATED_SUBSCRIPTION = gql`\r\n  subscription onChatCreated {\r\n    chatCreated {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\n\r\nexport const GET_CHAT_MESSAGES = gql`\r\n  query ChatMessages($chatId: String!, $skip: Int!) {\r\n    chatMessages(chatId: $chatId, skip: $skip) {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const ADD_MESSAGE = gql`\r\n  mutation AddMessage($chatId: String!, $content: String!, $time: DateTime!, $optimisticId: String!) {\r\n    addMessage(chatId: $chatId, content: $content, time: $time, optimisticId: $optimisticId) {\r\n      chatId\r\n      optimistic\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const MESSAGE_ADDED_SUBSCRIPTION = gql`\r\n  subscription onMessageAdded {\r\n    messageAdded {\r\n      chatId\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport default {\r\n  CREATE_CHAT,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  GET_CHAT_MESSAGES,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n};\r\n","import { adopt } from 'react-adopt';\r\nimport {\r\n  concat, find, set, map,\r\n} from 'lodash';\r\n\r\nimport { createMutation, createQuery, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { myContactActivityFragment } from '../../gql/fragments';\r\n\r\nconst {\r\n  GET_ME,\r\n  GET_INITIAL_DATA,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  SIGN_OUT,\r\n  GET_MY_CHATS,\r\n  GET_MY_CONTACTS,\r\n  CHECK_SESSION_EXPIRATION,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  USER_UPDATE_SUBSCRIPTION,\r\n  UPLOAD_AVATAR,\r\n} = gql;\r\n\r\nexport const chatCreatedUpdate = (client, { contact, chat }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts: concat(myContacts, contact),\r\n      myChats: concat(myChats, chat),\r\n    },\r\n  });\r\n};\r\n\r\nconst getInitialData = createQuery('getInitialData', GET_INITIAL_DATA);\r\nconst checkSessionExpiration = createQuery('checkSessionExpiration', CHECK_SESSION_EXPIRATION);\r\nconst chatCreatedSubscription = createSubscription('chatCreatedSubscription', CHAT_CREATED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { chatCreated } } }) {\r\n    chatCreatedUpdate(client, chatCreated);\r\n  },\r\n});\r\nconst userActivitySubscription = createSubscription('userActivitySubscription', USER_ACTIVITY_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userActivityUpdated } } }) {\r\n    const { userId, status, lastDate } = userActivityUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const { id: contactId } = find(myContacts, ({ userInfo: { id: userId } }));\r\n\r\n    const fragment = myContactActivityFragment;\r\n    const id = `MyContact:${contactId}`;\r\n    const { userInfo, ...rest } = client.readFragment({ fragment, id });\r\n\r\n    client.writeFragment({\r\n      fragment,\r\n      id,\r\n      data: {\r\n        userInfo: {\r\n          ...userInfo,\r\n          status,\r\n          lastDate,\r\n        },\r\n        ...rest,\r\n      },\r\n    });\r\n  },\r\n});\r\nconst signOut = createMutation('signOut', SIGN_OUT);\r\nconst uploadAvatar = createMutation('uploadAvatar', UPLOAD_AVATAR, {\r\n  update(client, { data: { uploadAvatar: avatar } }) {\r\n    const { me } = client.readQuery({ query: GET_ME });\r\n    set(me, 'avatar', avatar);\r\n\r\n    client.writeQuery({\r\n      query: GET_ME,\r\n      data: { me },\r\n    });\r\n  },\r\n});\r\nconst userUpdateSubscription = createSubscription('userUpdateSubscription', USER_UPDATE_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userUpdated } } }) {\r\n    const { id: userId } = userUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const updatedContacts = map(myContacts, (contact) => {\r\n      const { userInfo: { id } } = contact;\r\n\r\n      if (id === userId) {\r\n        return { ...contact, userInfo: userUpdated };\r\n      }\r\n      return contact;\r\n    });\r\n\r\n    client.writeQuery({ myContacts: updatedContacts });\r\n  },\r\n});\r\n\r\nconst AppLayoutContainer = adopt({\r\n  chatCreatedSubscription,\r\n  userActivitySubscription,\r\n  getInitialData,\r\n  checkSessionExpiration,\r\n  signOut,\r\n  uploadAvatar,\r\n  userUpdateSubscription,\r\n});\r\n\r\nexport default AppLayoutContainer;\r\n","import gql from 'graphql-tag';\r\n\r\nimport { authPayloadFragment } from './fragments';\r\n\r\nconst SIGN_IN = gql`\r\n  mutation SignIn($form: SignInForm!) {\r\n    signIn(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_IN_BY_SOCIAL = gql`\r\n  mutation SignInBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signInBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_ASYNC_VALIDATION = gql`\r\n  mutation SignUpAsyncValidation($field: String!, $value: String!) {\r\n    signUpAsyncValidation(field: $field, value: $value) {\r\n      field\r\n      valid\r\n    }\r\n  }\r\n`;\r\n\r\nconst SIGN_UP = gql`\r\n  mutation SignUp($form: SignUpForm!) {\r\n    signUp(form: $form)\r\n  }\r\n`;\r\n\r\nconst SIGN_UP_COMPLETION = gql`\r\n  mutation SignUpCompletion($form: SignUpCompletionForm!) {\r\n    signUpCompletion(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_BY_SOCIAL = gql`\r\n  mutation SignUpBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signUpBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_OUT = gql`\r\n  mutation SignOut {\r\n    signOut\r\n  }\r\n`;\r\n\r\nconst CHECK_SESSION_EXPIRATION = gql`\r\n  {\r\n    sessionExpired @client\r\n  }\r\n`;\r\n\r\nexport default {\r\n  SIGN_IN,\r\n  SIGN_IN_BY_SOCIAL,\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n  SIGN_OUT,\r\n  CHECK_SESSION_EXPIRATION,\r\n};\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nexport default function register() { // Register the service worker\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = 'service-worker.js';\r\n      navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n          registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n              if (installingWorker.state === 'installed') {\r\n                if (navigator.serviceWorker.controller) {\r\n                  // At this point, the old content will have been purged and\r\n                  // the fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in your web app.\r\n                  console.log('New content is available; please refresh.');\r\n                } else {\r\n                  // At this point, everything has been precached.\r\n                  // It's the perfect time to display a\r\n                  // \"Content is cached for offline use.\" message.\r\n                  console.log('Content is cached for offline use.');\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error during service worker registration:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const icqBeep = new Audio('data:audio/mp3;base64,SUQzAwAAAAAfdlRDT04AAAAFAAAAKDEyKVBSSVYAAAAOAABQZWFrVmFsdWUAIQAAAFBSSVYAAAARAABBdmVyYWdlTGV2ZWwAewQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/+1DAAAALrT8uGQmAAXYmbDeYsAHxOoNx+LGIh4NiCH+JCFr34A2AByBs/+I3BsfIcOD/w1QL0QDBsWGof/hfQCwBAckxRyCf/5mam6BoQwiH//4nQfxkw6cYwdgfQUGf///8hw3hcYgmQIZAZAmyuboa0AAAAIAtPgAraKJ9jzhkGiKbwn5MIJkAWBwQDx3maBJPm7c5V9s67v2TT/qvh/D7ZUzT2V3cUzuYr9W2Nf3P/98S+KfU8dff7fqpdalzr90j05WKdD+Z1aNbhynk//tQwAABC3yRXyLhh4FkIW0+nzAAqBAAAAIDDGvcYSpYbAr+3q0QizIRBodwydpLEYxKGdKPoBAERrk9s92WozdffsmbrTXGIIZrQ6JyxLCupkJ4HkFmXNl5DB8THyooFDtDuEH7QIGKzBu5bwgmzycYoAgJBUnBqyMiPvfEBOg6jwr858AqAgqOKtzibl4wE+m/6JUJ9/pEOKb0VsoxLpLE+6t1JGxa9tEyb9RfMG/oJv1VqRd6N1mKSHrafLiHpGKJuclqo07qMpiCmotVVf/7UMAAAAstL2h4+QABgKUrf57QAQAAAAAkWANfWNYKBSEaFY+GboMyIY2xOQBkKoNg1QKkVjEXExkKVlkYTsRm5faoq5QPzg9ko9RLn2lA/UnorltU/m1fMdXVr1Hvq+pGr6vWupJWa/9T/7JGyRAAAAAAAAAFwTWLH25wfBE5AT0bF3bbK9E4CFALYcxmUTQxLo4wPESo/dlZOIX2UslUW6lykk621GA9CEbJV2WSZQe2pSBeZv1f12/rUl/MzVta9I492t1PutZehUK/xMX/+1DAAAALJSlb54h0SXIl6zaesABpYAAAAABJLT4K2sdtpf3Q0FNB1vNL6FeANQYyd1GviOaKPQy/X4or/z6R5MwJXLyKqAPPrVSIy/Zqip2/55lrVIj//zP5QoWDhlIwzak5NSUq+h+gENH73e2ABAAUSdk4EorFYciGSfC6QnW9Ur2tEgBJnbfbrgeSb9Xz/Uzsr4fVtqueHUyGtmPfse2M9d9VEOp99VMTHENbVw/qbbdV82fqHyxGba6XzzM7r6fDqmodDeEpWmIKaiqq//tQwAAAC60XTtj1gAF0pWinnmABAAFZBFWWARijJooiOqzolsNGFbKmsYF5AaGA0jKLL4Pj6dvuFD01MxL4bErNiJ4la9nalOmottKy3ffXVu+Z5qGsmZfcVDmcnYr6uft9XD2cNqte5+W1/ax52s+xB0AAIABAXKdZXm30GFjWL7vLGpHChAY9rKkqTtY/na+XHjKdt+M8RGLmjC+c9q09BvnztkPsXvvMxf1u7O+qaz3io+2zwrMl585SBxdGvdy5NVYrqjYtnnS9PXPqSv/7UMAAAAupK0eU8YAJZSaq9wwwADZ0kQAAAGChkRCGNTNHsyzYgaez53QhQcNRMxelDRoRZHoUkhPlkAKwpIrtBh6YQDfiNY9VYRIqjlT2ifylhoTxyamDVzJwyGKRtwSBjFyMQUGB7IzC2oNgYrCAFkAUgpAAEKJEkhIEAAgcbxnDdofOpj5d4bGBs5MMPEBIrceOMHVXNcz7qQQoyMRipd2RZT3iaoyk5FXI8zmf5XV8Y05yMQL5w7cWVZ9G/wWZn/+Jc4ggOf/+tMQU1Fr/+1DAAAALpRttWLWACXCd7UMw0ACEAAADWAQDxWS2gCuuvNCQ0ejzGY7xHACJhwdJobBgw0obTViTzzHzb97rTdvffy+Jtt2d2MZFVT7l+hXF/02ObPxT/dDO/+P3TETzF/E/V8313czU/utbKn/1oyFzX75764uN7UZtMuKlVLQxwI8uI2YCAEQDNWIGmYDlI5oFAbIG0zOFCaLNVF5A6ZSpaJATGs+odHGigWIFy5wdDMcbsZDYgPjJt9Z5A9TsUEk2W//p1eqfWn/9BdMq//tQwAABi3EBbf2GgAFbJSz9lQpoiwAAAAAAAAFOHls0uH5Vm/s61+4zAoPe92R5E2E+AnxkOqovDiJF/SNjRvMTf0kh2pPqSOlAvu6Slkikh1mJcTfrNXb0lL/s1FFSbf793ZdSRieabEUzNxU2euewAABfDZs5XEP1dHA3nz/W7j4iDZoHc+0VdI0MgnOmVQJQK/yMk+VFD9zxAgX/QJQNZukhC5L+hEIok71EN0Qx3+5PmBf3PUtAIKLVLMYOf631oKCT5dMQU1FMy45Mav/7UMAAAYsxC2HtNPMBaJ+r9agqYEsAAAAAAAAAKiDtT8V/lpQRAnN3a31oBMPhWrb5chW1VBQXSZqVYyCmdl8ikbVxcS2rYXnatcngnRpUtYXEii6uCP1EYt+OfoRb6P+r+qCgk566igO7d4V57cAAB8ObutX1uOEiCGrHKf6kcMpYVruYTcJsO0ECpPxNeQ8ntesjzX50rtpaA0kt1R1iDXQQeRgTiFZNSMF8a51yAQJb0IDW+QP+n9X9WFpyMAHV24YCBFjRKmIKai1VVVX/+1DAAAELTLtWAunlAVwk63WmijgM8z6mfGpsRyAqWo/4EgHepl+HXfn8gn4y0HT13noCPrWv5Ymf9Z0kZ9eusbJXG1/4CQAVVTeT5sQFVf7+smgtbzCzipLmbNN+7FFe8uSeieqFg6Wix6WGum1TgAEAAJ8OZjT2N4RMygdm8rldnKMhVcdsKq69Ur09cQEWyutIeZ9O2s9+c/jKU1VQsx4exgE6d6sfSB+J8h2mJQb5W60QJmyt84wRLpBHQmi+mpxw4rIpiCmopmXHJiqq//tQwAABCxknWU008UlwISr1lp5h4AABAAAvh7f/eFeAAK0fyklmVPKAaRPSYXvGKkvlsyECHtvUOR171Hr+cb1qDhRWklj6KyCSXAiRolkCW/VgY/MKiWYn2/Qj139z0J7nO5jVSjb01G7RWqDgAAAAAuIO/OtvT4mH2/OUKwjrYBTs+kHJ3OU05SoJGLVfviVu/nG9Ue7U9yYEug6KS0QrxknHSyQ8XOrQKFt6qB7IfwuLGdauVb2mp/9J2dZzFLO+mZ//XegYLTEFNRaqqv/7UMAAAQsJM1vtKFOBbaLrPaUOOTkAAAAAAgAAPh8tZyr/oDIFJFt/bnKYcDjamQ551K1RQ6m/nEsWn2yP8oTL6AuCGmnNgdNafKgvsjsinjdph6SQTu6xqb56mZfX+/0Kv4pbcazr5DoZUNHOwAwYAAU4bNyhsf+ZnSdiw/WVrgjHh521n3G50A01PBk9k2mfi79hP71LkrsrMMxEH1ygXBMuyEYFzrvJCWy3Kk1tPIhVyLsO/6G9KG8ahR2YZjBkWMmlAwkUsmIKai1VVVX/+1DAAAEKiSddrJxxyYMlKvWlDnGYAAAAEAAO8PLlnv9TJjGWfk2NqWhXcOlpqSvflUZDYvboRL/Mb8/feG9+RP2MYQjFksgT08sXXugze+Y7on/yzVO/pBElKtSczagpKhMT5MQUMKcfAIAAAc4hON+M/uDAKpqWYPiMUgkl9oP1pfTSqRU7OL+OOgVjvo/49b6h+5hxxyj5zmTBkc3dVC4eprRIHTVbUiMSdQZQGNUnkF/pW58EOiG1E6eTDYCYMgRGXUQDIGn6TEFNRVVV//tQwAADisktWayoc8FvJarNpQo5dAAAAEAACfEIyzqbuPWCXrfvlqWP+Y3I+nDnMfn44t3nf2LsrTXR/yLXcXjqGNxZNZUwzX1KELNMRxki+VHHbWP2stk/tSmikUMzHI+v3kyiEWUQiFpCmDmY6t6rvAagvFKkXtbdox0wSnS2vYyoWjCJf4gTzHRjnL+khbnKMQVo2x4touykhf2EobuyViBPMzZGWSt1KK9xp27f1QqGMIKHMKXOg4A7vArBVu4USJZ/VkxBTUUzLjkxVf/7UMAAAQsdLVetHHPJXaYqdaUKcHgAAAAwAA3w5v42O4WwN2kduIXLrwAnYXEkt7VuxEk87/P5R9janfip/joNNmNUafNCxP8HzdZQv9SH2FKHj7GmnDB11z2c+ejnc1G1J9rUnxlt9Q0UGS4GuAAQAAVw5udTPWdIUsJypBes4YEd4bGReVVLcxNsw/+8RnnJy1OxxN6KCg5E2EolzXdQvvqI5Z7MacGzfGT/UUTO1AxX+y010KXd97wxSOz21QdFOUdyExBTUUzLjkxVVVX/+1DAAAEKyStTrRRzyW2k6emyjnFYAAAAMAAJ8Nm1alneRc7omLXXa5feQyIQbQt9hrceqM5539glM1N/xN/jBNipqJs98aKt8Ito6Bf87/GCqNRoR3nK6nOrPqZ76lDkIY85HzhaEYdo1VwAoAAzBze9uZzSOpsR8/vWSymOIczFd8sy+lPnepoagbv/zjksRCiznZMcqtxIDH+XlKxWZL0FvVAFtyulfdmybFAXnOT83IlMIOZkGrndMnggg0Q1BgItg/y6YgpqKZlxyYqq//tQwAAACvErT6ToZQluJWhI/IyjEAAACSSKKWAc5AjUIxwQDWbTJQyafliZZoKxQjhFt4DAUfYkwa33lz8ytPWN3p5aHzI7lvIIPJtN26XMi0/Uisk0OW3S2tw46kWTvDNs2ZJ5k34MGY0VgAAIGrjdH6oBqB97IjumyWNRNZgWhTAd+WAAuHVNIR0H5pBWTlorYPCrG5itwXkkzojS03q/psT2tUtNuqgYVqjozQzR1UVAzk9OlUdHMj6nqj2iuBqIHSMCtftMQU1FMy45Mf/7UMAAAAupK0NU8YAJaiDnwzCwADAAABIBKoHgyHgoJmxuElvEnluhxblPbFu6mCRkS4LYwwQzJ/QUwZB3YJNXLCqvEQjPHY6JUqnJTZCuJ0yfHFG3ZlCMg5rP44IUHwrhxxQb4GRkbJO/TEOGDJAEfsi5KQUlz4lbZVchyXWfiE9SUeuvHaav/adWcz84gkiea87/mJLM9JzSnPf+qfGJiO5iUrPa7/8QRsajtTod/1LZb//qLk6iUWGJkaOdbZiad//+sePySVH6Ri0xBTb/+1DAAANLhGrOPYMACAAANIAAAAAgE9jCIygRybChJRRabHnBYaxGBY81p3pdVBgEAkjQCEosaRI4cSJU5xIlskUcY0iRw4kS2MFJQVgFNCjowViC8BTQo6MFYgvAU0KOjBWILwFNCjowV0F+Kbw74SYgpqKZlxyY1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tQwAADwAABpAAAAAAAADSAAAAATEFNRTMuOTFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UMAAA8AAAaQAAAAAAAA0gAAAAExBTUUzLjkxVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+1DAAAPAAAGkAAAAAAAANIAAAABMQU1FMy45MVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==');\r\n\r\nexport default icqBeep;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n\r\nconst { SIGN_IN, SIGN_IN_BY_SOCIAL } = gql;\r\n\r\nconst signIn = createMutation('signIn', SIGN_IN);\r\nconst signInBySocial = createMutation('signInBySocial', SIGN_IN_BY_SOCIAL);\r\n\r\nconst LoginContainer = adopt({\r\n  signIn,\r\n  signInBySocial,\r\n});\r\n\r\nexport default LoginContainer;\r\n","import React, { PureComponent } from 'react';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CheckIcon from '@material-ui/icons/CheckRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass AsyncFormInput extends PureComponent {\r\n  state = {\r\n    asyncValid: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { data, error } } = this.props;\r\n\r\n    if (!prevProps.result.data && data) {\r\n      this.setAsyncValid(true);\r\n    }\r\n    if (!prevProps.result.error && error) {\r\n      this.setAsyncValid(false);\r\n    }\r\n  }\r\n\r\n  setAsyncValid = (valid) => {\r\n    this.setState({ asyncValid: valid });\r\n  }\r\n\r\n  render() {\r\n    const { asyncValid } = this.state;\r\n    const { result: { loading }, ...rest } = this.props;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        endAdornment={\r\n          (loading || asyncValid)\r\n          && (\r\n            <InputAdornment position=\"end\">\r\n              <Choose>\r\n                <When condition={loading}>\r\n                  <CircularProgress size={18} />\r\n                </When>\r\n                <When condition={!loading && asyncValid}>\r\n                  <CheckIcon color=\"action\" />\r\n                </When>\r\n                <Otherwise>{null}</Otherwise>\r\n              </Choose>\r\n            </InputAdornment>\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AsyncFormInput;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst Wrapper = styled.div`\r\n  ${({ height, bordered }) => bordered && position('absolute', `-${height}`, 0, null, 0)}\r\n  height: ${({ height }) => height};\r\n`;\r\n\r\nconst LinearProgressStyled = styled(LinearProgress)`\r\n  && {\r\n    height: ${({ height }) => height};\r\n  }\r\n`;\r\n\r\nconst TopLineProgress = ({ height, loading, bordered }) => (\r\n  <Wrapper height={height} bordered={bordered}>\r\n    <If condition={loading}>\r\n      <LinearProgressStyled height={height} color=\"primary\" />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nTopLineProgress.defaultProps = {\r\n  bordered: false,\r\n  height: '2px',\r\n};\r\nTopLineProgress.propTypes = {\r\n  height: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  bordered: PropTypes.bool,\r\n};\r\n\r\nexport default TopLineProgress;\r\n","import React from 'react';\r\n// import styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport DoneIcon from '@material-ui/icons/DoneRounded';\r\n\r\nimport AppListItem from './AppList/ListItem';\r\nimport AppListItemAvatar from './AppList/ListItemAvatar';\r\nimport AppListItemInfo from './AppList/ListItemInfo';\r\n\r\n// import { getStyledProps, getSpacing } from '../../../styles';\r\nimport { getAvatarInitials } from '../../../helpers';\r\n\r\nconst SearchDialogListItem = ({\r\n  item,\r\n  openConfirmDialog,\r\n  adding,\r\n  added,\r\n}) => {\r\n  const { avatar, displayName, username } = item;\r\n  const avatarText = getAvatarInitials(item);\r\n  const secondary = `@${username}`;\r\n\r\n  return (\r\n    <AppListItem>\r\n      <AppListItemAvatar src={avatar && avatar.sm} text={avatarText} online={false} />\r\n      <AppListItemInfo primary={displayName} secondary={secondary} />\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={() => openConfirmDialog(item)}\r\n        disabled={added}\r\n      >\r\n        <Choose>\r\n          <When condition={adding}>\r\n            <CircularProgress size={20} color=\"inherit\" />\r\n          </When>\r\n          <When condition={added}>\r\n            <DoneIcon />\r\n          </When>\r\n          <Otherwise>\r\n            Add\r\n          </Otherwise>\r\n        </Choose>\r\n      </Button>\r\n    </AppListItem>\r\n  );\r\n};\r\n\r\nexport default SearchDialogListItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport InfoIcon from '@material-ui/icons/InfoRounded';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircleRounded';\r\n\r\nconst StepLabelStyled = styled(StepLabel)`\r\n  p {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst RegFormStepper = ({ activeStep, steps }) => (\r\n  <Stepper alternativeLabel activeStep={activeStep}>\r\n    {\r\n      map(steps, (label, index) => {\r\n        const isActive = activeStep === index;\r\n        const isCompleted = index < activeStep;\r\n        const iconColor = (!isCompleted && !isActive)\r\n          ? 'disabled'\r\n          : 'primary';\r\n        const step = index + 1;\r\n\r\n        return (\r\n          <Step\r\n            key={index}\r\n            active={isActive}\r\n            completed={isCompleted}\r\n          >\r\n            <StepLabelStyled\r\n              icon={(\r\n                <Choose>\r\n                  <When condition={isCompleted}>\r\n                    <CheckCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <When condition={step === 1}>\r\n                    <AccountCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <InfoIcon color={iconColor} />\r\n                  </Otherwise>\r\n                </Choose>\r\n              )}\r\n            >\r\n              <span>{`Step ${step}.`}</span>\r\n              <p>{label}</p>\r\n            </StepLabelStyled>\r\n          </Step>\r\n        );\r\n      })\r\n    }\r\n  </Stepper>\r\n);\r\n\r\nexport default RegFormStepper;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { ellipsis } from 'polished';\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst ListItemTextStyled = styled(ListItemText)`\r\n  && {\r\n    display: inline-flex;\r\n    flex-flow: column;\r\n    padding: 0 ${getSpacing(1)};\r\n\r\n    > * {\r\n      ${ellipsis('100%')};\r\n    }\r\n  }\r\n`;\r\n\r\nconst ListItemInfo = ({ primary, secondary }) => (\r\n  <ListItemTextStyled primary={primary} secondary={secondary} />\r\n);\r\n\r\nListItemInfo.defaultProps = {\r\n  primary: '',\r\n  secondary: '',\r\n};\r\nListItemInfo.propTypes = {\r\n  primary: PropTypes.string,\r\n  secondary: PropTypes.string,\r\n};\r\n\r\nexport default ListItemInfo;\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nconst Wrapper = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')}\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst PageLoader = () => (\r\n  <Wrapper>\r\n    <CircularProgress size={80} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PageLoader;\r\n","module.exports = __webpack_public_path__ + \"assets/images/login-bg__1920_95.jpg\";","import gql from 'graphql-tag';\r\n\r\nimport {\r\n  myContactFragment,\r\n  myChatFragment,\r\n  myFragment,\r\n  userInfoFragment,\r\n} from './fragments';\r\n\r\nconst GET_INITIAL_DATA = gql`\r\n  query GetInitialData {\r\n    me {\r\n      ...myData\r\n    }\r\n    myContacts {\r\n      ...myContactData\r\n    }\r\n    myChats {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_ME = gql`\r\n  query GetMe {\r\n    me @client {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_MY_CONTACTS = gql`\r\n  query GetMyContacts {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n`;\r\n\r\nconst GET_MY_CHATS = gql`\r\n  query GetMyChats {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n    myChats @client {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nconst SEARCH_USERS = gql`\r\n  query SearchUsers($searchValue: String!) {\r\n    searchUsers(searchValue: $searchValue) {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst USER_ACTIVITY_SUBSCRIPTION = gql`\r\n  subscription onUserActivityUpdated {\r\n    userActivityUpdated {\r\n      userId\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPLOAD_AVATAR = gql`\r\n  mutation uploadAvatar($file: Upload!) {\r\n    uploadAvatar(file: $file) {\r\n      sm\r\n      md\r\n    }\r\n  }\r\n`;\r\n\r\nconst USER_UPDATE_SUBSCRIPTION = gql`\r\n  subscription onUserUpdated {\r\n    userUpdated {\r\n      ...userInfoData\r\n    }\r\n  }\r\n  ${userInfoFragment}\r\n`;\r\n\r\nexport default {\r\n  GET_INITIAL_DATA,\r\n  GET_ME,\r\n  GET_MY_CONTACTS,\r\n  GET_MY_CHATS,\r\n  SEARCH_USERS,\r\n  UPLOAD_AVATAR,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  USER_UPDATE_SUBSCRIPTION,\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { rgba } from 'polished';\r\n\r\nimport { Button } from './SocialButton';\r\n\r\nconst SocialWrapper = styled.div`\r\n  display: inline-flex;\r\n\r\n  :not(:last-child) {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  ${Button} {\r\n    background-color: ${({ color }) => color};\r\n\r\n    :hover {\r\n      background-color: ${({ color }) => rgba(color, 0.8)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Social = ({ social, color, children }) => (\r\n  <SocialWrapper\r\n    key={social}\r\n    color={color}\r\n  >\r\n    {children}\r\n  </SocialWrapper>\r\n);\r\n\r\nexport default Social;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nexport const Button = styled(Fab)`\r\n  && {\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst SocialButton = ({ loading, onClick, icon }) => (\r\n  <Button disabled={loading} size=\"small\" onClick={onClick} component={Fab}>\r\n    <FontAwesomeIcon icon={icon} size=\"lg\" />\r\n  </Button>\r\n);\r\n\r\nexport default SocialButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n// import { position } from 'polished';\r\n\r\nconst RadioFormControlStyled = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    margin-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst RadioGroupStyled = styled(RadioGroup)`\r\n  && {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst FormInputRadio = ({\r\n  name,\r\n  // type,\r\n  label,\r\n  values,\r\n  initialValue,\r\n  // placeholder,\r\n  // required,\r\n  // autoComplete,\r\n  // error,\r\n  // isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  // onBlur,\r\n  // ...rest,\r\n}) => (\r\n  <Field name={name} validate={value => validate(value, name)}>\r\n    {({ field }) => (\r\n      <RadioFormControlStyled variant=\"standard\" fullWidth>\r\n        <InputLabel shrink>{label}</InputLabel>\r\n        <RadioGroupStyled\r\n          {...field}\r\n          name={name}\r\n          onChange={(event) => {\r\n            validateField(name);\r\n\r\n            onChange(event);\r\n          }}\r\n        >\r\n          {map(values, value => (\r\n            <FormControlLabel\r\n              key={value}\r\n              value={value}\r\n              control={<Radio />}\r\n              label={value}\r\n            />\r\n          ))}\r\n        </RadioGroupStyled>\r\n      </RadioFormControlStyled>\r\n    )}\r\n  </Field>\r\n);\r\n\r\nexport default FormInputRadio;\r\n","import React from 'react';\r\nimport { Query, Mutation, Subscription } from 'react-apollo';\r\nimport { get, has } from 'lodash';\r\n\r\nexport const createMutation = (name, gqlMutation, mutationProps = {}) => (containerProps) => {\r\n  const mutationContainerPropsKey = `${name}Props`;\r\n  const mutationContainerProps = has(containerProps, mutationContainerPropsKey)\r\n    ? get(containerProps, mutationContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Mutation\r\n      mutation={gqlMutation}\r\n      {...mutationProps}\r\n      {...mutationContainerProps}\r\n    >\r\n      {(mutation, result) => render({\r\n        mutation,\r\n        result,\r\n        name,\r\n      })}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\nexport const createQuery = (name, gqlQuery, queryProps = {}) => (containerProps) => {\r\n  const queryContainerPropsKey = `${name}Props`;\r\n  const queryContainerProps = has(containerProps, queryContainerPropsKey)\r\n    ? get(containerProps, queryContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Query\r\n      query={gqlQuery}\r\n      {...queryProps}\r\n      {...queryContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport const createSubscription = (name, gqlSubscription, subscriptionProps = {}) => (containerProps) => {\r\n  const subscriptionContainerPropsKey = `${name}Props`;\r\n  const subscriptionContainerProps = has(containerProps, subscriptionContainerPropsKey)\r\n    ? get(containerProps, subscriptionContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Subscription\r\n      subscription={gqlSubscription}\r\n      {...subscriptionProps}\r\n      {...subscriptionContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Subscription>\r\n  );\r\n};\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport reset from 'styled-reset';\r\nimport { size } from 'polished';\r\nimport { get } from 'lodash';\r\n\r\nexport const getStyledProps = (path, unit = '') => (props) => {\r\n  const value = get(props, path);\r\n\r\n  if (unit) {\r\n    return `${value}${unit}`;\r\n  }\r\n  return value;\r\n};\r\n\r\nexport const getSpacing = (num = 1) => (props) => {\r\n  const spacingFunc = getStyledProps('theme.spacing')(props);\r\n  const padding = spacingFunc(num);\r\n\r\n  return `${padding}px`;\r\n};\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  ${reset}\r\n\r\n  html,\r\n  body {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    min-height: 100%;\r\n    font-family: ${getStyledProps('theme.typography.fontFamily')};\r\n    font-size: ${getStyledProps('theme.typography.fontSize')}px;\r\n    font-weight: ${getStyledProps('theme.typography.fontWeightRegular')};\r\n    color: #000;\r\n    background-color: #fff;\r\n    overflow-y: auto;\r\n\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    #root {\r\n      ${size('inherit')};\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/AddRounded';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListPanelFooter = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: ${getSpacing(1)} 0;\r\n`;\r\n\r\nclass ContactPanelFooter extends Component {\r\n  render() {\r\n    const { toggleSearchDialog } = this.props;\r\n\r\n    return (\r\n      <ListPanelFooter>\r\n        <Fab color=\"primary\" size=\"medium\" onClick={toggleSearchDialog}>\r\n          <AddIcon />\r\n        </Fab>\r\n      </ListPanelFooter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContactPanelFooter;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Facebook from './Facebook';\r\nimport Google from './Google';\r\n\r\nconst SocialMediaWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 3em;\r\n`;\r\n\r\nconst SocialMediaNote = styled.p`\r\n  display: inline-flex;\r\n  margin-right: 1em;\r\n`;\r\n\r\nconst SocialMedia = ({\r\n  mutation,\r\n  result: { loading },\r\n  note,\r\n}) => {\r\n  return (\r\n    <SocialMediaWrapper>\r\n      <SocialMediaNote>\r\n        {note}\r\n      </SocialMediaNote>\r\n      <Facebook loading={loading} mutation={mutation} />\r\n      <Google loading={loading} mutation={mutation} />\r\n    </SocialMediaWrapper>\r\n  );\r\n};\r\n\r\nexport default SocialMedia;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation, createQuery } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { chatCreatedUpdate } from './AppLayoutContainer';\r\n\r\nconst {\r\n  SEARCH_USERS,\r\n  CREATE_CHAT,\r\n  GET_MY_CONTACTS,\r\n} = gql;\r\n\r\nconst searchUsers = createQuery('searchUsers', SEARCH_USERS);\r\nconst getMyContacts = createQuery('getMyContacts', GET_MY_CONTACTS);\r\nconst createChat = createMutation('createChat', CREATE_CHAT, {\r\n  update(client, { data }) {\r\n    chatCreatedUpdate(client, data.createChat);\r\n  },\r\n});\r\n\r\nconst SearchDialogContainer = adopt({\r\n  searchUsers,\r\n  getMyContacts,\r\n  createChat,\r\n});\r\n\r\nexport default SearchDialogContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst AppRoute = ({\r\n  component: Component,\r\n  layout: Layout,\r\n  privateRoute,\r\n  redirect,\r\n  to,\r\n  ...rest\r\n}) => {\r\n  const render = props => (\r\n    <Layout>\r\n      <Component {...props} />\r\n    </Layout>\r\n  );\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        <Choose>\r\n          <When condition={redirect}>\r\n            <Component to={to} />\r\n          </When>\r\n          <When condition={privateRoute}>\r\n            <PrivateRoute>\r\n              {render(props)}\r\n            </PrivateRoute>\r\n          </When>\r\n          <Otherwise>\r\n            {render(props)}\r\n          </Otherwise>\r\n        </Choose>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nAppRoute.defaultProps = {\r\n  privateRoute: false,\r\n  layout: null,\r\n  redirect: false,\r\n  to: '',\r\n};\r\nAppRoute.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.node, PropTypes.func]).isRequired,\r\n  layout: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  privateRoute: PropTypes.bool,\r\n  redirect: PropTypes.bool,\r\n  to: PropTypes.string,\r\n};\r\n\r\nexport default AppRoute;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","module.exports = __webpack_public_path__ + \"assets/images/reg-bg__1920_95.jpg\";","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\nimport {\r\n  isEmpty, isEqual, find, concat, filter,\r\n} from 'lodash';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { AppContext } from '../../context/AppProvider';\r\nimport ContactPanel, { NoContactInfo } from '../../common/ContactPanel/ContactPanel';\r\nimport MessagePanel from '../../common/MessagePanel/MessagePanel';\r\n\r\nimport ChatsContainer from '../../smart/ChatsContainer';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    ${size('100%')};\r\n    display: flex;\r\n    align-items: stretch;\r\n  }\r\n`;\r\n\r\nconst InfoPanel = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)};\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n  }\r\n`;\r\n\r\nclass Chats extends Component {\r\n  state = {\r\n    selected: null,\r\n    sendedIds: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    const selected = this.checkRoute();\r\n\r\n    if (selected) {\r\n      this.selectChat(selected);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { location } = this.props;\r\n\r\n    if (!isEqual(prevProps.location, location)) {\r\n      const selected = this.checkRoute();\r\n\r\n      if (!selected) {\r\n        this.selectChat(null);\r\n      } else {\r\n        this.selectChat(selected);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkRoute = () => {\r\n    const { location: { search } } = this.props;\r\n    const { chatId } = queryString.parse(search);\r\n\r\n    return chatId;\r\n  }\r\n\r\n  selectChat = (chatId, changeRoute = false) => {\r\n    const { history } = this.props;\r\n\r\n    this.setState({ selected: chatId });\r\n\r\n    if (changeRoute) {\r\n      history.push(`/chats?chatId=${chatId}`);\r\n    }\r\n  }\r\n\r\n  updateSendedIds = (optimisticId, action = 'add') => {\r\n    this.setState(({ sendedIds }) => {\r\n      let newSendedIds = sendedIds;\r\n\r\n      if (action === 'add') {\r\n        newSendedIds = concat(sendedIds, optimisticId);\r\n      } else if (action === 'remove') {\r\n        newSendedIds = filter(sendedIds, id => id !== optimisticId);\r\n      }\r\n      return ({ sendedIds: newSendedIds });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selected, sendedIds } = this.state;\r\n\r\n    return (\r\n      <AppContext.Consumer>\r\n        {({ user, fetching }) => (\r\n          <ChatsContainer\r\n            messageAddedSubscriptionProps={{\r\n              variables: { chatId: selected },\r\n            }}\r\n            addMessageProps={{\r\n              onCompleted: ({ addMessage: { optimisticId } }) => {\r\n                this.updateSendedIds(optimisticId, 'remove');\r\n              },\r\n            }}\r\n          >\r\n            {({\r\n              getMyChats: {\r\n                data: { myContacts, myChats },\r\n                fetchMore: fetchMoreMessages,\r\n                loading,\r\n              },\r\n              addMessage: {\r\n                mutation: addMessage,\r\n                result: { loading: adding },\r\n              },\r\n            }) => {\r\n              const selectedContact = find(myContacts, { chatId: selected });\r\n              const selectedChat = find(myChats, { id: selected });\r\n\r\n              return (\r\n                <Wrapper square elevation={0}>\r\n                  <Grid container spacing={0}>\r\n                    <Grid item xs={12} sm={4} lg={3}>\r\n                      <ContactPanel\r\n                        loading={fetching}\r\n                        me={user}\r\n                        contacts={myContacts}\r\n                        chats={myChats}\r\n                        selected={selected}\r\n                        selectChat={chatId => this.selectChat(chatId, true)}\r\n                      />\r\n                    </Grid>\r\n                    <Hidden xsDown>\r\n                      <Grid item sm={8} lg={6}>\r\n                        <Choose>\r\n                          <When condition={isEmpty(myContacts)}>\r\n                            {null}\r\n                          </When>\r\n                          <When condition={!selected}>\r\n                            <NoContactInfo>\r\n                              <Typography variant=\"subtitle2\">\r\n                                <p>Please select a chat to start messaging</p>\r\n                              </Typography>\r\n                            </NoContactInfo>\r\n                          </When>\r\n                          <Otherwise>\r\n                            <MessagePanel\r\n                              loading={loading}\r\n                              adding={adding}\r\n                              me={user}\r\n                              contact={selectedContact}\r\n                              chat={selectedChat}\r\n                              sendedIds={sendedIds}\r\n                              fetchMoreMessages={fetchMoreMessages}\r\n                              addMessage={addMessage}\r\n                              updateSendedIds={this.updateSendedIds}\r\n                            />\r\n                          </Otherwise>\r\n                        </Choose>\r\n                      </Grid>\r\n                    </Hidden>\r\n                    <Hidden mdDown>\r\n                      <Grid item lg={3}>\r\n                        <InfoPanel square elevation={0}>{null}</InfoPanel>\r\n                      </Grid>\r\n                    </Hidden>\r\n                  </Grid>\r\n                </Wrapper>\r\n              );\r\n            }}\r\n          </ChatsContainer>\r\n        )}\r\n      </AppContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Chats);\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VisibilityIcon from '@material-ui/icons/VisibilityRounded';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOffRounded';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass FormInputPassword extends PureComponent {\r\n  state = {\r\n    showPassword: false,\r\n  }\r\n\r\n  toggleShowPassword = () => {\r\n    this.setState(({ showPassword }) => ({ showPassword: !showPassword }));\r\n  }\r\n\r\n  render() {\r\n    const { showPassword } = this.state;\r\n    const { type, ...rest } = this.props;\r\n    const validType = showPassword ? 'text' : type;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        type={validType}\r\n        endAdornment={(\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={this.toggleShowPassword}>\r\n              <Choose>\r\n                <When condition={showPassword}>\r\n                  <VisibilityIcon />\r\n                </When>\r\n                <Otherwise>\r\n                  <VisibilityOffIcon />\r\n                </Otherwise>\r\n              </Choose>\r\n            </IconButton>\r\n          </InputAdornment>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormInputPassword;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst SubmitButton = styled(Button)`\r\n  && {\r\n    position: relative;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst FormSubmit = ({ loading, text }) => (\r\n  <SubmitButton\r\n    type=\"submit\"\r\n    size=\"large\"\r\n    color=\"primary\"\r\n    variant=\"contained\"\r\n    disabled={loading}\r\n    fullWidth\r\n  >\r\n    <Choose>\r\n      <When condition={loading}>\r\n        <CircularProgress size={26} />\r\n      </When>\r\n      <Otherwise>\r\n        {text}\r\n      </Otherwise>\r\n    </Choose>\r\n  </SubmitButton>\r\n);\r\n\r\nexport default FormSubmit;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { set } from 'lodash';\r\n\r\nimport Notification from '../Notification';\r\n\r\nconst withNotification = WrappedComponent => class extends Component {\r\n  state = {\r\n    open: false,\r\n    message: '',\r\n    type: 'error',\r\n  }\r\n\r\n  toggleNotification = (message = '', type = '') => {\r\n    this.setState(({ open }) => {\r\n      const updatedState = {\r\n        open: !open,\r\n      };\r\n\r\n      if (message) {\r\n        set(updatedState, 'message', message);\r\n      }\r\n      if (type) {\r\n        set(updatedState, 'type', type);\r\n      }\r\n      return updatedState;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <WrappedComponent {...this.props} toggleNotification={this.toggleNotification} />\r\n        <Notification {...this.state} toggle={this.toggleNotification} />\r\n      </Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withNotification;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport { isEmpty } from 'lodash';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst InputWrapper = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    padding-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst InputError = styled(FormHelperText)`\r\n  && {\r\n    ${position('absolute', null, 0, '0.5em', 0)}\r\n  }\r\n`;\r\n\r\nconst FormInput = ({\r\n  name,\r\n  type,\r\n  label,\r\n  placeholder,\r\n  required,\r\n  autoComplete,\r\n  error,\r\n  isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  onBlur,\r\n  ...rest,\r\n}) => {\r\n  return (\r\n    <Field name={name} validate={value => validate(value, name)}>\r\n      {({ field }) => (\r\n        <InputWrapper fullWidth>\r\n          <InputLabel shrink={type === 'date' || undefined} htmlFor={name}>{label}</InputLabel>\r\n          <Input\r\n            {...field}\r\n            id={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            required={required}\r\n            autoComplete={autoComplete}\r\n            error={isError}\r\n            onChange={onChange}\r\n            onBlur={(event) => {\r\n              validateField(name);\r\n\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            inputProps={{\r\n              onKeyDown: ({ key, target }) => {\r\n                if (key === 'Escape') {\r\n                  target.blur();\r\n                }\r\n              },\r\n            }}\r\n            {...rest}\r\n          />\r\n          <InputError error={isError}>{error}</InputError>\r\n        </InputWrapper>\r\n      )}\r\n    </Field>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-SG\": \"zavE\",\n\t\"./en-SG.js\": \"zavE\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { map, find } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport FormInput from './FormInput';\r\nimport FormInputPassword from './FormInputPassword';\r\nimport FormInputRadio from './FormInputRadio';\r\nimport AsyncFormInput from './AsyncFormInput';\r\nimport FormSubmit from './FormSubmit';\r\n\r\nconst FormWrapper = styled.form`\r\n  width: 100%;\r\n`;\r\n\r\nclass Form extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { error }, setFieldError } = this.props;\r\n\r\n    if (!prevProps.result.error && error) {\r\n      if (error.graphQLErrors) {\r\n        const { graphQLErrors } = error;\r\n        const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n        if (invalidField) {\r\n          setFieldError(invalidField, message);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  validate = async (value, field) => {\r\n    const { validationSchema, asyncValidationFields } = this.props;\r\n    const asyncValidationField = find(asyncValidationFields, { name: field });\r\n\r\n    try {\r\n      await yup.reach(validationSchema, field).validate(value);\r\n\r\n      if (asyncValidationField) {\r\n        const { validation } = asyncValidationField;\r\n\r\n        await validation.mutation({ variables: { value, field } });\r\n      }\r\n    } catch ({ message, graphQLErrors }) {\r\n      if (graphQLErrors) {\r\n        const { message: graphQlMessage } = graphQLErrors[0];\r\n\r\n        throw graphQlMessage;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields,\r\n      errors,\r\n      touched,\r\n      handleChange,\r\n      handleBlur,\r\n      handleSubmit,\r\n      result,\r\n      submitButtonText,\r\n      validateField,\r\n      validate,\r\n      asyncValidationFields,\r\n    } = this.props;\r\n    const { loading } = result;\r\n\r\n    return (\r\n      <FormWrapper onSubmit={handleSubmit}>\r\n        {\r\n          map(fields, (field) => {\r\n            const {\r\n              name,\r\n              type,\r\n              initialValue,\r\n              ...values\r\n            } = field;\r\n            const error = errors[name];\r\n            const isError = error && touched[name];\r\n            const asyncValidationField = find(asyncValidationFields, { name });\r\n\r\n            return (\r\n              <Choose>\r\n                <When condition={asyncValidationField}>\r\n                  <AsyncFormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    result={asyncValidationField.validation.result}\r\n                    validate={this.validate}\r\n                    validateField={validateField}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'password'}>\r\n                  <FormInputPassword\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    isError={isError}\r\n                    error={error}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'radio'}>\r\n                  <FormInputRadio\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                  />\r\n                </When>\r\n                <Otherwise>\r\n                  <FormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </Otherwise>\r\n              </Choose>\r\n            );\r\n          })\r\n        }\r\n        <FormSubmit loading={loading} text={submitButtonText} />\r\n      </FormWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: ({ initialValues }) => initialValues,\r\n\r\n  handleSubmit: (form, { props: { mutation } }) => {\r\n    mutation({ variables: { form } });\r\n  },\r\n\r\n  validateOnChange: false,\r\n  validateOnBlur: false,\r\n})(Form);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import PropTypes from 'prop-types';\r\n// import {} from 'lodash';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport RegFormStepper from './RegFormStepper';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    padding: ${getSpacing(4)} ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst Footer = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    margin-top: ${getSpacing(2)};\r\n  }\r\n`;\r\n\r\nconst SignUp = ({\r\n  steps,\r\n  activeStep,\r\n  completed,\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <RegFormStepper activeStep={activeStep} steps={steps} />\r\n      </Header>\r\n      <Choose>\r\n        <When condition={completed}>\r\n          {'Your account had been successfuly completed.Check your email and confirm registration.'}\r\n        </When>\r\n        <When condition={activeStep === 0}>\r\n          <Form\r\n            {...formConfig('signUpStepOne')}\r\n            mutation={signUp.mutation}\r\n            result={signUp.result}\r\n            submitButtonText=\"Confirm\"\r\n            asyncValidationFields={[{\r\n              name: 'username',\r\n              validation: signUpAsyncValidationUsername,\r\n            }, {\r\n              name: 'email',\r\n              validation: signUpAsyncValidationEmail,\r\n            }]}\r\n          />\r\n          <SocialMedia\r\n            mutation={signUpBySocial.mutation}\r\n            result={signUpBySocial.result}\r\n            note=\"Sign Up with social media:\"\r\n          />\r\n        </When>\r\n        <When condition={activeStep === 1}>\r\n          <Form\r\n            {...formConfig('signUpStepTwo')}\r\n            mutation={signUpCompletion.mutation}\r\n            result={signUpCompletion.result}\r\n            submitButtonText=\"Confirm\"\r\n          />\r\n        </When>\r\n        <Otherwise>\r\n          {null}\r\n        </Otherwise>\r\n      </Choose>\r\n      <Footer align=\"center\">\r\n        <Link to=\"/login\">I already have a account</Link>\r\n      </Footer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Facebook = ({ loading, mutation }) => (\r\n  <Social social=\"facebook\" color={blue[900]}>\r\n    <FacebookLogin\r\n      fields=\"first_name,last_name,id,email,gender\"\r\n      appId={process.env.FACEBOOK_APP_ID}\r\n      callback={({\r\n        // eslint-disable-next-line\r\n        userID: id,\r\n        email,\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'facebook',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faFacebook} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Facebook;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\nimport {\r\n  map, isEmpty, find, filter, upperCase,\r\n} from 'lodash';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport ListSearch from './AppList/ListSearch';\r\nimport AppList from './AppList/List';\r\nimport ContactPanelItem from './ContactPanelItem';\r\nimport ContactPanelFooter from './ContactPanelFooter';\r\nimport SearchDialog from './SearchDialog';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n    padding: ${getSpacing(2)};\r\n    padding-top: ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nexport const NoContactInfo = styled.div`\r\n  ${size('100%')};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  p {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nclass ContactPanel extends Component {\r\n  state = {\r\n    searchDialog: false,\r\n    searchValue: '',\r\n  }\r\n\r\n  toggleSearchDialog = () => {\r\n    this.setState(({ searchDialog }) => ({ searchDialog: !searchDialog }));\r\n  }\r\n\r\n  onChangeSearchValue = (searchValue) => {\r\n    this.setState({ searchValue });\r\n  }\r\n\r\n  sortContacts = () => {\r\n    const { searchValue } = this.state;\r\n    const { contacts } = this.props;\r\n\r\n    return filter(contacts, ({ userInfo }) => {\r\n      const upperName = upperCase(userInfo.displayName);\r\n      const upperSearchValue = upperCase(searchValue);\r\n\r\n      return upperName.indexOf(upperSearchValue) !== -1;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { searchDialog, searchValue } = this.state;\r\n    const {\r\n      loading,\r\n      me,\r\n      contacts,\r\n      chats,\r\n      selected,\r\n      selectChat,\r\n    } = this.props;\r\n    const sortedContacts = this.sortContacts();\r\n\r\n    return (\r\n      <Wrapper square elevation={0}>\r\n        <ListSearch searchValue={searchValue} onChange={this.onChangeSearchValue} />\r\n        <AppList>\r\n          <Choose>\r\n            <When condition={isEmpty(contacts)}>\r\n              <NoContactInfo>\r\n                <Choose>\r\n                  <When condition={loading}>\r\n                    <CircularProgress color=\"primary\" />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <Typography variant=\"subtitle2\">\r\n                      <p>Your contact list is empty.</p>\r\n                      <p>Click on the \"+\" icon to find your contacts</p>\r\n                    </Typography>\r\n                  </Otherwise>\r\n                </Choose>\r\n              </NoContactInfo>\r\n            </When>\r\n            <Otherwise>\r\n              {map(sortedContacts, ({ chatId, userInfo }) => {\r\n                const { id } = userInfo;\r\n                const { messages } = find(chats, { id: chatId });\r\n\r\n                return (\r\n                  <ContactPanelItem\r\n                    key={id}\r\n                    myId={me.id}\r\n                    contact={userInfo}\r\n                    message={messages[messages.length - 1]}\r\n                    isSelected={selected === chatId}\r\n                    onSelect={() => selectChat(chatId)}\r\n                  />\r\n                );\r\n              })}\r\n            </Otherwise>\r\n          </Choose>\r\n        </AppList>\r\n        <ContactPanelFooter toggleSearchDialog={this.toggleSearchDialog} />\r\n        <If condition={searchDialog}>\r\n          <SearchDialog open={searchDialog} toggle={this.toggleSearchDialog} />\r\n        </If>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContactPanel;\r\n","import React, { Component, Fragment, createRef } from 'react';\r\nimport ReactResizeDetector from 'react-resize-detector';\r\nimport { InView } from 'react-intersection-observer';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\nimport { map, includes, isEqual } from 'lodash';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport RootRef from '@material-ui/core/RootRef';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport blue from '@material-ui/core/colors/blue';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\nimport {\r\n  messageTimeParser,\r\n  messageHistoryDateParser,\r\n  isSameDay,\r\n} from '../../../helpers';\r\n\r\nconst Wrapper = styled.div`\r\n  flex: 1 auto;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst MessagePanelListView = styled.div`\r\n  ${position('absolute', 0, '-17px', 0, 0)};\r\n  display: flex;\r\n  flex-flow: column;\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  z-index: 15;\r\n`;\r\n\r\nconst MessagePanelList = styled(({ scrollbarPresence, ...rest }) => <List {...rest} />)`\r\n  && {\r\n    margin-top: auto;\r\n    z-index: 10;\r\n  }\r\n`;\r\n\r\nconst MessagePanelListItem = styled(ListItem)`\r\n  && {\r\n    padding-top: ${getSpacing(1)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst MessagePanelListItemMessageWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: ${({ alignItems }) => alignItems};\r\n`;\r\n\r\nconst ListScrollbar = styled.div`\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  width: 2px;\r\n  display: ${({ presence }) => (presence ? 'block' : 'none')};\r\n  background-color: ${getStyledProps('theme.palette.grey.300')};\r\n  opacity: ${({ show }) => (show ? 1 : 0)};\r\n  transition: .25s ease;\r\n  z-index: 20;\r\n\r\n  div {\r\n    ${position('absolute', null, 0, 0, 0)};\r\n    background-color: ${getStyledProps('theme.palette.primary.main')};\r\n  }\r\n`;\r\n\r\nconst MessagePanelHistoryDivider = styled.div`\r\n  width: 100%;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: ${getSpacing(1)} 0;\r\n\r\n  p {\r\n    height: 1px;\r\n    flex: 1 auto;\r\n    display: inline-flex;\r\n    background-color: ${grey[500]};\r\n    border-radius: 2px;\r\n  }\r\n\r\n  span {\r\n    padding: 0 ${getSpacing(2)};\r\n    color: ${grey[500]};\r\n  }\r\n`;\r\n\r\nconst MessagePanelMessage = styled.div`\r\n  max-width: 49%;\r\n  padding: ${getSpacing(1)};\r\n  ${({ isMyMessage }) => ({\r\n    [`border-bottom-${isMyMessage ? 'left' : 'right'}-radius`]: 0,\r\n  })};\r\n  background-color: ${({ isMyMessage }) => (isMyMessage ? grey[100] : blue[100])};\r\n  border-radius: 5px;\r\n  opacity: ${({ isAdding }) => (isAdding ? 0.3 : 1)};\r\n  word-break: break-all;\r\n  ${getStyledProps('theme.typography.body2')};\r\n\r\n  &:hover {\r\n    cursor: text;\r\n  }\r\n`;\r\n\r\nconst MessagePanelSystemMessage = styled.div`\r\n  padding: ${getSpacing(1)};\r\n  color: ${grey[500]};\r\n  background-color: ${grey[100]};\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst MessagePanelMessageTime = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n\r\n  span {\r\n    ${getStyledProps('theme.typography.caption')};\r\n    color: ${getStyledProps('theme.palette.text.secondary')};\r\n  }\r\n`;\r\n\r\nconst MessagePanelLoading = styled.div`\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  visibility: ${({ appeared }) => (appeared ? 'visibility' : 'hidden')}\r\n`;\r\n\r\nclass MessagePanelMessages extends Component {\r\n  listRef = createRef();\r\n\r\n  listViewRef = createRef();\r\n\r\n  scrollbarThumbRef = createRef();\r\n\r\n  state = {\r\n    dragging: false,\r\n    scrollbar: false,\r\n    scrollbarPresence: false,\r\n    observableId: null,\r\n    listHeight: 0,\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { observableId, listHeight } = this.state;\r\n\r\n    if (\r\n      !isEqual(observableId, nextState.observableId)\r\n      ||\r\n      !isEqual(listHeight, nextState.listHeight)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { observableId, listHeight } = this.state;\r\n    const {\r\n      adding,\r\n      loading,\r\n      chatId,\r\n      messages,\r\n      fetchSize,\r\n      fetchHorizon,\r\n    } = this.props;\r\n    const currentSize = messages.length;\r\n    const validFetchHorizon = fetchHorizon - 1;\r\n\r\n    if (!isEqual(prevProps.chatId, chatId)) {\r\n      if (currentSize >= fetchSize) {\r\n        const { id } = messages[validFetchHorizon];\r\n\r\n        this.setObservableId(id);\r\n      }\r\n      this.scrollToBottom();\r\n    }\r\n\r\n    if (\r\n      isEqual(prevProps.chatId, chatId)\r\n      &&\r\n      !isEqual(prevProps.messages, messages)\r\n      &&\r\n      !adding\r\n    ) {\r\n      if (currentSize >= fetchSize) {\r\n        const { id } = messages[validFetchHorizon];\r\n\r\n        this.setObservableId(id);\r\n      }\r\n\r\n      if (observableId) {\r\n        this.updateScrollTop();\r\n      } else {\r\n        this.scrollToBottom();\r\n      }\r\n    }\r\n\r\n    // if (!isEqual(prevProps.loading, loading)) {\r\n    //   console.log(prevProps.messages.length, messages.length);\r\n    //   console.log(prevProps.loading, loading);\r\n    // }\r\n\r\n    if (!isEqual(prevProps.messages, messages)) {\r\n      // console.log(this.listViewRef.current.scrollTop);\r\n      // console.log(prevState.listHeight, listHeight);\r\n\r\n      if (adding) {\r\n        this.scrollToBottom();\r\n      }\r\n    }\r\n  }\r\n\r\n  onScroll = () => {\r\n    this.calculateScrollbarPosition();\r\n  }\r\n\r\n  toggleScrollbar = (scrollbar) => {\r\n    const { dragging, scrollbarPresence } = this.state;\r\n\r\n    if (dragging || !scrollbarPresence) {\r\n      return;\r\n    }\r\n    this.setState({ scrollbar });\r\n  }\r\n\r\n  calculateScrollbarPosition = () => {\r\n    const { scrollTop } = this.listViewRef.current;\r\n    const { height: listHeight } = this.listRef.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = this.listViewRef.current.getBoundingClientRect();\r\n    const scrollHeight = listHeight - listViewHeight;\r\n    const ratioPercent = scrollTop / scrollHeight;\r\n    const thumbHeight = (listViewHeight / listHeight) * listViewHeight;\r\n    const scrollbarHeight = (listViewHeight - thumbHeight);\r\n    const thumbPosition = scrollbarHeight - (ratioPercent * scrollbarHeight);\r\n\r\n    this.scrollbarThumbRef.current.style.height = `${Math.max(20, thumbHeight)}px`;\r\n    this.scrollbarThumbRef.current.style.bottom = `${thumbPosition}px`;\r\n  }\r\n\r\n  onResize = (width, height) => {\r\n    const listViewRect = this.listViewRef.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = listViewRect;\r\n\r\n    this.setState({ listHeight: height });\r\n\r\n    if (height > listViewHeight) {\r\n      this.setScrollbarPresence(true);\r\n      this.calculateScrollbarPosition();\r\n    } else {\r\n      this.setScrollbarPresence(false);\r\n    }\r\n  }\r\n\r\n  onIntersectionChange = (inView, { target: { id } }) => {\r\n    const { observableId } = this.state;\r\n    const { getMessages, loading } = this.props;\r\n\r\n    if (inView && (observableId === id) && !loading) {\r\n      getMessages();\r\n    }\r\n  }\r\n\r\n  setObservableId = (id = null) => {\r\n    const { observableId } = this.state;\r\n\r\n    if (observableId !== id) {\r\n      this.setState({ observableId: id });\r\n    }\r\n  }\r\n\r\n  setScrollbarPresence = (scrollbarPresence) => {\r\n    this.setState({ scrollbarPresence });\r\n  }\r\n\r\n  scrollToBottom = () => {\r\n    const { height: listHeight } = this.listRef.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = this.listViewRef.current.getBoundingClientRect();\r\n\r\n    if (listHeight > listViewHeight) {\r\n      this.listViewRef.current.scrollTop = this.listViewRef.current.scrollHeight;\r\n    }\r\n  }\r\n\r\n  updateScrollTop = () => {\r\n    const { listHeight } = this.state;\r\n    const { scrollTop } = this.listViewRef.current;\r\n    const { height } = this.listRef.current.getBoundingClientRect();\r\n    const diff = height - listHeight;\r\n\r\n    if (scrollTop === 0) {\r\n      this.listViewRef.current.scrollTop = diff;\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { dragging } = this.state;\r\n    const { clientY: initialClientY } = e;\r\n    const listViewRect = this.listViewRef.current.getBoundingClientRect();\r\n    const scrollThumbRect = this.scrollbarThumbRef.current.getBoundingClientRect();\r\n    const thumbOffset = scrollThumbRect.bottom - listViewRect.top;\r\n    const mouseOffset = initialClientY - listViewRect.top;\r\n    const diff = thumbOffset - mouseOffset;\r\n\r\n    if (!dragging) {\r\n      this.setState({ dragging: true });\r\n    }\r\n\r\n    const onMouseMove = ({ clientY }) => {\r\n      const listRect = this.listRef.current.getBoundingClientRect();\r\n      const { height: scrollThumbRectHeight } = this.scrollbarThumbRef.current.getBoundingClientRect();\r\n      const currentMouseOffset = clientY - listViewRect.top;\r\n      const positionInView = listViewRect.height - (currentMouseOffset + diff);\r\n      const ratioPercent = positionInView / (listViewRect.height - scrollThumbRectHeight);\r\n      const scrollHeight = listRect.height - listViewRect.height;\r\n      const scrollTop = scrollHeight - (ratioPercent * scrollHeight);\r\n      let validScrollTop = scrollTop;\r\n\r\n      if (scrollTop < 0) validScrollTop = 0;\r\n      if (scrollTop > scrollHeight) validScrollTop = scrollHeight;\r\n\r\n      this.listViewRef.current.scrollTop = validScrollTop;\r\n    };\r\n\r\n    const onMouseUp = () => {\r\n      if (dragging) {\r\n        this.setState({ dragging: false, scrollbar: false });\r\n      }\r\n\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n    };\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n  }\r\n\r\n  render() {\r\n    const { scrollbar, scrollbarPresence } = this.state;\r\n    const { messages, myId, loading, sendedIds } = this.props;\r\n\r\n    const renderMessages = () => {\r\n      return map(messages, ({\r\n        id,\r\n        senderId,\r\n        type,\r\n        time,\r\n        content,\r\n      }, index) => {\r\n        const isSystem = type === 'system';\r\n        const isFirst = messages[0].id === id;\r\n        const isMyMessage = senderId === myId;\r\n        const isAdding = includes(sendedIds, id);\r\n        const direction = isMyMessage ? 'start' : 'end';\r\n        const alignItems = isSystem ? 'center' : `flex-${direction}`;\r\n        let divider = false;\r\n\r\n        if (index > 0) {\r\n          const { time: prevMessageTime } = messages[index - 1];\r\n\r\n          divider = !isSameDay(time, prevMessageTime);\r\n        }\r\n\r\n        return (\r\n          <InView key={id} onChange={this.onIntersectionChange}>\r\n            {({ ref }) => (\r\n              <RootRef rootRef={ref}>\r\n                <MessagePanelListItem id={id}>\r\n                  <MessagePanelListItemMessageWrapper alignItems={alignItems}>\r\n                    <If condition={isFirst || divider}>\r\n                      <MessagePanelHistoryDivider>\r\n                        <p />\r\n                        <span>{messageHistoryDateParser(time)}</span>\r\n                        <p />\r\n                      </MessagePanelHistoryDivider>\r\n                    </If>\r\n                    <Choose>\r\n                      <When condition={isSystem}>\r\n                        <MessagePanelSystemMessage>\r\n                          <p>{content}</p>\r\n                        </MessagePanelSystemMessage>\r\n                      </When>\r\n                      <Otherwise>\r\n                        <MessagePanelMessage\r\n                          isMyMessage={isMyMessage}\r\n                          isAdding={isAdding}\r\n                        >\r\n                          {content}\r\n                        </MessagePanelMessage>\r\n                        <MessagePanelMessageTime>\r\n                          <span>{messageTimeParser(time, 'wide')}</span>\r\n                        </MessagePanelMessageTime>\r\n                      </Otherwise>\r\n                    </Choose>\r\n                  </MessagePanelListItemMessageWrapper>\r\n                </MessagePanelListItem>\r\n              </RootRef>\r\n            )}\r\n          </InView>\r\n        );\r\n      });\r\n    };\r\n\r\n    return (\r\n      <Wrapper>\r\n        <ListScrollbar\r\n          show={scrollbar}\r\n          presence={scrollbarPresence}\r\n          onMouseEnter={() => this.toggleScrollbar(true)}\r\n          onMouseLeave={() => this.toggleScrollbar(false)}\r\n        >\r\n          <RootRef rootRef={this.scrollbarThumbRef}>\r\n            <div\r\n              onDragStart={() => false}\r\n              onMouseDown={this.onMouseDown}\r\n            />\r\n          </RootRef>\r\n        </ListScrollbar>\r\n        <RootRef rootRef={this.listViewRef}>\r\n          <MessagePanelListView\r\n            onScroll={this.onScroll}\r\n            onMouseOver={() => !scrollbar && this.toggleScrollbar(true)}\r\n            onMouseLeave={() => this.toggleScrollbar(false)}\r\n          >\r\n            <RootRef rootRef={this.listRef}>\r\n              <MessagePanelList disablePadding scrollbarPresence={scrollbarPresence}>\r\n                <ReactResizeDetector handleHeight onResize={this.onResize}>\r\n                  <Fragment>\r\n                    <MessagePanelLoading appeared={loading}>\r\n                      <CircularProgress size={20} color=\"primary\" />\r\n                    </MessagePanelLoading>\r\n                    {renderMessages()}\r\n                  </Fragment>\r\n                </ReactResizeDetector>\r\n              </MessagePanelList>\r\n            </RootRef>\r\n          </MessagePanelListView>\r\n        </RootRef>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessagePanelMessages;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  margin-bottom: ${getSpacing(1)};\r\n  color: ${getStyledProps('theme.palette.grey.600')};\r\n  background-color: #fff;\r\n  border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')}\r\n`;\r\n\r\nconst SearchIconWrapper = styled.div`\r\n  flex: 0 40px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${getStyledProps('theme.palette.primary.light')};\r\n`;\r\n\r\nconst SearchInput = styled(InputBase)`\r\n  && {\r\n    flex: 1 auto;\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\nconst ListSearch = ({ searchValue, onChange, autoFocus }) => (\r\n  <Wrapper>\r\n    <SearchIconWrapper>\r\n      <SearchIcon />\r\n    </SearchIconWrapper>\r\n    <SearchInput\r\n      type=\"text\"\r\n      value={searchValue}\r\n      onChange={({ target: { value } }) => onChange(value)}\r\n      placeholder=\"Search...\"\r\n      autoFocus={autoFocus}\r\n    />\r\n  </Wrapper>\r\n);\r\n\r\nListSearch.defaultProps = {\r\n  autoFocus: false,\r\n};\r\nListSearch.props = {\r\n  autoFocus: PropTypes.bool,\r\n};\r\n\r\nexport default ListSearch;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport gql from '../../gql';\r\nimport { createMutation } from '../../apollo/utils';\r\n\r\nconst {\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n} = gql;\r\n\r\nconst signUpAsyncValidationUsername = createMutation('signUpAsyncValidationUsername', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUpAsyncValidationEmail = createMutation('signUpAsyncValidationEmail', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUp = createMutation('signUp', SIGN_UP);\r\nconst signUpCompletion = createMutation('signUpCompletion', SIGN_UP_COMPLETION);\r\nconst signUpBySocial = createMutation('signUpBySocial', SIGN_UP_BY_SOCIAL);\r\n\r\nconst RegContainer = adopt({\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n});\r\n\r\nexport default RegContainer;\r\n","import auth from './auth';\r\nimport user from './user';\r\nimport chat from './chat';\r\n\r\n\r\nexport default {\r\n  ...auth,\r\n  ...user,\r\n  ...chat,\r\n};\r\n","import React, { Component, createRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport MoodIcon from '@material-ui/icons/MoodRounded';\r\nimport SendIcon from '@material-ui/icons/SendRounded';\r\nimport RootRef from '@material-ui/core/RootRef';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport orange from '@material-ui/core/colors/orange';\r\n\r\nimport AppListItemAvatar from '../ContactPanel/AppList/ListItemAvatar';\r\nimport TopLineProgress from '../TopLineProgress';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  position: relative;\r\n  border-top: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  padding-top: ${getSpacing(1)};\r\n`;\r\n\r\nconst MessagePanelCommentAvatar = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: ${getSpacing(2)};\r\n`;\r\n\r\nconst MessagePanelCommentForm = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  position: relative;\r\n`;\r\n\r\nconst MessagePanelCommentInput = styled(Input)`\r\n  && {\r\n    width: 100%;\r\n    min-height: 80px;\r\n    display: inline-flex;\r\n    align-items: flex-start;\r\n\r\n    > div {\r\n      width: 95%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MessagePanelCommentSmiles = styled.div`\r\n  ${position('absolute', 0, 0, null, null)}\r\n  font-size: 28px;\r\n  color: ${grey[500]};\r\n  cursor: pointer;\r\n  z-index: 10;\r\n\r\n  &:hover {\r\n    color: ${orange[300]};\r\n  }\r\n`;\r\n\r\nconst MessagePanelCommentSubmit = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n\r\n  button {\r\n    margin-top: ${getSpacing(1)};\r\n    text-transform: uppercase;\r\n\r\n    svg {\r\n      margin-left: ${getSpacing(1)};\r\n    }\r\n  }\r\n`;\r\n\r\nclass MessagePanelComment extends Component {\r\n  submitButtonRef = createRef();\r\n\r\n  inputRef = createRef();\r\n\r\n  state = {\r\n    value: '',\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { value } = this.state;\r\n    const { submit } = this.props;\r\n\r\n    if (value) {\r\n      submit(value);\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  onChange = () => {\r\n    const { value } = this.inputRef.current;\r\n\r\n    this.setState({ value });\r\n  }\r\n\r\n  clear = () => {\r\n    this.setState({ value: '' });\r\n    this.inputRef.current.focus();\r\n  }\r\n\r\n  onKeyDown = ({ key }) => {\r\n    if (key === 'Escape') {\r\n      this.inputRef.current.blur();\r\n    } else if (key === 'Enter') {\r\n      this.submitButtonRef.current.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { adding, avatars: { me, contact } } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <TopLineProgress height=\"1px\" loading={adding} bordered />\r\n        <MessagePanelCommentAvatar>\r\n          <AppListItemAvatar {...me} />\r\n        </MessagePanelCommentAvatar>\r\n        <MessagePanelCommentForm onSubmit={this.onSubmit}>\r\n          <MessagePanelCommentSmiles>\r\n            <MoodIcon fontSize=\"inherit\" color=\"inherit\" />\r\n          </MessagePanelCommentSmiles>\r\n          <MessagePanelCommentInput\r\n            inputRef={this.inputRef}\r\n            value={value}\r\n            onChange={this.onChange}\r\n            onKeyDown={this.onKeyDown}\r\n            placeholder=\"Write a message...\"\r\n            multiline\r\n          />\r\n          <MessagePanelCommentSubmit>\r\n            <RootRef rootRef={this.submitButtonRef}>\r\n              <Button\r\n                variant=\"text\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                {'Send'}\r\n                <SendIcon />\r\n              </Button>\r\n            </RootRef>\r\n          </MessagePanelCommentSubmit>\r\n        </MessagePanelCommentForm>\r\n        <MessagePanelCommentAvatar>\r\n          <AppListItemAvatar {...contact} />\r\n        </MessagePanelCommentAvatar>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessagePanelComment;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\n// import { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AvatarIndicator = styled.span`\r\n  ${position('absolute', null, '2px', '2px', null)};\r\n  ${size('10px')};\r\n  display: block;\r\n  background-color: ${green[500]};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ListItemAvatar = ({\r\n  online,\r\n  src,\r\n  alt,\r\n  text,\r\n}) => (\r\n  <Wrapper>\r\n    <Choose>\r\n      <When condition={src}>\r\n        <Avatar src={src} alt={alt || text} />\r\n      </When>\r\n      <Otherwise>\r\n        <Avatar>{text}</Avatar>\r\n      </Otherwise>\r\n    </Choose>\r\n    <If condition={online}>\r\n      <AvatarIndicator />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nListItemAvatar.defaultProps = {\r\n  online: false,\r\n  src: '',\r\n  alt: '',\r\n  text: '',\r\n};\r\nListItemAvatar.propTypes = {\r\n  online: PropTypes.bool,\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  text: PropTypes.string,\r\n};\r\n\r\nexport default ListItemAvatar;\r\n","import { adopt } from 'react-adopt';\r\nimport { map } from 'lodash';\r\n\r\nimport { createQuery, createMutation, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n// import { icqBeepPlay } from '../../helpers';\r\n\r\nconst {\r\n  GET_MY_CHATS,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n} = gql;\r\n\r\nconst addMessageUpdate = (client, { chatId, message }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n  const updatedMyChats = map(myChats, (chat) => {\r\n    const { id, messages } = chat;\r\n\r\n    if (id === chatId) {\r\n      const newMessages = [...messages, message];\r\n\r\n      return {\r\n        ...chat,\r\n        messages: newMessages,\r\n      };\r\n    }\r\n    return chat;\r\n  });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts,\r\n      myChats: updatedMyChats,\r\n    },\r\n  });\r\n};\r\n\r\nconst getMyChats = createQuery('getMyChats', GET_MY_CHATS, {\r\n  notifyOnNetworkStatusChange: true,\r\n});\r\nconst addMessage = createMutation('addMessage', ADD_MESSAGE, {\r\n  update(client, { data }) {\r\n    addMessageUpdate(client, data.addMessage);\r\n  },\r\n});\r\nconst messageAddedSubscription = createSubscription('messageAddedSubscription', MESSAGE_ADDED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { messageAdded } } }) {\r\n    addMessageUpdate(client, messageAdded);\r\n    // icqBeepPlay();\r\n  },\r\n});\r\n\r\nconst ContactsContainer = adopt({\r\n  getMyChats,\r\n  addMessage,\r\n  messageAddedSubscription,\r\n});\r\n\r\nexport default ContactsContainer;\r\n","import { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\nconst cache = new InMemoryCache({\r\n  freezeResults: true,\r\n});\r\n\r\nconst initialState = {\r\n  sessionExpired: false,\r\n  me: {\r\n    __typename: 'User',\r\n  },\r\n  myContacts: [],\r\n  myChats: [],\r\n};\r\n\r\nexport const initData = () => {\r\n  cache.writeData({ data: initialState });\r\n};\r\ninitData();\r\n\r\nexport default cache;\r\n","import React, { Component } from 'react';\r\nimport createReactContext from 'create-react-context';\r\n\r\nexport const AppContext = createReactContext({});\r\n\r\nclass AppProvider extends Component {\r\n  state = {\r\n    fetching: false,\r\n    user: {},\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user });\r\n  }\r\n\r\n  setFetching = (fetching) => {\r\n    this.setState({ fetching });\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <AppContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          setUser: this.setUser,\r\n          setFetching: this.setFetching,\r\n        }}\r\n      >\r\n        {children}\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppProvider;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst ListItemStyled = styled(ListItem)`\r\n  && {\r\n    padding: 0 ${getSpacing(1)};\r\n    margin-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst AppListItem = ({ children, onClick }) => {\r\n  return (\r\n    <ListItemStyled onClick={onClick}>\r\n      {children}\r\n    </ListItemStyled>\r\n  );\r\n};\r\n\r\nexport default AppListItem;\r\n","import { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloLink, from, split } from 'apollo-link';\r\nimport { onError } from 'apollo-link-error';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\r\nimport { isEmpty } from 'lodash';\r\n\r\nimport storage from '../storage';\r\nimport client from './index';\r\n\r\nconst httpLink = createUploadLink({\r\n  uri: process.env.APOLLO_URL,\r\n});\r\nconst wsClient = new SubscriptionClient(process.env.WS_URL, {\r\n  reconnect: true,\r\n});\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options, next) => {\r\n    options.tokens = storage.getTokens();\r\n    next();\r\n  },\r\n};\r\n\r\nconst wsLink = new WebSocketLink(wsClient);\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst networkLink = split(\r\n  ({ query }) => {\r\n    const { kind, operation } = getMainDefinition(query);\r\n    return kind === 'OperationDefinition' && operation === 'subscription';\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst authLink = new ApolloLink((operation, forward) => {\r\n  operation.setContext({\r\n    headers: {\r\n      'x-token': storage.token.get(),\r\n      'x-refresh-token': storage.refreshToken.get(),\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\nconst tokenLink = new ApolloLink((operation, forward) => forward(operation).map((response) => {\r\n  const context = operation.getContext();\r\n\r\n  if ('response' in context) {\r\n    const { response: { headers } } = context;\r\n\r\n    if (headers) {\r\n      const token = headers.get('x-token');\r\n      const refreshToken = headers.get('x-refresh-token');\r\n\r\n      if (token && refreshToken) {\r\n        storage.setTokens(token, refreshToken);\r\n      }\r\n    }\r\n  }\r\n  return response;\r\n}));\r\n\r\nconst errorLink = onError(({ networkError = {}, graphQLErrors }) => {\r\n  if (networkError.statusCode === 401) {\r\n    client.writeData({ data: { sessionExpired: true } });\r\n  }\r\n  if (!isEmpty(networkError)) {\r\n    console.log(networkError);\r\n  }\r\n  if (!isEmpty(graphQLErrors)) {\r\n    console.log(graphQLErrors);\r\n  }\r\n});\r\n\r\nconst logger = new ApolloLink((operation, forward) => {\r\n  const { operationName } = operation;\r\n  console.log(`log operation: ${operationName}`, operation);\r\n  return forward(operation).map((response) => {\r\n    console.log(`log operation result ${operationName}:`, response);\r\n    return response;\r\n  });\r\n});\r\n\r\nconst link = from([\r\n  authLink,\r\n  tokenLink,\r\n  logger,\r\n  errorLink,\r\n  networkLink,\r\n]);\r\n\r\nexport default link;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n// import InfoIcon from '@material-ui/icons/Info';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport amber from '@material-ui/core/colors/amber';\r\n\r\nimport { getStyledProps } from '../../styles';\r\n\r\nconst NotificationMessageIcon = ({ type }) => (\r\n  <Choose>\r\n    <When condition={type === 'error'}>\r\n      <ErrorIcon />\r\n    </When>\r\n    <When condition={type === 'warning'}>\r\n      <WarningIcon />\r\n    </When>\r\n    <Otherwise>{null}</Otherwise>\r\n  </Choose>\r\n);\r\n\r\nconst NotificationMessageWrapper = styled.p`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #fff;\r\n\r\n  span {\r\n    margin-left: 1em;\r\n  }\r\n`;\r\n\r\nconst NotificationContentWrapper = styled(SnackbarContent)`\r\n  && {\r\n    background-color: ${(props) => {\r\n    const { type } = props;\r\n\r\n    if (type === 'error') {\r\n      return getStyledProps('theme.palette.error.main')(props);\r\n    }\r\n    return amber[500];\r\n  }}}\r\n`;\r\n\r\nconst NotificationMessage = ({ type, message }) => (\r\n  <NotificationMessageWrapper>\r\n    <NotificationMessageIcon type={type} />\r\n    <span>\r\n      {message}\r\n    </span>\r\n  </NotificationMessageWrapper>\r\n);\r\n\r\nconst NotificationClose = ({ toggle }) => (\r\n  <IconButton\r\n    key=\"close\"\r\n    aria-label=\"Close\"\r\n    color=\"inherit\"\r\n    onClick={toggle}\r\n  >\r\n    <CloseIcon />\r\n  </IconButton>\r\n);\r\n\r\nconst NotificationContent = ({ type, message, toggle }) => (\r\n  <NotificationContentWrapper\r\n    type={type}\r\n    aria-describedby=\"alert-notification\"\r\n    message={<NotificationMessage key=\"message\" type={type} message={message} />}\r\n    action={[<NotificationClose key=\"close\" toggle={toggle} />]}\r\n  />\r\n);\r\n\r\nconst Notification = ({\r\n  type,\r\n  message,\r\n  open,\r\n  toggle,\r\n  ...rest\r\n}) => (\r\n  <Snackbar\r\n    open={open}\r\n    onClose={(event, reason) => {\r\n      if (reason === 'timeout' && !open) {\r\n        return;\r\n      }\r\n      toggle();\r\n    }}\r\n    anchorOrigin={{\r\n      horizontal: 'right',\r\n      vertical: 'top',\r\n    }}\r\n    autoHideDuration={4000}\r\n    TransitionProps={{\r\n      direction: 'left',\r\n    }}\r\n    {...rest}\r\n  >\r\n    <NotificationContent type={type} message={message} toggle={() => toggle()} />\r\n  </Snackbar>\r\n);\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  z-index: 20;\r\n`;\r\n\r\nconst MessagePanelTopBarName = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n\r\n  p {\r\n    ${getStyledProps('theme.typography.subtitle2')};\r\n  }\r\n`;\r\n\r\nconst MessagePanelTopBarStatus = styled.span`\r\n  ${getStyledProps('theme.typography.caption')};\r\n  color: ${({ online, ...rest }) => (online\r\n    ? green[600]\r\n    : getStyledProps('theme.palette.grey.500')(rest))};\r\n`;\r\n\r\nconst MessagePanelTopBar = ({ name, statusText, isOnline }) => (\r\n  <Wrapper>\r\n    <IconButton>\r\n      <SearchIcon />\r\n    </IconButton>\r\n    <MessagePanelTopBarName>\r\n      <p>{name}</p>\r\n      <MessagePanelTopBarStatus online={isOnline}>\r\n        {statusText}\r\n      </MessagePanelTopBarStatus>\r\n    </MessagePanelTopBarName>\r\n    <IconButton>\r\n      <SettingsIcon />\r\n    </IconButton>\r\n  </Wrapper>\r\n);\r\n\r\nexport default MessagePanelTopBar;\r\n","// import {} from 'lodash';\r\n\r\nconst createTokenMethods = name => ({\r\n  name,\r\n  set(token) {\r\n    localStorage.setItem(this.name, token);\r\n  },\r\n  get() {\r\n    return localStorage.getItem(this.name) || '';\r\n  },\r\n  remove() {\r\n    localStorage.removeItem(this.name);\r\n  },\r\n});\r\n\r\nexport default {\r\n  token: createTokenMethods('chatkilla_tkn'),\r\n  refreshToken: createTokenMethods('chatkilla_rfrsh_tkn'),\r\n  setTokens(token, refreshToken) {\r\n    this.token.set(token);\r\n    this.refreshToken.set(refreshToken);\r\n  },\r\n  getTokens() {\r\n    const token = this.token.get();\r\n    const refreshToken = this.refreshToken.get();\r\n\r\n    return { token, refreshToken };\r\n  },\r\n  removeTokens() {\r\n    this.token.remove();\r\n    this.refreshToken.remove();\r\n  },\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport List from '@material-ui/core/List';\r\n\r\nimport { getStyledProps } from '../../../../styles';\r\n\r\nexport const Wrapper = styled.div`\r\n  flex: 1 auto;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ListStyled = styled(List)`\r\n  && {\r\n    ${position('absolute', 0, '-17px', 0, 0)}\r\n    height: 100%;\r\n    max-height: 100%;\r\n    overflow-y: scroll;\r\n    transition-duration: ${getStyledProps('theme.transitions.duration.shortest', 'ms')};\r\n    transition-timing-function: ${getStyledProps('theme.transitions.easing.sharp')};\r\n  }\r\n`;\r\n\r\nconst AppList = ({ children }) => (\r\n  <Wrapper>\r\n    <ListStyled disablePadding>\r\n      {children}\r\n    </ListStyled>\r\n  </Wrapper>\r\n);\r\n\r\nexport default AppList;\r\n","import gql from 'graphql-tag';\r\n\r\nexport const authPayloadFragment = gql`\r\n  fragment tokens on AuthPayload {\r\n    token\r\n    refreshToken\r\n  }\r\n`;\r\n\r\nexport const myFragment = gql`\r\n  fragment myData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n  }\r\n`;\r\n\r\nexport const userInfoFragment = gql`\r\n  fragment userInfoData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n    lastDate\r\n  }\r\n`;\r\n\r\nexport const myContactFragment = gql`\r\n  fragment myContactData on MyContact {\r\n    id\r\n    chatId\r\n    userInfo {\r\n      ...userInfoData\r\n    }\r\n  }\r\n  ${userInfoFragment}\r\n`;\r\n\r\nexport const messageFragment = gql`\r\n  fragment messageData on ChatMessage {\r\n    id\r\n    senderId\r\n    type\r\n    content\r\n    time\r\n    edited\r\n    seen\r\n  }\r\n`;\r\n\r\nexport const myChatFragment = gql`\r\n  fragment myChatData on Chat {\r\n    id\r\n    messages {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const myContactActivityFragment = gql`\r\n  fragment contactActivity on MyContact {\r\n    userInfo {\r\n      id\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport importedComponent from 'react-imported-component';\r\n\r\nimport Login from '../components/dumb/Login/Login';\r\nimport Reg from '../components/dumb/Reg/Reg';\r\nimport Chats from '../components/dumb/Chats/Chats';\r\nimport NotFound from '../components/common/NotFound';\r\nimport PageLoader from '../components/common/PageLoader';\r\n\r\nimport AppRoute from './AppRoute';\r\n\r\nconst LoginLayout = importedComponent(() => import('../components/layouts/LoginLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst AppLayout = importedComponent(() => import('../components/layouts/AppLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst NotFoundLayout = importedComponent(() => import('../components/layouts/NotFoundLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <AppRoute path=\"/login\" layout={LoginLayout} component={Login} />\r\n    <AppRoute path=\"/reg\" layout={LoginLayout} component={Reg} />\r\n    <AppRoute exact path=\"/\" component={Redirect} to=\"/chats\" redirect />\r\n    <AppRoute path=\"/chats\" layout={AppLayout} component={Chats} privateRoute />\r\n    <AppRoute path=\"*\" layout={NotFoundLayout} component={NotFound} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    padding: ${getSpacing(5)} ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\nconst SignUpButton = styled(Button)`\r\n  && {\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst LoginForm = ({\r\n  signIn,\r\n  signInBySocial,\r\n  toSignUp,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <AccountCircleIcon fontSize=\"inherit\" color=\"primary\" />\r\n      </Header>\r\n      <Form\r\n        {...formConfig('signIn')}\r\n        mutation={signIn.mutation}\r\n        result={signIn.result}\r\n        submitButtonText=\"Sign In\"\r\n      />\r\n      <SignUpButton\r\n        onClick={toSignUp}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n      >\r\n        {'Sign Up'}\r\n      </SignUpButton>\r\n      <SocialMedia\r\n        mutation={signInBySocial.mutation}\r\n        result={signInBySocial.result}\r\n        note=\"Sign In with social media:\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport LoginContainer from '../../smart/LoginContainer';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/login-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass Login extends Component {\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    const { history } = this.props;\r\n\r\n    storage.setTokens(token, refreshToken);\r\n    history.push('/');\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n      if (!invalidField) {\r\n        toggleNotification(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  toSignUp = () => {\r\n    const { history } = this.props;\r\n\r\n    history.push('/reg');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <LoginContainer\r\n        signInProps={{\r\n          onCompleted: ({ signIn }) => this.handleSuccess(signIn),\r\n          onError: this.handleError,\r\n        }}\r\n        signInBySocialProps={{\r\n          onCompleted: ({ signInBySocial }) => this.handleSuccess(signInBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({ signIn, signInBySocial }) => (\r\n          <Wrapper\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <LoginForm\r\n              signIn={signIn}\r\n              signInBySocial={signInBySocial}\r\n              toSignUp={this.toSignUp}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </LoginContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNotification(Login);\r\n","import React, { PureComponent, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { map, find } from 'lodash';\r\n\r\n// import Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport SearchDialogContainer from '../../smart/SearchDialogContainer';\r\n\r\nimport ListSearch from './AppList/ListSearch';\r\nimport List from './AppList/List';\r\nimport SearchDialogListItem from './SearchDialogListItem';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListWrapper = styled.div`\r\n  height: 200px;\r\n  display: flex;\r\n`;\r\n\r\nconst SubTitle = styled(Typography)`\r\n  && {\r\n    padding: 0 ${getSpacing(3)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst ProgressWrapper = styled.div`\r\n  flex: 1 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nclass SearchDialog extends PureComponent {\r\n  state = {\r\n    searchValue: '',\r\n    confirmDialog: false,\r\n    selectedUser: {},\r\n  }\r\n\r\n  onChangeSearchValue = (value, refetch) => {\r\n    this.setState(\r\n      () => ({ searchValue: value }),\r\n      () => {\r\n        refetch();\r\n      },\r\n    );\r\n  }\r\n\r\n  openConfirmDialog = (user = {}) => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n      selectedUser: user,\r\n    }));\r\n  }\r\n\r\n  closeConfirmDialog = () => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { searchValue, confirmDialog, selectedUser } = this.state;\r\n    const { open, toggle } = this.props;\r\n\r\n    return (\r\n      <SearchDialogContainer\r\n        searchUsersProps={{\r\n          variables: { searchValue },\r\n          skip: !searchValue,\r\n        }}\r\n      >\r\n        {({\r\n          searchUsers: { loading, data, refetch },\r\n          createChat,\r\n          getMyContacts,\r\n        }) => {\r\n          const { data: { myContacts } } = getMyContacts;\r\n\r\n          return (\r\n            <Fragment>\r\n              <Dialog open={open} onClose={toggle} scroll=\"body\">\r\n                <DialogTitle>\r\n                  Search contact\r\n                </DialogTitle>\r\n                <SubTitle variant=\"subtitle2\">\r\n                  Search contact by name or use \"@\" as a first character for searching by username.\r\n                </SubTitle>\r\n                <DialogContent>\r\n                  <ListSearch\r\n                    value={searchValue}\r\n                    onChange={value => this.onChangeSearchValue(value, refetch)}\r\n                    autoFocus\r\n                  />\r\n                  <ListWrapper>\r\n                    <Choose>\r\n                      <When condition={loading}>\r\n                        <ProgressWrapper>\r\n                          <CircularProgress size={20} />\r\n                        </ProgressWrapper>\r\n                      </When>\r\n                      <When condition={!data}>\r\n                        {null}\r\n                      </When>\r\n                      <Otherwise>\r\n                        <List>\r\n                          {map(data.searchUsers, (user) => {\r\n                            const { id } = user;\r\n                            const added = !!find(myContacts, ({ userInfo }) => userInfo.id === id);\r\n\r\n                            return (\r\n                              <SearchDialogListItem\r\n                                key={id}\r\n                                item={user}\r\n                                adding={createChat.result.loading && selectedUser.id === id}\r\n                                added={added}\r\n                                openConfirmDialog={this.openConfirmDialog}\r\n                              />\r\n                            );\r\n                          })}\r\n                        </List>\r\n                      </Otherwise>\r\n                    </Choose>\r\n                  </ListWrapper>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button onClick={toggle} color=\"primary\">Close</Button>\r\n                </DialogActions>\r\n                {/* <DialogActions>\r\n                  <Button onClick={toggle} color=\"primary\">Cancel</Button>\r\n                  <Button color=\"primary\" disabled>Add</Button>\r\n                </DialogActions> */}\r\n              </Dialog>\r\n              <If condition={confirmDialog}>\r\n                <Dialog open={confirmDialog} onClose={toggle}>\r\n                  <DialogTitle>Create chat with {selectedUser.displayName}?</DialogTitle>\r\n                  <DialogActions>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      onClick={this.closeConfirmDialog}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        createChat.mutation({ variables: { userId: selectedUser.id } });\r\n                        this.closeConfirmDialog();\r\n                      }}\r\n                    >\r\n                      Confirm\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </If>\r\n            </Fragment>\r\n          );\r\n        }}\r\n      </SearchDialogContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDialog;\r\n","import React, { Fragment } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from 'styled-components';\r\n\r\nimport AppProvider from './context/AppProvider';\r\nimport Router from '../router';\r\nimport { GlobalStyle, theme } from '../styles';\r\n\r\nconst App = () => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ThemeProvider theme={theme}>\r\n        <AppProvider>\r\n          <Fragment>\r\n            <GlobalStyle />\r\n            <Router />\r\n          </Fragment>\r\n        </AppProvider>\r\n      </ThemeProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default hot(module)(App);\r\n","import { ApolloClient } from 'apollo-client';\r\n\r\nimport link from './link';\r\nimport cache, { initData } from './cache';\r\n\r\nconst client = new ApolloClient({\r\n  link,\r\n  cache,\r\n  resolvers: {},\r\n  credentials: 'include',\r\n  assumeImmutableResults: true,\r\n});\r\n\r\nclient.onResetStore(initData);\r\n\r\nexport default client;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport RegContainer from '../../smart/RegContainer';\r\nimport RegForm from './RegForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport { checkToken } from '../../../router/PrivateRoute';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/reg-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    activeStep: 0,\r\n    completed: false,\r\n  }\r\n\r\n  steps = [\r\n    'Create your account',\r\n    'Tell us about yourself',\r\n  ];\r\n\r\n  async componentDidMount() {\r\n    const { location: { search }, history } = this.props;\r\n    const { token } = queryString.parse(search);\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, true);\r\n\r\n        if (regStatus) {\r\n          this.setActiveStep(1);\r\n        } else {\r\n          history.push('/reg');\r\n        }\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    if (token && refreshToken) {\r\n      const { history } = this.props;\r\n\r\n      storage.setTokens(token, refreshToken);\r\n      history.push('/');\r\n    } else {\r\n      this.setState({ completed: true });\r\n    }\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message } = graphQLErrors[0];\r\n\r\n      toggleNotification(message);\r\n    }\r\n  }\r\n\r\n  setActiveStep = (step) => {\r\n    this.setState(() => ({ activeStep: step }));\r\n  }\r\n\r\n  render() {\r\n    const { activeStep, completed } = this.state;\r\n\r\n    return (\r\n      <RegContainer\r\n        signUpProps={{\r\n          onCompleted: ({ signUp }) => this.handleSuccess(signUp),\r\n        }}\r\n        signUpCompletionProps={{\r\n          onCompleted: ({ signUpCompletion }) => this.handleSuccess(signUpCompletion),\r\n        }}\r\n        signUpBySocialProps={{\r\n          onCompleted: ({ signUpBySocial }) => this.handleSuccess(signUpBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({\r\n          signUpAsyncValidationUsername,\r\n          signUpAsyncValidationEmail,\r\n          signUp,\r\n          signUpCompletion,\r\n          signUpBySocial,\r\n        }) => (\r\n          <Wrapper\r\n            ref={this.createRef}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <RegForm\r\n              steps={this.steps}\r\n              activeStep={activeStep}\r\n              completed={completed}\r\n              signUpAsyncValidationUsername={signUpAsyncValidationUsername}\r\n              signUpAsyncValidationEmail={signUpAsyncValidationEmail}\r\n              signUp={signUp}\r\n              signUpCompletion={signUpCompletion}\r\n              signUpBySocial={signUpBySocial}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </RegContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNotification(SignUp);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfiedRounded';\r\n\r\nconst Wrapper = styled.div`\r\n  ${size('100%')}\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n`;\r\n\r\nconst ContentIcon = styled.div`\r\n  width: 100%;\r\n  font-size: 7em;\r\n`;\r\n\r\nconst NotFound = () => (\r\n  <Wrapper>\r\n    <Content>\r\n      <ContentIcon>\r\n        <SentimentDissatisfiedIcon color=\"primary\" fontSize=\"inherit\" />\r\n      </ContentIcon>\r\n      <Typography variant=\"h4\">\r\n        Sorry, but page not found...\r\n      </Typography>\r\n    </Content>\r\n  </Wrapper>\r\n);\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nimport App from './components/App';\r\n\r\nimport apollo from './apollo';\r\nimport history from './router/history';\r\n\r\nconst renderApp = (Component) => {\r\n  render(\r\n    <ApolloProvider client={apollo}>\r\n      <Router history={history}>\r\n        <Component />\r\n      </Router>\r\n    </ApolloProvider>, document.getElementById('root'),\r\n  );\r\n};\r\n\r\nrenderApp(App);\r\nregisterServiceWorker();\r\n","import { transform, forEach, set } from 'lodash';\r\nimport * as yup from 'yup';\r\n\r\nexport const formFields = {\r\n  signIn: [{\r\n    name: 'username',\r\n    label: 'User Name / Email Address',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepOne: [{\r\n    name: 'username',\r\n    label: 'User Name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'email',\r\n    label: 'Email Address',\r\n    type: 'email',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepTwo: [{\r\n    name: 'firstName',\r\n    label: 'First Name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'lastName',\r\n    label: 'Last name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'gender',\r\n    label: 'Gender',\r\n    type: 'radio',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: 'Male',\r\n    values: ['Male', 'Female', 'Other'],\r\n  }, {\r\n    name: 'birthday',\r\n    label: 'Birthday',\r\n    type: 'date',\r\n    autoComplete: 'no',\r\n    required: false,\r\n    initialValue: '',\r\n  }],\r\n};\r\n\r\nexport const formValidationSchemas = {\r\n  signIn: yup.object().shape(transform(formFields.signIn, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepOne: yup.object().shape(transform(formFields.signUpStepOne, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'email': {\r\n        res[name] = yup.string().email().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepTwo: yup.object().shape(transform(formFields.signUpStepTwo, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'firstName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'lastName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'gender': {\r\n        res[name] = yup.string();\r\n        break;\r\n      }\r\n      case 'birthday': {\r\n        res[name] = yup.date().typeError('');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n};\r\n\r\nexport const formInitialValues = transform(formFields, (res, values, formName) => {\r\n  res[formName] = {};\r\n\r\n  forEach(values, ({ name, initialValue }) => {\r\n    set(res[formName], name, initialValue);\r\n  });\r\n}, {});\r\n\r\n\r\nexport default formId => ({\r\n  fields: formFields[formId],\r\n  validationSchema: formValidationSchemas[formId],\r\n  initialValues: formInitialValues[formId],\r\n});\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { isEqual, map, concat } from 'lodash';\r\nimport uuid from 'uuid/v4';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport MessagePanelTopBar from './MessagePanelTopBar';\r\nimport MessagePanelMessages from './MessagePanelMessages';\r\nimport MessagePanelComment from './MessagePanelComment';\r\n\r\nimport { getSpacing } from '../../../styles';\r\nimport { getAvatarInitials, userLastDateParser } from '../../../helpers';\r\nimport gql from '../../../gql';\r\n\r\nconst { GET_CHAT_MESSAGES } = gql;\r\n\r\nconst WrapperPaper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)} 0;\r\n    background-color: #fff;\r\n  }\r\n`;\r\n\r\nclass MessagePanel extends Component {\r\n  fetchSize = 20;\r\n\r\n  componentDidMount() {\r\n    this.getMessages();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { chat: { id } } = this.props;\r\n\r\n    if (!isEqual(prevProps.chat.id, id)) {\r\n      this.getMessages();\r\n    }\r\n  }\r\n\r\n  getMessages = (fetchMore = false) => {\r\n    const { chat } = this.props;\r\n    const { id: chatId, messages } = chat;\r\n    const skip = messages.length;\r\n\r\n    if (!fetchMore) {\r\n      if (skip < this.fetchSize) {\r\n        this.fetchMoreMessages({ chatId, skip });\r\n      }\r\n    } else {\r\n      this.fetchMoreMessages({ chatId, skip });\r\n    }\r\n  }\r\n\r\n  addMessage = (content) => {\r\n    const {\r\n      chat: { id: chatId },\r\n      me,\r\n      updateSendedIds,\r\n      addMessage,\r\n    } = this.props;\r\n    const { id } = me;\r\n    const time = new Date();\r\n    const optimisticId = uuid();\r\n\r\n    const variables = {\r\n      chatId,\r\n      content,\r\n      time,\r\n      optimisticId,\r\n    };\r\n\r\n    updateSendedIds(optimisticId);\r\n    addMessage({\r\n      variables,\r\n      optimisticResponse: {\r\n        __typename: 'Mutation',\r\n        addMessage: {\r\n          chatId,\r\n          optimistic: true,\r\n          optimisticId,\r\n          message: {\r\n            id: optimisticId,\r\n            senderId: id,\r\n            content,\r\n            time,\r\n            type: 'text',\r\n            seen: false,\r\n            edited: false,\r\n            __typename: 'ChatMessage',\r\n          },\r\n          __typename: 'MessageUpdate',\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  fetchMoreMessages = (variables) => {\r\n    const { fetchMoreMessages } = this.props;\r\n\r\n    fetchMoreMessages({\r\n      query: GET_CHAT_MESSAGES,\r\n      variables,\r\n      updateQuery: (prev, { fetchMoreResult }) => {\r\n        const { myChats: chats } = prev;\r\n        const { chatMessages } = fetchMoreResult;\r\n        const { chatId } = variables;\r\n        const updatedChats = map(chats, (chat) => {\r\n          const { id, messages } = chat;\r\n\r\n          if (id === chatId) {\r\n            const updatedMessages = concat(chatMessages, messages);\r\n\r\n            return { ...chat, messages: updatedMessages };\r\n          }\r\n          return chat;\r\n        });\r\n\r\n        return { ...prev, myChats: updatedChats };\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      adding,\r\n      me,\r\n      contact,\r\n      chat,\r\n      sendedIds,\r\n    } = this.props;\r\n    const { userInfo } = contact;\r\n    const { displayName, status, lastDate } = userInfo;\r\n    const { id: chatId, messages } = chat;\r\n\r\n    const isOnline = status === 'ONLINE';\r\n    const statusText = isOnline\r\n      ? 'online'\r\n      : userLastDateParser(lastDate);\r\n    const myAvatarText = getAvatarInitials(me);\r\n    const contactAvatarText = getAvatarInitials(userInfo);\r\n\r\n    return (\r\n      <WrapperPaper square elevation={0}>\r\n        <MessagePanelTopBar\r\n          name={displayName}\r\n          isOnline={isOnline}\r\n          statusText={statusText}\r\n        />\r\n        <MessagePanelMessages\r\n          chatId={chatId}\r\n          loading={loading}\r\n          adding={adding}\r\n          myId={me.id}\r\n          messages={messages}\r\n          sendedIds={sendedIds}\r\n          getMessages={() => this.getMessages(true)}\r\n          fetchSize={this.fetchSize}\r\n          fetchHorizon={5}\r\n        />\r\n        <MessagePanelComment\r\n          adding={adding}\r\n          avatars={{\r\n            me: {\r\n              src: me.avatar && me.avatar.sm,\r\n              text: myAvatarText,\r\n            },\r\n            contact: {\r\n              src: userInfo.avatar && userInfo.avatar.sm,\r\n              text: contactAvatarText,\r\n            },\r\n          }}\r\n          submit={this.addMessage}\r\n        />\r\n      </WrapperPaper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessagePanel;\r\n","import { upperCase, isEmpty } from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport icqBeep from '../assets/audio/icqBeep';\r\n\r\nexport const getAvatarInitials = (user = null) => {\r\n  if (!user || isEmpty(user)) return '';\r\n\r\n  const { firstName, lastName } = user;\r\n  const firstLater = upperCase(firstName[0]);\r\n\r\n  if (!lastName) {\r\n    return firstLater;\r\n  }\r\n  const lastLater = upperCase(lastName[0]);\r\n\r\n  return `${firstLater}${lastLater}`;\r\n};\r\n\r\nexport const historyDateParser = date => moment(date).format('dddd, MMMM D, YYYY');\r\n\r\nconst shortMessageTimeParser = date => moment(date).calendar(null, {\r\n  sameDay: 'HH:mm',\r\n  lastDay: 'ddd',\r\n  lastWeek: 'ddd',\r\n  sameElse: 'DD/MM/YY',\r\n});\r\n\r\nexport const messageTimeParser = (time, variant = 'short') => {\r\n  if (variant === 'wide') {\r\n    return moment(time).format('HH:mm:ss');\r\n  }\r\n  return shortMessageTimeParser(time);\r\n};\r\n\r\nexport const userLastDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[today at] HH:mm',\r\n  lastDay: '[yesterday at] HH:mm',\r\n  lastWeek: '[last] dddd [at] HH:mm',\r\n  sameElse: 'DD/MM/YYYY',\r\n});\r\n\r\nconst messageHistoryDateFormat = 'dddd, MMMM D, YYYY';\r\n\r\nexport const messageHistoryDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[Today]',\r\n  lastDay: '[Yesterday]',\r\n  lastWeek: messageHistoryDateFormat,\r\n  sameElse: messageHistoryDateFormat,\r\n});\r\n\r\nexport const isSameDay = (date, referenceDate) => {\r\n  const a = moment(date);\r\n  const b = moment(referenceDate);\r\n  const diff = a.isSame(b, 'days');\r\n\r\n  return diff;\r\n};\r\n\r\nexport const icqBeepPlay = () => icqBeep.play();\r\n\r\nexport const getBase64 = file => new Promise((res, rej) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.onload = () => {\r\n    res(reader.result);\r\n  };\r\n  reader.onerror = (error) => {\r\n    rej(error);\r\n  };\r\n});\r\n"],"sourceRoot":""}