(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,n,t){t("55Il"),e.exports=t("tjUo")},InJ6:function(e,n,t){"use strict";t.d(n,"b",function(){return p}),t.d(n,"c",function(){return m}),t.d(n,"a",function(){return d});t("DW2E");var r=t("mwIZ"),o=t.n(r),a=t("vOnD"),i=t("SUMQ"),l=t("vUL5"),c=t.n(l),u=t("+IKJ");function f(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  ","\n\n  html,\n  body {\n    width: 100%;\n    height: 100%;\n  }\n\n  body {\n    min-height: 100%;\n    font-family: ",";\n    font-size: ","px;\n    font-weight: ",";\n    color: #000;\n    background-color: #fff;\n    overflow-y: auto;\n\n    #root {\n      ",";\n      display: flex;\n    }\n  }\n"]);return f=function(){return e},e}var s=function(n){return function(e){return o()(e,n)}},p=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return function(e){var n=s("theme.spacing.unit")(e);return"".concat(n*t,"px")}},m=Object(i.createMuiTheme)({typography:{useNextVariants:!0}}),d=Object(a.createGlobalStyle)(f(),c.a,s("theme.typography.fontFamily"),s("theme.typography.fontSize"),s("theme.typography.fontWeightRegular"),Object(u.d)("inherit"))},m6d8:function(e,n,t){e.exports=t.p+"assets/images/login-bg.jpg"},oYx3:function(e,n,t){"use strict";var a=t("q1tI"),h=t.n(a),r=t("jKe7"),o=t("CnBM"),i=t.n(o),l=(t("DW2E"),t("rE2o"),t("ioFf"),t("/SS/"),t("vOnD")),c=t("oJmH"),u=t("lTCR"),f=t.n(u);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  query GetMe {\n    getMe {\n      username\n      email\n      displayName\n      firstName\n      lastName\n      birthday\n      gender\n      status\n      lastDate\n    }\n  }\n"]);return y=function(){return e},e}var b=l.default.div.withConfig({displayName:"Home__Wrapper",componentId:"sc-1inpl3x-0"})(["flex:1 auto;"]),v=f()(y()),w=function(e){function f(){var e,n,t,r,o,a,i;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,f);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return t=this,n=!(r=(e=m(f)).call.apply(e,[this].concat(c)))||"object"!==s(r)&&"function"!=typeof r?g(t):r,o=g(g(n)),i={},(a="state")in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,n}var n,t,r;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(f,a["Component"]),n=f,(t=[{key:"render",value:function(){return h.a.createElement(b,null,h.a.createElement(c.Query,{query:v},function(e){var n=e.loading,t=e.error,r=e.data;return n?"Loading...":t?"Error...":(console.log(r.getMe),"Home")}))}}])&&p(n.prototype,t),r&&p(n,r),f}(),O=t("3ZzI"),E=t.n(O),j=t("+IKJ"),_=(t("rGqo"),t("yt8O"),t("f3/d"),t("UMpK")),k=t.n(_),I=t("3WF5"),S=t.n(I),C=t("9C/b"),P=t("Gwco"),x=t.n(P),q=t("3HZZ"),z=t.n(q),F=t("KYPV"),N=t("lCZi"),M=t("6ZaM"),L=t.n(M),R=t("pPbJ"),W=t.n(R),B=t("1DzM"),T=t.n(B),U=t("tc3z"),J=t.n(U),D=t("MwB+"),V=t.n(D),Z=t("ctcd"),H=t.n(Z),K=t("cUz1"),G=t.n(K),Q=t("+Cty"),$=t.n(Q),A=t("1IiC"),Y=t.n(A),X=t("+Hfg"),ee=t.n(X),ne=t("DOyF"),te=t.n(ne),re=t("ktIN"),oe=t.n(re),ae=t("1OZW"),ie=t.n(ae),le=t("DKSo"),ce=t.n(le),ue=t("IP2g"),fe=t("8tEE"),se=t("InJ6");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,n){return(ge=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function he(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  mutation SignIn($username: String!, $password: String!) {\n    signIn(username: $username, password: $password) {\n      token\n      refreshToken\n    }\n  }\n"]);return he=function(){return e},e}var ve=f()(he()),we=Object(l.default)(W.a).withConfig({displayName:"LoginForm__Wrapper",componentId:"sc-1siyffq-0"})(["&&{width:100%;max-width:375px;min-width:320px;padding:"," ",";}"],Object(se.b)(5),Object(se.b)(3)),Oe=Object(l.default)(L.a).withConfig({displayName:"LoginForm__Title",componentId:"sc-1siyffq-1"})(["width:100%;position:relative;text-align:center;"]),Ee=l.default.form.withConfig({displayName:"LoginForm__Form",componentId:"sc-1siyffq-2"})(["width:100%;"]),je=Object(l.default)(T.a).withConfig({displayName:"LoginForm__TextField",componentId:"sc-1siyffq-3"})(["&&{margin-bottom:1em;}"]),_e=(Object(l.default)(ce.a).withConfig({displayName:"LoginForm__CircularProgressIcon",componentId:"sc-1siyffq-4"})(["display:block;"]),l.default.div.withConfig({displayName:"LoginForm__SubmitButtonWrapper",componentId:"sc-1siyffq-5"})(["position:relative;margin-top:1em;"])),ke=l.default.div.withConfig({displayName:"LoginForm__BrandIconContainer",componentId:"sc-1siyffq-6"})(["width:100%;display:flex;align-items:flex-start;justify-content:center;margin-top:3em;"]),Ie=Object(l.default)($.a).withConfig({displayName:"LoginForm__BrandIconButton",componentId:"sc-1siyffq-7"})(["&&{color:#fff;}"]),Se=l.default.div.withConfig({displayName:"LoginForm__BrandIcon",componentId:"sc-1siyffq-8"})(["display:inline-flex;:not(:last-child){margin-right:2em;}","{background-color:",";:hover{background-color:",";}}"],Ie,function(e){return e.brandColor},function(e){var n=e.brandColor;return Object(j.c)(n,.8)}),Ce={signin:[{name:"username",label:"Username",type:"text",placeholder:"username or email",autocomplete:"on",required:!0,initial:""},{name:"password",label:"Password",type:"password",placeholder:"******",autocomplete:"on",required:!0,initial:""}]},Pe={signin:N.object().shape(k()(Ce.signin,function(e,n){var t=n.name;switch(t){case"username":e[t]=N.string().required("*required");break;case"password":e[t]=N.string().min(6).max(20).required("*required")}}),{})},xe=k()(Ce,function(e,n,t){e[t]=k()(n,function(e,n){var t=n.name,r=n.initial;e[t]=r},{})},{}),qe=[{id:"facebook",color:"#3232ff",iconElement:fe.a},{id:"google",color:"#ff3232",iconElement:fe.b}];console.log("377674965725-rdj6bvo4jj9d3j4e0kf8uhqpt58fridl.apps.googleusercontent.com");var ze=function(e){function r(e){var o,n,t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,t=de(r).call(this,e),be(ye(ye(o=!t||"object"!==pe(t)&&"function"!=typeof t?ye(n):t)),"toggleShowPassword",function(){o.setState(function(e){return{showPassword:!e.showPassword}})}),be(ye(ye(o)),"signInConfirmed",function(e){var n=e.token,t=e.refreshToken,r=o.props.history;localStorage.setItem("chatkilla_tkn",n),localStorage.setItem("chatkilla_rfrsh_tkn",t),r.push("/")}),be(ye(ye(o)),"signUp",function(){o.props.history.push("/login/new")}),be(ye(ye(o)),"socialSignInResponse",function(e,n){console.log(n)}),o.state={showPassword:!1},o.formId="signin",o.initialValues=xe[o.formId],o.formFields=Ce[o.formId],o.formValidationSchema=Pe[o.formId],o}var n,t,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ge(e,n)}(r,a["Component"]),n=r,(t=[{key:"render",value:function(){var y=this,b=this.state.showPassword;return h.a.createElement(c.Mutation,{mutation:ve,update:function(e,n){var t=n.data.signIn;y.signInConfirmed(t)}},function(r,e){var t=e.loading;return h.a.createElement(we,{elevation:8},h.a.createElement(Oe,{color:"primary",variant:"h1",align:"center",gutterBottom:!0},h.a.createElement(ee.a,{fontSize:"inherit",color:"primary"})),h.a.createElement(F.a,{initialValues:y.initialValues,validationSchema:y.formValidationSchema,onSubmit:function(e){var n=e.username,t=e.password;r({variables:{username:n,password:t}})},render:function(e){var s=e.values,p=e.errors,m=e.touched,d=e.handleChange,g=e.handleBlur,n=e.handleSubmit;return h.a.createElement(Ee,{onSubmit:function(e){e.preventDefault()}},S()(y.formFields,function(e){var n=e.name,t=e.label,r=e.type,o=e.placeholder,a=e.autocomplete,i=e.required,l=p[n]&&m[n],c="password"===r,u=p[n],f=c&&b?"text":r;return h.a.createElement(je,{key:n,fullWidth:!0},h.a.createElement(H.a,{htmlFor:n},t),h.a.createElement(V.a,{id:n,type:f,value:s[n],error:p[n]&&m[n],onChange:d,onBlur:g,placeholder:o,required:i,autoComplete:a,endAdornment:c?h.a.createElement(G.a,{position:"end"},h.a.createElement(Y.a,{onClick:y.toggleShowPassword},b?h.a.createElement(te.a,null):h.a.createElement(oe.a,null))):null}),l?h.a.createElement(J.a,{error:l},u):null)}),h.a.createElement(_e,null,h.a.createElement(ie.a,{color:"primary",size:"large",variant:"contained",onClick:n,disabled:t,fullWidth:!0},t?h.a.createElement(ce.a,{size:26}):"Sign In")),h.a.createElement(_e,null,h.a.createElement(ie.a,{onClick:y.signUp,color:"primary",size:"large",variant:"outlined",fullWidth:!0},"Sign Up")),h.a.createElement(ke,null,S()(qe,function(e){var n=e.id,t=e.color,r=e.iconElement;return h.a.createElement(Se,{key:n,brand:n,brandColor:t},"google"===n?h.a.createElement(z.a,{scope:"email profile",uxMode:"redirect",redirectUri:"http://localhost:3000/api/passport/google/auth",clientId:"377674965725-rdj6bvo4jj9d3j4e0kf8uhqpt58fridl.apps.googleusercontent.com",cookie_policy:"single_host_origin",onSuccess:function(e){return y.socialSignInResponse(n,e)},onFailure:function(e){return y.socialSignInResponse(n,e)},render:function(e){var n=e.onClick,t=e.isProcessing;return h.a.createElement(Ie,{disabled:t,size:"large",onClick:n},h.a.createElement(ue.a,{icon:r,size:"lg"}))}}):"facebook"===n?h.a.createElement(x.a,{appId:"381226272445959",autoLoad:!0,callback:function(e){return y.socialSignInResponse(n,e)},render:function(e){var n=e.onClick,t=e.isProcessing;return h.a.createElement(Ie,{disabled:t,size:"large",onClick:n},h.a.createElement(ue.a,{icon:r,size:"lg"}))}}):h.a.createElement(Ie,{size:"large",onClick:function(){return y.signInBySocial(n)}},h.a.createElement(ue.a,{icon:r,size:"lg"})))})))}}))})}}])&&me(n.prototype,t),o&&me(n,o),r}(),Fe=Object(C.a)(ze),Ne=t("m6d8"),Me=t.n(Ne);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,n){return!n||"object"!==Le(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,n){return(Te=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ue=Object(l.default)(E.a).withConfig({displayName:"Login__Wrapper",componentId:"i78o95-0"})(["flex:1 auto;"," background-size:cover;"],Object(j.a)("url(".concat(Me.a,")"),"center no-repeat")),Je=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),We(this,Be(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Te(e,n)}(n,a["Component"]),t=n,(r=[{key:"render",value:function(){return h.a.createElement(Ue,{ref:this.createRef,justify:"center",alignItems:"center",container:!0},h.a.createElement(Fe,null))}}])&&Re(t.prototype,r),o&&Re(t,o),n}(),De=l.default.div.withConfig({displayName:"NotFound__Wrapper",componentId:"g72r13-0"})([""," text-align:center;"],Object(j.d)("100%")),Ve=function(){return h.a.createElement(De,null,"404! Page not found!")},Ze=l.default.div.withConfig({displayName:"PageLoader__Wrapper",componentId:"p80bxj-0"})([""," transform:translate(-50%,-50%);"],Object(j.b)("absolute","50%",null,null,"50%")),He=function(){return h.a.createElement(Ze,null,h.a.createElement(ce.a,{size:80}))},Ke=(t("91GP"),t("RW0V"),t("2INN")),Ge=t("mf+E");function Qe(){return(Qe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function $e(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],0<=n.indexOf(t)||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],0<=n.indexOf(t)||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Ae=function(e){var n=e.component,t=e.layout,r=e.privateRoute,o=$e(e,["component","layout","privateRoute"]);return h.a.createElement(Ke.a,Qe({},o,{render:function(e){return r&&!localStorage.getItem("chatkilla_tkn")?h.a.createElement(Ge.a,{to:"login"}):t?h.a.createElement(t,null,h.a.createElement(n,e)):h.a.createElement(a.Fragment,null,h.a.createElement(n,e))}}))},Ye=i()({loader:function(){return t.e(4).then(t.bind(null,"1/Me"))},loading:He}),Xe=i()({loader:function(){return t.e(3).then(t.bind(null,"lusw"))},loading:He});n.a=function(){return h.a.createElement(r.a,null,h.a.createElement(Ae,{exact:!0,path:"/login",layout:Ye,component:Je}),h.a.createElement(Ae,{exact:!0,path:"/",layout:Xe,component:w,privateRoute:!0}),h.a.createElement(Ae,{component:Ve}))}},r8ck:function(e,c,u){"use strict";(function(e){var n=u("q1tI"),t=u.n(n),r=u("0cfB"),o=u("SUMQ"),a=u("vOnD"),i=u("oYx3"),l=u("InJ6");c.a=Object(r.hot)(e)(function(){return t.a.createElement(o.MuiThemeProvider,{theme:l.c},t.a.createElement(a.ThemeProvider,{theme:l.c},t.a.createElement(n.Fragment,null,t.a.createElement(l.a,null),t.a.createElement(i.a,null))))})}).call(this,u("3UD+")(e))},tjUo:function(e,n,t){"use strict";t.r(n);t("bZMm");var r,o=t("q1tI"),a=t.n(o),i=t("i8i4"),l=t("oFFJ"),c=t("oJmH"),u=t("J7Bk"),f=t("hEyz"),s=t("r538"),p=t("I/p7"),m=t("cfNM"),d=t("r8ck"),g=Object(f.a)({uri:"http://localhost:3000/api/graphql"}),y=new s.a(function(e,n){return e.setContext({headers:{"x-token":localStorage.getItem("chatkilla_tkn")||null,"x-refresh-token":localStorage.getItem("chatkilla_rfrsh_tkn")||null}}),n(e)}),b=new s.a(function(o,e){return e(o).map(function(e){var n=o.getContext().response.headers;if(console.log(e),n){var t=n.get("x-token"),r=n.get("x-refresh-token");t&&r&&(localStorage.setItem("chatkilla_tkn",t),localStorage.setItem("chatkilla_rfrsh_tkn",r))}return e})}),h=Object(p.a)(function(e){var n=e.networkError,t=void 0===n?{}:n,r=e.graphQLErrors;console.log("networkerrors",t),console.log("error",r)}),v=new s.a(function(n,e){return console.log("operation: ".concat(n.operationName),n),e(n).map(function(e){return console.log("Result from ".concat(n.operationName,":"),e),e})}),w=new u.a({link:Object(s.d)([h,b,y,v,g]),credentials:"include",cache:new m.a});r=d.a,Object(i.render)(a.a.createElement(c.ApolloProvider,{client:w},a.a.createElement(l.a,null,a.a.createElement(r,null))),document.getElementById("root"))}},[[0,1,2]]]);
//# sourceMappingURL=app.d872c924807d83806a2c.js.map