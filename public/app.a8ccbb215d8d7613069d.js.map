{"version":3,"sources":["webpack:///./src/components/common/SocialMedia/Google.js","webpack:///./src/router/PrivateRoute.js","webpack:///./src/components/pages/Chats/SearchDialog/SearchDialogListItem.js","webpack:///./src/components/pages/Login/Login.js","webpack:///./src/gql/chat.js","webpack:///./src/gql/auth.js","webpack:///./src/assets/audio/icqBeep.js","webpack:///./src/components/common/Form/AsyncFormInput.js","webpack:///./src/components/common/List/ListItemInfo.js","webpack:///./src/components/pages/Chats/Chat/Chat.js","webpack:///./src/components/common/PageLoader.js","webpack:///./src/assets/images/login-bg__1920_95.jpg","webpack:///./src/gql/user.js","webpack:///./src/components/common/SocialMedia/Social.js","webpack:///./src/components/common/Notification/NotificationMessage.js","webpack:///./src/components/common/SocialMedia/SocialButton.js","webpack:///./src/components/common/Form/FormInputRadio.js","webpack:///./src/apollo/utils.js","webpack:///./src/components/pages/Chats/Chat/ChatTopBar.js","webpack:///./src/components/pages/Chats/Contacts/NoContacts.js","webpack:///./src/components/common/List/ListItem.js","webpack:///./src/components/pages/Chats/Contacts/ContactsList.js","webpack:///./src/components/pages/Chats/Chats.js","webpack:///./src/styles/index.js","webpack:///./src/components/pages/Chats/Chat/index.js","webpack:///./src/components/common/SocialMedia/SocialMedia.js","webpack:///./src/components/common/List/List.js","webpack:///./src/components/common/Notification/NotificationContent.js","webpack:///./src/components/containers/AppLayoutContainer.js","webpack:///./src/apollo/resolvers.js","webpack:///./src/components/pages/Login/LoginForm.js","webpack:///./src/components/pages/Chats/Chat/ChatComment.js","webpack:///./src/router/AppRoute.js","webpack:///./src/router/history.js","webpack:///./src/components/containers/SearchDialogContainer.js","webpack:///./src/assets/images/reg-bg__1920_95.jpg","webpack:///./src/components/common/Form/FormInputPassword.js","webpack:///./src/components/common/Form/FormSubmit.js","webpack:///./src/components/common/HOC/withNotification.js","webpack:///./src/components/pages/Chats/Contacts/Contacts.js","webpack:///./src/components/common/Form/FormInput.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/common/Form/Form.js","webpack:///./src/components/propTypes.js","webpack:///./src/components/common/SocialMedia/Facebook.js","webpack:///./src/registerSW.js","webpack:///./src/components/containers/ChatsContainer.js","webpack:///./src/components/common/SearchBox.js","webpack:///./src/components/common/List/ListItems.js","webpack:///./src/gql/index.js","webpack:///./src/components/pages/Chats/Chat/ChatMessages.js","webpack:///./src/components/pages/Reg/RegFormStepper.js","webpack:///./src/components/common/Notification/Notification.js","webpack:///./src/components/containers/RegContainer.js","webpack:///./src/components/pages/Chats/SearchDialog/SearchDialogList.js","webpack:///./src/apollo/cache.js","webpack:///./src/components/pages/Chats/Contacts/Contact.js","webpack:///./src/components/containers/LoginContainer.js","webpack:///./src/components/context/AppProvider.js","webpack:///./src/apollo/link.js","webpack:///./src/components/pages/Chats/Contacts/ContactsFooter.js","webpack:///./src/components/common/Notification/index.js","webpack:///./src/components/common/TopProgressLine.js","webpack:///./src/components/pages/Reg/Reg.js","webpack:///./src/storage/index.js","webpack:///./src/gql/fragments.js","webpack:///./src/router/index.js","webpack:///./src/components/pages/Chats/Chat/Message.js","webpack:///./src/components/common/Notification/NotificationClose.js","webpack:///./src/components/App.js","webpack:///./src/components/pages/Reg/RegForm.js","webpack:///./src/apollo/index.js","webpack:///./src/components/pages/Chats/Contacts/index.js","webpack:///./src/components/common/NotFound.js","webpack:///./src/components/pages/Chats/SearchDialog/SearchDialog.js","webpack:///./src/index.js","webpack:///./src/components/common/List/ListItemAvatar.js","webpack:///./src/components/common/List/index.js","webpack:///./src/components/common/Form/formConfig.js","webpack:///./src/components/pages/Chats/SearchDialog/index.js","webpack:///./src/helpers/index.js"],"names":["Google","loading","mutation","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Social__WEBPACK_IMPORTED_MODULE_4__","social","color","red","react_google_login__WEBPACK_IMPORTED_MODULE_1___default","scope","clientId","process","onSuccess","profileObj","googleId","id","email","givenName","firstName","familyName","lastName","variables","name","profile","render","onClick","_SocialButton__WEBPACK_IMPORTED_MODULE_5__","icon","faGoogle","__webpack_exports__","tokenSecrets","token","refresh","checkToken","async","set","secretType","Error","secret","data","regStatus","jwt","verify","storage","e","PrivateRoute","Component","[object Object]","args","super","this","state","auth","status","get","setState","children","props","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","to","key","code","eval","propTypes","PropTypes","oneOfType","element","node","isRequired","SearchDialogListItem","avatar","displayName","username","isAdding","isAdded","react__WEBPACK_IMPORTED_MODULE_1___default","_common_List_ListItem__WEBPACK_IMPORTED_MODULE_5__","_common_List_ListItemAvatar__WEBPACK_IMPORTED_MODULE_6__","_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","online","_common_List_ListItemInfo__WEBPACK_IMPORTED_MODULE_7__","primary","secondary","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__","variant","size","disabled","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_3__","_material_ui_icons_DoneRounded__WEBPACK_IMPORTED_MODULE_4___default","Wrapper","styled","Grid","withConfig","componentId","backgrounds","bgImage","Login","handleSuccess","refreshToken","history","setTokens","push","handleError","graphQLErrors","toggleNotification","message","invalidField","toSignUp","_containers_LoginContainer__WEBPACK_IMPORTED_MODULE_5__","signInProps","onCompleted","signIn","onError","signInBySocialProps","signInBySocial","justify","alignItems","container","_LoginForm__WEBPACK_IMPORTED_MODULE_6__","objectOf","any","func","withNotification","CREATE_CHAT","gql","myContactFragment","myChatFragment","CHAT_CREATED_SUBSCRIPTION","GET_SELECTED_CHAT","SELECT_CHAT","GET_CHAT_MESSAGES","messageFragment","ADD_MESSAGE","MESSAGE_ADDED_SUBSCRIPTION","SIGN_IN","authPayloadFragment","SIGN_IN_BY_SOCIAL","SIGN_UP_ASYNC_VALIDATION","SIGN_UP","SIGN_UP_COMPLETION","SIGN_UP_BY_SOCIAL","SIGN_OUT","CHECK_SESSION_EXPIRATION","icqBeep","Audio","AsyncFormInput","PureComponent","asyncValid","setAsyncValid","valid","componentDidUpdate","prevProps","result","error","rest","_FormInput__WEBPACK_IMPORTED_MODULE_6__","endAdornment","_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_3__","position","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_5__","_material_ui_icons_CheckRounded__WEBPACK_IMPORTED_MODULE_4___default","shape","mutationResultProps","ListItemTextStyled","ListItemText","getSpacing","ellipsis","ListItemInfo","defaultProps","string","Paper","Chat","fetchSize","getMessages","fetchMore","chat","chatId","messages","skip","length","fetchMoreMessages","addMessage","content","me","myId","updateOptimisticIds","getAddMessageOptimisticResponse","time","Date","optimisticId","uuid","optimisticResponse","fetchMoreMessagesUpdate","componentDidMount","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default","adding","userInfo","optimisticIds","lastDate","myAvatar","getAvatar","contactAvatar","isOnline","statusText","userLastDateParser","square","elevation","_ChatTopBar__WEBPACK_IMPORTED_MODULE_6__","_ChatMessages__WEBPACK_IMPORTED_MODULE_7__","fetchThreshold","_ChatComment__WEBPACK_IMPORTED_MODULE_8__","avatars","contact","submit","bool","meProps","userInfoProps","chatProps","arrayOf","div","PageLoader","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","module","exports","__webpack_require__","p","GET_INITIAL_DATA","myFragment","GET_ME","GET_MY_CONTACTS","GET_MY_CHATS","SEARCH_USERS","USER_ACTIVITY_SUBSCRIPTION","UPLOAD_AVATAR","USER_UPDATE_SUBSCRIPTION","userInfoFragment","SocialWrapper","Button","rgba","Social","MessageIcon","type","_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_icons_Error__WEBPACK_IMPORTED_MODULE_4___default","oneOf","NotificationMessage","Fab","SocialButton","component","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__","object","RadioFormControl","FormControl","RadioGroup","MaterialRadioGroup","FormInputRadio","values","validate","validateField","onChange","react__WEBPACK_IMPORTED_MODULE_2___default","formik__WEBPACK_IMPORTED_MODULE_4__","value","field","fullWidth","event","lodash_map__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_8__","control","_material_ui_core_Radio__WEBPACK_IMPORTED_MODULE_5__","label","createMutation","gqlMutation","mutationProps","containerProps","mutationContainerPropsKey","mutationContainerProps","lodash_has__WEBPACK_IMPORTED_MODULE_1___default","lodash_get__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_3___default","react_apollo__WEBPACK_IMPORTED_MODULE_4__","createQuery","gqlQuery","queryProps","queryContainerPropsKey","queryContainerProps","query","createSubscription","gqlSubscription","subscriptionProps","subscriptionContainerPropsKey","subscriptionContainerProps","subscription","getStyledProps","UserName","UserStatus","span","green","ChatTopBar","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_3__","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_icons_SettingsRounded__WEBPACK_IMPORTED_MODULE_4___default","Typography","MaterialTypography","NoContacts","searchValue","ListItemStyled","MaterialListItem","ListItem","ContactsList","rowRenderer","rowIndex","rowData","selectedChatId","changeRoute","getLastChatMessage","senderId","parsedTime","messageTimeParser","isSelected","messageText","_Contact__WEBPACK_IMPORTED_MODULE_3__","onSelect","_common_List__WEBPACK_IMPORTED_MODULE_2__","noContentComponent","_NoContacts__WEBPACK_IMPORTED_MODULE_4__","spinnerSize","InfoPanel","Chats","checkRoute","location","search","queryString","parse","action","newSendedIds","lodash_concat__WEBPACK_IMPORTED_MODULE_1___default","lodash_filter__WEBPACK_IMPORTED_MODULE_0___default","initialLoading","_containers_ChatsContainer__WEBPACK_IMPORTED_MODULE_13__","messageAddedSubscriptionProps","addMessageProps","getMe","getMyChats","myContacts","myChats","selectChat","getSelectedChat","selectedChat","contactsListIsEmpty","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default","chatIsUndefined","unselectedText","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_9__","spacing","item","xs","sm","lg","_Contacts__WEBPACK_IMPORTED_MODULE_14__","contacts","chats","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_11__","xsDown","_common_List__WEBPACK_IMPORTED_MODULE_16__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_12__","_Chat__WEBPACK_IMPORTED_MODULE_15__","mdDown","withRouter","path","unit","lodash_get__WEBPACK_IMPORTED_MODULE_0___default","num","spacingFunc","theme","createMuiTheme","typography","useNextVariants","GlobalStyle","createGlobalStyle","reset","SocialMediaWrapper","SocialMediaNote","SocialMedia","note","_Facebook__WEBPACK_IMPORTED_MODULE_3__","_Google__WEBPACK_IMPORTED_MODULE_4__","View","startFrom","NoContentWrapper","Scrollable","pointer","pointerEvents","Scrollbar","presence","show","ScrollbarThumb","button","FetchMore","visible","Loading","List","constructor","_toggleScrollbarDragging","scrollbarDragging","getListHeight","listScrollable","current","getBoundingClientRect","height","getListViewHeight","listView","getScrollTop","scrollTop","_setScrollbar","scrollbar","scrollbarPresence","_setScrollbarPresence","setScrollTop","scrollToBottom","listHeight","listViewHeight","scrollHeight","_calculateScrollbarPosition","ratioPercent","thumbHeight","Math","max","thumbPosition","scrollbarThumb","style","transform","onMouseDown","preventDefault","clientY","initialClientY","top","viewPrevTopOffsett","viewPrevHeight","bottom","thumbPrevBottomOffset","diff","onMouseMove","nextScrollTop","onMouseUp","document","removeEventListener","addEventListener","_onScroll","onScroll","timer","clearTimeout","enablePointerEvents","disablePointerEvents","lodash_isFunction__WEBPACK_IMPORTED_MODULE_0___default","lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default","_onResize","width","onResize","_onObserverChange","inView","target","fetchMoreThreshold","Number","getAttribute","index","thresholdIndex","_onRowRenderer","lazyLoad","rowProps","react__WEBPACK_IMPORTED_MODULE_4___default","react_intersection_observer__WEBPACK_IMPORTED_MODULE_7__","triggerOnce","ref","onMouseEnter","onMouseLeave","onMouseOver","createRef","shouldComponentUpdate","nextProps","nextState","lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default","NoContent","onFocus","onDragStart","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_10__","react_resize_detector__WEBPACK_IMPORTED_MODULE_6__","handleHeight","react__WEBPACK_IMPORTED_MODULE_4__","_ListItems__WEBPACK_IMPORTED_MODULE_11__","number","SnackbarContent","amber","NotificationContent","toggle","aria-describedby","_NotificationMessage__WEBPACK_IMPORTED_MODULE_5__","_NotificationClose__WEBPACK_IMPORTED_MODULE_6__","chatCreatedUpdate","client","readQuery","writeQuery","lodash_concat__WEBPACK_IMPORTED_MODULE_2___default","getInitialData","checkSessionExpiration","chatCreatedSubscription","onSubscriptionData","subscriptionData","chatCreated","userActivitySubscription","userActivityUpdated","userId","contactId","lodash_find__WEBPACK_IMPORTED_MODULE_1___default","fragment","myContactActivityFragment","readFragment","writeFragment","signOut","removeTokens","originalClient","resetStore","uploadAvatar","update","userUpdateSubscription","userUpdated","updatedContacts","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","AppLayoutContainer","adopt","resolvers","Mutation","_","cache","lodash_find__WEBPACK_IMPORTED_MODULE_0___default","__typename","writeData","Header","SignUpButton","LoginForm","_common_TopProgressLine__WEBPACK_IMPORTED_MODULE_11__","align","gutterBottom","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_6___default","fontSize","_common_Form_Form__WEBPACK_IMPORTED_MODULE_8__","formConfig","submitButtonText","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_10__","UserAvatar","Form","form","FormInput","Input","Emoji","grey","orange","Submit","ChatComment","submitButtonRef","inputRef","onSubmit","clearValue","focus","onKeyDown","blur","click","bordered","_common_List_ListItemAvatar__WEBPACK_IMPORTED_MODULE_10__","_material_ui_icons_MoodRounded__WEBPACK_IMPORTED_MODULE_6___default","placeholder","multiline","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_5__","_material_ui_icons_SendRounded__WEBPACK_IMPORTED_MODULE_7___default","userAvatarProps","AppRoute","layout","Layout","privateRoute","redirect","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","_PrivateRoute__WEBPACK_IMPORTED_MODULE_4__","createBrowserHistory","searchUsers","getMyContacts","createChat","SearchDialogContainer","FormInputPassword","showPassword","toggleShowPassword","validType","_FormInput__WEBPACK_IMPORTED_MODULE_7__","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_4__","_material_ui_icons_VisibilityRounded__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_icons_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_6___default","SubmitButton","FormSubmit","text","WrappedComponent","_temp","open","updatedState","lodash_set__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2__","_Notification__WEBPACK_IMPORTED_MODULE_3__","ContactPanel","searchDialog","sortedContacts","toggleSearchDialog","onChangeSearchValue","sortContacts","lodash_filter__WEBPACK_IMPORTED_MODULE_3___default","upperName","lodash_upperCase__WEBPACK_IMPORTED_MODULE_2___default","upperSearchValue","_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_0___default","call","lodash_find__WEBPACK_IMPORTED_MODULE_4___default","prevState","react__WEBPACK_IMPORTED_MODULE_5___default","_common_SearchBox__WEBPACK_IMPORTED_MODULE_9__","_ContactsList__WEBPACK_IMPORTED_MODULE_10__","_ContactsFooter__WEBPACK_IMPORTED_MODULE_11__","_SearchDialog__WEBPACK_IMPORTED_MODULE_12__","contactProps","InputWrapper","InputError","FormHelperText","required","autoComplete","isError","onBlur","formik__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_9__","shrink","undefined","htmlFor","_material_ui_core_Input__WEBPACK_IMPORTED_MODULE_8__","inputProps","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","keys","Object","resolve","validationSchema","asyncValidationFields","asyncValidationField","yup","validation","graphQlMessage","setFieldError","fields","errors","touched","handleChange","handleBlur","handleSubmit","lodash_map__WEBPACK_IMPORTED_MODULE_2___default","initialValue","_AsyncFormInput__WEBPACK_IMPORTED_MODULE_11__","_FormInputPassword__WEBPACK_IMPORTED_MODULE_9__","_FormInputRadio__WEBPACK_IMPORTED_MODULE_10__","_FormInput__WEBPACK_IMPORTED_MODULE_8__","_FormSubmit__WEBPACK_IMPORTED_MODULE_12__","formFieldsProps","formAsyncValidationFieldsProps","withFormik","mapPropsToValues","initialValues","validateOnChange","validateOnBlur","called","messageProps","edited","seen","instanceOf","md","Facebook","_Social__WEBPACK_IMPORTED_MODULE_5__","blue","react_facebook_login_dist_facebook_login_render_props__WEBPACK_IMPORTED_MODULE_2___default","appId","callback","userID","first_name","last_name","_SocialButton__WEBPACK_IMPORTED_MODULE_6__","faFacebook","register","navigator","window","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","unregister","ready","updateQuery","prev","fetchMoreResult","chatMessages","lodash_concat__WEBPACK_IMPORTED_MODULE_0___default","optimistic","addMessageUpdate","updatedMyChats","newMessages","notifyOnNetworkStatusChange","messageAddedSubscription","messageAdded","ContactsContainer","IconWrapper","InputBase","SearchBox","autoFocus","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_4___default","ListItems","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_List__WEBPACK_IMPORTED_MODULE_5__","disablePadding","user","ChatMessages","list","updateScrollTopAfterFetchMore","isSystem","isFirst","isMyMessage","lodash_includes__WEBPACK_IMPORTED_MODULE_1___default","divider","prevMessageTime","isSameDay","_Message__WEBPACK_IMPORTED_MODULE_5__","_common_List__WEBPACK_IMPORTED_MODULE_4__","StepLabelStyled","StepLabel","RegFormStepper","activeStep","steps","_material_ui_core_Stepper__WEBPACK_IMPORTED_MODULE_4__","alternativeLabel","isActive","isCompleted","iconColor","step","_material_ui_core_Step__WEBPACK_IMPORTED_MODULE_5__","active","completed","_material_ui_icons_CheckCircleRounded__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_InfoRounded__WEBPACK_IMPORTED_MODULE_8___default","Notification","onClose","reason","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_3__","anchorOrigin","horizontal","vertical","TransitionProps","direction","autoHideDuration","_NotificationContent__WEBPACK_IMPORTED_MODULE_4__","signUpAsyncValidationUsername","signUpAsyncValidationEmail","signUp","signUpCompletion","signUpBySocial","RegContainer","SearchDialogList","selectedUserId","openConfirmDialog","usernameText","_SearchDialogListItem__WEBPACK_IMPORTED_MODULE_3__","InMemoryCache","freezeResults","initialState","sessionExpired","initData","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_4__","SecondaryInfo","Time","Contact","src","_common_List_ListItemAvatar__WEBPACK_IMPORTED_MODULE_5__","_common_List_ListItemInfo__WEBPACK_IMPORTED_MODULE_6__","LoginContainer","AppContext","createReactContext","AppProvider","Provider","httpLink","createUploadLink","uri","wsClient","SubscriptionClient","reconnect","subscriptionMiddleware","applyMiddleware","options","next","tokens","getTokens","wsLink","WebSocketLink","subscriptionClient","use","networkLink","split","kind","operation","getMainDefinition","authLink","ApolloLink","forward","setContext","headers","x-token","x-refresh-token","tokenLink","_context","_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default","response","context","getContext","errorLink","networkError","statusCode","logger","_context2","operationName","link","from","ListPanelFooter","ContactPanelFooter","_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_3__","_material_ui_icons_AddRounded__WEBPACK_IMPORTED_MODULE_4___default","LinearProgressStyled","LinearProgress","TopProgressLine","SignUp","setActiveStep","_containers_RegContainer__WEBPACK_IMPORTED_MODULE_6__","signUpProps","signUpCompletionProps","signUpBySocialProps","_RegForm__WEBPACK_IMPORTED_MODULE_7__","createTokenMethods","localStorage","setItem","getItem","remove","removeItem","LoginLayout","importedComponent","bind","LoadingComponent","AppLayout","Promise","all","NotFoundLayout","Routes","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_AppRoute__WEBPACK_IMPORTED_MODULE_9__","Reg","exact","Redirect","NotFound","HistoryDivider","Content","SystemMessage","Message","forwardRef","row-index","messageHistoryDateParser","NotificationClose","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_2__","aria-label","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_3___default","App","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","_context_AppProvider__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_0__","_styles__WEBPACK_IMPORTED_MODULE_6__","_router__WEBPACK_IMPORTED_MODULE_5__","hot","Info","Footer","_RegFormStepper__WEBPACK_IMPORTED_MODULE_10__","_common_Form_Form__WEBPACK_IMPORTED_MODULE_7__","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_9__","ApolloClient","credentials","assumeImmutableResults","onResetStore","Contacts","ContentIcon","_material_ui_icons_SentimentDissatisfiedRounded__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","SubTitle","DialogContent","MaterialDialogContent","SearchDialog","confirmDialog","selectedUser","refetch","closeConfirmDialog","_containers_SearchDialogContainer__WEBPACK_IMPORTED_MODULE_8__","searchUsersProps","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_3__","scroll","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_4__","_SearchDialogList__WEBPACK_IMPORTED_MODULE_10__","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7__","renderApp","react_apollo__WEBPACK_IMPORTED_MODULE_3__","apollo","getElementById","registerSW","AvatarIndicator","ListItemAvatar","alt","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_4__","formFields","signUpStepOne","signUpStepTwo","formValidationSchemas","lodash_transform__WEBPACK_IMPORTED_MODULE_2___default","res","min","typeError","formInitialValues","formName","lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default","lodash_set__WEBPACK_IMPORTED_MODULE_0___default","formId","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default","firstLater","lastLater","lodash_upperCase__WEBPACK_IMPORTED_MODULE_1___default","historyDateParser","date","moment","format","shortMessageTimeParser","calendar","sameDay","lastDay","lastWeek","sameElse","referenceDate","b","isSame","icqBeepPlay","play"],"mappings":"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CAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OAC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","file":"app.a8ccbb215d8d7613069d.js","sourcesContent":["import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Google = ({ loading, mutation }) => (\r\n  <Social social=\"google\" color={red[500]}>\r\n    <GoogleLogin\r\n      scope=\"email profile\"\r\n      clientId={process.env.GOOGLE_APP_ID}\r\n      onSuccess={({\r\n        profileObj: {\r\n          googleId: id,\r\n          email,\r\n          givenName: firstName,\r\n          familyName: lastName,\r\n        },\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'google',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faGoogle} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Google;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nimport storage from '../storage';\r\n\r\nconst tokenSecrets = {\r\n  token: process.env.TOKEN_SECRET,\r\n  refresh: process.env.REFRESH_TOKEN_SECRET,\r\n};\r\n\r\nexport const checkToken = async (token, set = false, secretType = 'token') => {\r\n  try {\r\n    if (!token) {\r\n      throw new Error('Token wasn\\'t found');\r\n    }\r\n    const secret = tokenSecrets[secretType];\r\n    const { data: { regStatus } } = await jwt.verify(token, secret);\r\n\r\n    if (set) {\r\n      storage.token.set(token);\r\n    }\r\n    return { regStatus };\r\n  } catch (e) {\r\n    return { regStatus: '' };\r\n  }\r\n};\r\n\r\nclass PrivateRoute extends Component {\r\n  state = {\r\n    render: false,\r\n    auth: false,\r\n    status: '',\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const token = storage.token.get();\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, false);\r\n\r\n        this.setState({\r\n          render: true,\r\n          auth: true,\r\n          status: regStatus,\r\n        });\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    } else {\r\n      this.setState({\r\n        render: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { render, auth, status } = this.state;\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={render}>\r\n          <Choose>\r\n            <When condition={!auth}>\r\n              <Redirect to=\"login\" />\r\n            </When>\r\n            <When condition={auth && status === 'UNCOMPLETED'}>\r\n              <Redirect to={`reg?token=${storage.token.get()}`} />\r\n            </When>\r\n            <Otherwise>\r\n              {children}\r\n            </Otherwise>\r\n          </Choose>\r\n        </When>\r\n        <Otherwise>{null}</Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\n// import styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport DoneIcon from '@material-ui/icons/DoneRounded';\r\n\r\nimport ListItem from '../../../common/List/ListItem';\r\nimport ListItemAvatar from '../../../common/List/ListItemAvatar';\r\nimport ListItemInfo from '../../../common/List/ListItemInfo';\r\n\r\nconst SearchDialogListItem = ({\r\n  avatar,\r\n  displayName,\r\n  username,\r\n  isAdding,\r\n  isAdded,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <ListItem>\r\n      <ListItemAvatar {...avatar} online={false} />\r\n      <ListItemInfo primary={displayName} secondary={username} />\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={onClick}\r\n        disabled={isAdded}\r\n      >\r\n        <Choose>\r\n          <When condition={isAdding}>\r\n            <CircularProgress size={20} color=\"inherit\" />\r\n          </When>\r\n          <When condition={isAdded}>\r\n            <DoneIcon />\r\n          </When>\r\n          <Otherwise>\r\n            Add\r\n          </Otherwise>\r\n        </Choose>\r\n      </Button>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default SearchDialogListItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport LoginContainer from '../../containers/LoginContainer';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/login-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass Login extends Component {\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    const { history } = this.props;\r\n\r\n    storage.setTokens(token, refreshToken);\r\n    history.push('/');\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n      if (!invalidField) {\r\n        toggleNotification(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  toSignUp = () => {\r\n    const { history } = this.props;\r\n\r\n    history.push('/reg');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <LoginContainer\r\n        signInProps={{\r\n          onCompleted: ({ signIn }) => this.handleSuccess(signIn),\r\n          onError: this.handleError,\r\n        }}\r\n        signInBySocialProps={{\r\n          onCompleted: ({ signInBySocial }) => this.handleSuccess(signInBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({ signIn, signInBySocial }) => (\r\n          <Wrapper\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <LoginForm\r\n              signIn={signIn}\r\n              signInBySocial={signInBySocial}\r\n              toSignUp={this.toSignUp}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </LoginContainer>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  toggleNotification: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withNotification(Login);\r\n","import gql from 'graphql-tag';\r\n\r\nimport { myContactFragment, myChatFragment, messageFragment } from './fragments';\r\n\r\nexport const CREATE_CHAT = gql`\r\n  mutation CreateChat($userId: ID!) {\r\n    createChat(userId: $userId) {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const CHAT_CREATED_SUBSCRIPTION = gql`\r\n  subscription onChatCreated {\r\n    chatCreated {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const GET_SELECTED_CHAT = gql`\r\n  query getSelectedChat {\r\n    selectedChat @client {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const SELECT_CHAT = gql`\r\n  mutation SelectChat($chatId: String!) {\r\n    selectChat(chatId: $chatId) @client\r\n  }\r\n`;\r\n\r\nexport const GET_CHAT_MESSAGES = gql`\r\n  query ChatMessages($chatId: String!, $skip: Int!) {\r\n    chatMessages(chatId: $chatId, skip: $skip) {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const ADD_MESSAGE = gql`\r\n  mutation AddMessage($chatId: String!, $content: String!, $time: DateTime!, $optimisticId: String!) {\r\n    addMessage(chatId: $chatId, content: $content, time: $time, optimisticId: $optimisticId) {\r\n      chatId\r\n      optimistic\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const MESSAGE_ADDED_SUBSCRIPTION = gql`\r\n  subscription onMessageAdded {\r\n    messageAdded {\r\n      chatId\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport default {\r\n  CREATE_CHAT,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  GET_SELECTED_CHAT,\r\n  SELECT_CHAT,\r\n  GET_CHAT_MESSAGES,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n};\r\n","import gql from 'graphql-tag';\r\n\r\nimport { authPayloadFragment } from './fragments';\r\n\r\nconst SIGN_IN = gql`\r\n  mutation SignIn($form: SignInForm!) {\r\n    signIn(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_IN_BY_SOCIAL = gql`\r\n  mutation SignInBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signInBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_ASYNC_VALIDATION = gql`\r\n  mutation SignUpAsyncValidation($field: String!, $value: String!) {\r\n    signUpAsyncValidation(field: $field, value: $value) {\r\n      field\r\n      valid\r\n    }\r\n  }\r\n`;\r\n\r\nconst SIGN_UP = gql`\r\n  mutation SignUp($form: SignUpForm!) {\r\n    signUp(form: $form)\r\n  }\r\n`;\r\n\r\nconst SIGN_UP_COMPLETION = gql`\r\n  mutation SignUpCompletion($form: SignUpCompletionForm!) {\r\n    signUpCompletion(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_BY_SOCIAL = gql`\r\n  mutation SignUpBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signUpBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_OUT = gql`\r\n  mutation SignOut($userId: String) {\r\n    signOut(userId: $userId)\r\n  }\r\n`;\r\n\r\nconst CHECK_SESSION_EXPIRATION = gql`\r\n  {\r\n    sessionExpired @client\r\n  }\r\n`;\r\n\r\nexport default {\r\n  SIGN_IN,\r\n  SIGN_IN_BY_SOCIAL,\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n  SIGN_OUT,\r\n  CHECK_SESSION_EXPIRATION,\r\n};\r\n","const icqBeep = new Audio('data:audio/mp3;base64,SUQzAwAAAAAfdlRDT04AAAAFAAAAKDEyKVBSSVYAAAAOAABQZWFrVmFsdWUAIQAAAFBSSVYAAAARAABBdmVyYWdlTGV2ZWwAewQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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CEosaRI4cSJU5xIlskUcY0iRw4kS2MFJQVgFNCjowViC8BTQo6MFYgvAU0KOjBWILwFNCjowV0F+Kbw74SYgpqKZlxyY1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tQwAADwAABpAAAAAAAADSAAAAATEFNRTMuOTFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UMAAA8AAAaQAAAAAAAA0gAAAAExBTUUzLjkxVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+1DAAAPAAAGkAAAAAAAANIAAAABMQU1FMy45MVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==');\r\n\r\nexport default icqBeep;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CheckIcon from '@material-ui/icons/CheckRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nimport { mutationResultProps } from '../../propTypes';\r\n\r\nclass AsyncFormInput extends PureComponent {\r\n  state = {\r\n    asyncValid: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { data, error } } = this.props;\r\n\r\n    if (!prevProps.result.data && data) {\r\n      this.setAsyncValid(true);\r\n    }\r\n    if (!prevProps.result.error && error) {\r\n      this.setAsyncValid(false);\r\n    }\r\n  }\r\n\r\n  setAsyncValid = (valid) => {\r\n    this.setState({ asyncValid: valid });\r\n  }\r\n\r\n  render() {\r\n    const { asyncValid } = this.state;\r\n    const { result: { loading }, ...rest } = this.props;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        endAdornment={\r\n          (loading || asyncValid)\r\n          && (\r\n            <InputAdornment position=\"end\">\r\n              <Choose>\r\n                <When condition={loading}>\r\n                  <CircularProgress size={18} />\r\n                </When>\r\n                <When condition={!loading && asyncValid}>\r\n                  <CheckIcon color=\"action\" />\r\n                </When>\r\n                <Otherwise>{null}</Otherwise>\r\n              </Choose>\r\n            </InputAdornment>\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nAsyncFormInput.propTypes = {\r\n  result: PropTypes.shape(mutationResultProps).isRequired,\r\n};\r\n\r\nexport default AsyncFormInput;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { ellipsis } from 'polished';\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListItemTextStyled = styled(ListItemText)`\r\n  && {\r\n    display: inline-flex;\r\n    flex-flow: column;\r\n    padding: 0 ${getSpacing(1)};\r\n\r\n    > * {\r\n      ${ellipsis('100%')};\r\n    }\r\n  }\r\n`;\r\n\r\nconst ListItemInfo = ({ primary, secondary }) => (\r\n  <ListItemTextStyled primary={primary} secondary={secondary} />\r\n);\r\n\r\nListItemInfo.defaultProps = {\r\n  primary: '',\r\n  secondary: '',\r\n};\r\nListItemInfo.propTypes = {\r\n  primary: PropTypes.string,\r\n  secondary: PropTypes.string,\r\n};\r\n\r\nexport default ListItemInfo;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { isEqual } from 'lodash';\r\nimport uuid from 'uuid/v4';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport ChatTopBar from './ChatTopBar';\r\nimport ChatMessages from './ChatMessages';\r\nimport ChatComment from './ChatComment';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\nimport { getAvatar, userLastDateParser } from '../../../../helpers';\r\nimport { meProps, userInfoProps, chatProps } from '../../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)} 0;\r\n    background-color: #fff;\r\n  }\r\n`;\r\n\r\nclass Chat extends Component {\r\n  fetchSize = 30;\r\n\r\n  componentDidMount() {\r\n    this.getMessages();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { chat: { id: chatId } } = this.props;\r\n\r\n    if (!isEqual(prevProps.chat.id, chatId)) {\r\n      this.getMessages();\r\n    }\r\n  }\r\n\r\n  getMessages = (fetchMore = false) => {\r\n    const { chat } = this.props;\r\n    const { id: chatId, messages } = chat;\r\n    const skip = messages.length;\r\n\r\n    if (!fetchMore) {\r\n      if (skip < this.fetchSize) {\r\n        this.fetchMoreMessages({ chatId, skip });\r\n      }\r\n    } else {\r\n      this.fetchMoreMessages({ chatId, skip });\r\n    }\r\n  }\r\n\r\n  addMessage = (content) => {\r\n    const {\r\n      me: { id: myId },\r\n      chat: { id: chatId },\r\n      updateOptimisticIds,\r\n      addMessage,\r\n      getAddMessageOptimisticResponse,\r\n    } = this.props;\r\n    const time = new Date();\r\n    const optimisticId = uuid();\r\n\r\n    const variables = {\r\n      chatId,\r\n      content,\r\n      time,\r\n      optimisticId,\r\n    };\r\n    const optimisticResponse = getAddMessageOptimisticResponse({\r\n      chatId,\r\n      optimisticId,\r\n      myId,\r\n      content,\r\n      time,\r\n    });\r\n\r\n    addMessage({ variables, optimisticResponse });\r\n    updateOptimisticIds(optimisticId);\r\n  }\r\n\r\n  fetchMoreMessages = (variables) => {\r\n    const {\r\n      fetchMoreMessages,\r\n      fetchMoreMessagesUpdate,\r\n    } = this.props;\r\n\r\n    fetchMoreMessages(fetchMoreMessagesUpdate(variables));\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      adding,\r\n      me,\r\n      userInfo,\r\n      chat,\r\n      optimisticIds,\r\n    } = this.props;\r\n    const { displayName, status, lastDate } = userInfo;\r\n    const { id: chatId, messages } = chat;\r\n    const { id: myId } = me;\r\n\r\n    const myAvatar = getAvatar(me);\r\n    const contactAvatar = getAvatar(userInfo);\r\n    const isOnline = status === 'ONLINE';\r\n    const statusText = isOnline\r\n      ? 'online'\r\n      : userLastDateParser(lastDate);\r\n\r\n    return (\r\n      <Wrapper square elevation={0}>\r\n        <ChatTopBar\r\n          name={displayName}\r\n          isOnline={isOnline}\r\n          statusText={statusText}\r\n        />\r\n        <ChatMessages\r\n          chatId={chatId}\r\n          loading={loading}\r\n          adding={adding}\r\n          myId={myId}\r\n          messages={messages}\r\n          optimisticIds={optimisticIds}\r\n          getMessages={() => this.getMessages(true)}\r\n          fetchThreshold={5}\r\n        />\r\n        <ChatComment\r\n          adding={adding}\r\n          avatars={{\r\n            me: myAvatar,\r\n            contact: contactAvatar,\r\n          }}\r\n          submit={this.addMessage}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nChat.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  adding: PropTypes.bool.isRequired,\r\n  me: PropTypes.shape(meProps).isRequired,\r\n  userInfo: PropTypes.shape(userInfoProps).isRequired,\r\n  chat: PropTypes.shape(chatProps).isRequired,\r\n  optimisticIds: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  updateOptimisticIds: PropTypes.func.isRequired,\r\n  addMessage: PropTypes.func.isRequired,\r\n  getAddMessageOptimisticResponse: PropTypes.func.isRequired,\r\n  fetchMoreMessages: PropTypes.func.isRequired,\r\n  fetchMoreMessagesUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Chat;\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nconst Wrapper = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')}\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst PageLoader = () => (\r\n  <Wrapper>\r\n    <CircularProgress size={80} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PageLoader;\r\n","module.exports = __webpack_public_path__ + \"assets/images/login-bg__1920_95.jpg\";","import gql from 'graphql-tag';\r\n\r\nimport {\r\n  myContactFragment,\r\n  myChatFragment,\r\n  myFragment,\r\n  userInfoFragment,\r\n} from './fragments';\r\n\r\nconst GET_INITIAL_DATA = gql`\r\n  query GetInitialData {\r\n    me {\r\n      ...myData\r\n    }\r\n    myContacts {\r\n      ...myContactData\r\n    }\r\n    myChats {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_ME = gql`\r\n  query GetMe {\r\n    me @client {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_MY_CONTACTS = gql`\r\n  query GetMyContacts {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n`;\r\n\r\nconst GET_MY_CHATS = gql`\r\n  query GetMyChats {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n    myChats @client {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nconst SEARCH_USERS = gql`\r\n  query SearchUsers($searchValue: String!) {\r\n    searchUsers(searchValue: $searchValue) {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst USER_ACTIVITY_SUBSCRIPTION = gql`\r\n  subscription onUserActivityUpdated {\r\n    userActivityUpdated {\r\n      userId\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPLOAD_AVATAR = gql`\r\n  mutation uploadAvatar($file: Upload!) {\r\n    uploadAvatar(file: $file) {\r\n      sm\r\n      md\r\n    }\r\n  }\r\n`;\r\n\r\nconst USER_UPDATE_SUBSCRIPTION = gql`\r\n  subscription onUserUpdated {\r\n    userUpdated {\r\n      ...userInfoData\r\n    }\r\n  }\r\n  ${userInfoFragment}\r\n`;\r\n\r\nexport default {\r\n  GET_INITIAL_DATA,\r\n  GET_ME,\r\n  GET_MY_CONTACTS,\r\n  GET_MY_CHATS,\r\n  SEARCH_USERS,\r\n  UPLOAD_AVATAR,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  USER_UPDATE_SUBSCRIPTION,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { rgba } from 'polished';\r\n\r\nimport { Button } from './SocialButton';\r\n\r\nconst SocialWrapper = styled.div`\r\n  display: inline-flex;\r\n\r\n  :not(:last-child) {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  ${Button} {\r\n    background-color: ${({ color }) => color};\r\n\r\n    :hover {\r\n      background-color: ${({ color }) => rgba(color, 0.8)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Social = ({ social, color, children }) => (\r\n  <SocialWrapper\r\n    key={social}\r\n    color={color}\r\n  >\r\n    {children}\r\n  </SocialWrapper>\r\n);\r\n\r\nSocial.propTypes = {\r\n  social: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.element]).isRequired,\r\n};\r\n\r\nexport default Social;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst Wrapper = styled.p`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #fff;\r\n\r\n  span {\r\n    margin-left: 1em;\r\n  }\r\n`;\r\n\r\nconst MessageIcon = ({ type }) => (\r\n  <Choose>\r\n    <When condition={type === 'warning'}>\r\n      <WarningIcon />\r\n    </When>\r\n    <When condition={type === 'error'}>\r\n      <ErrorIcon />\r\n    </When>\r\n    <Otherwise>{null}</Otherwise>\r\n  </Choose>\r\n);\r\n\r\nMessageIcon.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n};\r\n\r\nconst NotificationMessage = ({ type, message }) => (\r\n  <Wrapper>\r\n    <MessageIcon type={type} />\r\n    <span>\r\n      {message}\r\n    </span>\r\n  </Wrapper>\r\n);\r\n\r\nNotificationMessage.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default NotificationMessage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nexport const Button = styled(Fab)`\r\n  && {\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst SocialButton = ({ loading, onClick, icon }) => (\r\n  <Button disabled={loading} size=\"small\" onClick={onClick} component={Fab}>\r\n    <FontAwesomeIcon icon={icon} size=\"lg\" />\r\n  </Button>\r\n);\r\n\r\nSocialButton.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]).isRequired,\r\n};\r\n\r\nexport default SocialButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport MaterialRadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport styled from 'styled-components';\r\n// import { position } from 'polished';\r\nimport { map } from 'lodash';\r\n\r\nconst RadioFormControl = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    margin-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst RadioGroup = styled(MaterialRadioGroup)`\r\n  && {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst FormInputRadio = ({\r\n  name,\r\n  values,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n}) => (\r\n  <Field name={name} validate={value => validate(value, name)}>\r\n    {({ field }) => (\r\n      <RadioFormControl variant=\"standard\" fullWidth>\r\n        <RadioGroup\r\n          {...field}\r\n          name={name}\r\n          onChange={(event) => {\r\n            validateField(name);\r\n\r\n            onChange(event);\r\n          }}\r\n        >\r\n          {map(values, value => (\r\n            <FormControlLabel\r\n              key={value}\r\n              value={value}\r\n              control={<Radio />}\r\n              label={value}\r\n            />\r\n          ))}\r\n        </RadioGroup>\r\n      </RadioFormControl>\r\n    )}\r\n  </Field>\r\n);\r\n\r\nFormInputRadio.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  values: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  validate: PropTypes.func.isRequired,\r\n  validateField: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default FormInputRadio;\r\n","import React from 'react';\r\nimport { Query, Mutation, Subscription } from 'react-apollo';\r\nimport { get, has } from 'lodash';\r\n\r\nexport const createMutation = (name, gqlMutation, mutationProps = {}) => (containerProps) => {\r\n  const mutationContainerPropsKey = `${name}Props`;\r\n  const mutationContainerProps = has(containerProps, mutationContainerPropsKey)\r\n    ? get(containerProps, mutationContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Mutation\r\n      mutation={gqlMutation}\r\n      {...mutationProps}\r\n      {...mutationContainerProps}\r\n    >\r\n      {(mutation, result) => render({\r\n        mutation,\r\n        result,\r\n        name,\r\n      })}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\nexport const createQuery = (name, gqlQuery, queryProps = {}) => (containerProps) => {\r\n  const queryContainerPropsKey = `${name}Props`;\r\n  const queryContainerProps = has(containerProps, queryContainerPropsKey)\r\n    ? get(containerProps, queryContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Query\r\n      query={gqlQuery}\r\n      {...queryProps}\r\n      {...queryContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport const createSubscription = (name, gqlSubscription, subscriptionProps = {}) => (containerProps) => {\r\n  const subscriptionContainerPropsKey = `${name}Props`;\r\n  const subscriptionContainerProps = has(containerProps, subscriptionContainerPropsKey)\r\n    ? get(containerProps, subscriptionContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Subscription\r\n      subscription={gqlSubscription}\r\n      {...subscriptionProps}\r\n      {...subscriptionContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Subscription>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport { getStyledProps } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  z-index: 20;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n\r\n  p {\r\n    ${getStyledProps('theme.typography.subtitle2')};\r\n  }\r\n`;\r\n\r\nconst UserStatus = styled.span`\r\n  ${getStyledProps('theme.typography.caption')};\r\n  color: ${({ online, ...rest }) => (online\r\n    ? green[600]\r\n    : getStyledProps('theme.palette.grey.500')(rest))};\r\n`;\r\n\r\nconst ChatTopBar = ({\r\n  name,\r\n  statusText,\r\n  isOnline,\r\n}) => (\r\n  <Wrapper>\r\n    <IconButton>\r\n      <SearchIcon />\r\n    </IconButton>\r\n    <UserName>\r\n      <p>{name}</p>\r\n      <UserStatus online={isOnline}>\r\n        {statusText}\r\n      </UserStatus>\r\n    </UserName>\r\n    <IconButton>\r\n      <SettingsIcon />\r\n    </IconButton>\r\n  </Wrapper>\r\n);\r\n\r\nChatTopBar.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  statusText: PropTypes.string.isRequired,\r\n  isOnline: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default ChatTopBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport MaterialTypography from '@material-ui/core/Typography';\r\n\r\nconst Typography = styled(MaterialTypography)`\r\n  && {\r\n    p {\r\n      text-align: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NoContacts = ({ searchValue }) => (\r\n  <Typography variant=\"subtitle2\">\r\n    <Choose>\r\n      <When condition={!searchValue}>\r\n        <p>Your contact list is empty.</p>\r\n        <p>Click on the &quot;+&quot; icon to find your contacts</p>\r\n      </When>\r\n      <Otherwise>\r\n        {null}\r\n      </Otherwise>\r\n    </Choose>\r\n  </Typography>\r\n);\r\n\r\nNoContacts.propTypes = {\r\n  searchValue: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default NoContacts;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport MaterialListItem from '@material-ui/core/ListItem';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListItemStyled = styled(MaterialListItem)`\r\n  && {\r\n    padding: 0 ${getSpacing(1)};\r\n    margin-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst ListItem = ({ children, onClick }) => {\r\n  return (\r\n    <ListItemStyled onClick={onClick}>\r\n      {children}\r\n    </ListItemStyled>\r\n  );\r\n};\r\n\r\nexport default ListItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport List from '../../../common/List';\r\nimport Contact from './Contact';\r\nimport NoContacts from './NoContacts';\r\n\r\nimport { getAvatar, messageTimeParser } from '../../../../helpers';\r\n\r\nclass ContactsList extends Component {\r\n  rowRenderer = ({ rowIndex, rowData }) => {\r\n    const {\r\n      myId,\r\n      selectedChatId,\r\n      changeRoute,\r\n      getLastChatMessage,\r\n    } = this.props;\r\n    const { chatId, userInfo } = rowData;\r\n    const { displayName, status } = userInfo;\r\n    const avatar = getAvatar(userInfo);\r\n    const message = getLastChatMessage(chatId);\r\n    const { senderId, content, time } = message;\r\n    const parsedTime = messageTimeParser(time);\r\n\r\n    const isSelected = selectedChatId === chatId;\r\n    const online = status === 'ONLINE';\r\n    const isMyMessage = senderId === myId;\r\n    const messageText = isMyMessage\r\n      ? `You: ${content}`\r\n      : content;\r\n\r\n    return (\r\n      <Contact\r\n        key={rowIndex}\r\n        myId={myId}\r\n        avatar={avatar}\r\n        displayName={displayName}\r\n        message={messageText}\r\n        time={parsedTime}\r\n        online={online}\r\n        isSelected={isSelected}\r\n        onSelect={() => changeRoute(chatId)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, searchValue } = this.props;\r\n\r\n    return (\r\n      <List\r\n        loading={loading}\r\n        data={data}\r\n        rowRenderer={this.rowRenderer}\r\n        noContentComponent={() => (<NoContacts searchValue={searchValue} />)}\r\n        spinnerSize={40}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nContactsList.defaultProps = {\r\n  myId: null,\r\n  selectedChatId: null,\r\n};\r\nContactsList.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  myId: PropTypes.string,\r\n  searchValue: PropTypes.string.isRequired,\r\n  selectedChatId: PropTypes.string,\r\n  changeRoute: PropTypes.func.isRequired,\r\n  getLastChatMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactsList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\nimport { isEmpty, concat, filter } from 'lodash';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ChatsContainer, {\r\n  fetchMoreMessagesUpdate,\r\n  getAddMessageOptimisticResponse,\r\n} from '../../containers/ChatsContainer';\r\nimport Contacts from './Contacts';\r\nimport Chat from './Chat';\r\nimport { NoContentWrapper } from '../../common/List';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    ${size('100%')};\r\n    display: flex;\r\n    align-items: stretch;\r\n  }\r\n`;\r\n\r\nconst InfoPanel = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)};\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n  }\r\n`;\r\n\r\nclass Chats extends Component {\r\n  state = {\r\n    optimisticIds: [],\r\n  }\r\n\r\n  checkRoute = () => {\r\n    const { location: { search } } = this.props;\r\n    const { chatId } = queryString.parse(search);\r\n\r\n    return chatId;\r\n  }\r\n\r\n  changeRoute = (chatId) => {\r\n    const { history } = this.props;\r\n\r\n    history.push(`/chats?chatId=${chatId}`);\r\n  }\r\n\r\n  updateOptimisticIds = (optimisticId, action = 'add') => {\r\n    this.setState(({ optimisticIds }) => {\r\n      let newSendedIds;\r\n\r\n      switch (action) {\r\n        case 'add': {\r\n          newSendedIds = concat(optimisticIds, optimisticId);\r\n          break;\r\n        }\r\n        case 'remove': {\r\n          newSendedIds = filter(optimisticIds, id => id !== optimisticId);\r\n          break;\r\n        }\r\n        default: {\r\n          newSendedIds = optimisticIds;\r\n        }\r\n      }\r\n      return ({ optimisticIds: newSendedIds });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { optimisticIds } = this.state;\r\n    const { initialLoading } = this.props;\r\n    const selectedChatId = initialLoading ? null : this.checkRoute();\r\n\r\n    return (\r\n      <ChatsContainer\r\n        messageAddedSubscriptionProps={{\r\n          variables: { chatId: selectedChatId },\r\n        }}\r\n        addMessageProps={{\r\n          onCompleted: ({ addMessage: { optimisticId } }) => {\r\n            this.updateOptimisticIds(optimisticId, 'remove');\r\n          },\r\n        }}\r\n      >\r\n        {({\r\n          getMe: {\r\n            data: { me = {} },\r\n          },\r\n          getMyChats: {\r\n            data: { myContacts = [], myChats = [] },\r\n          },\r\n          addMessage: {\r\n            mutation: addMessage,\r\n            result: {\r\n              loading: adding,\r\n            },\r\n          },\r\n          selectChat: {\r\n            mutation: selectChat,\r\n          },\r\n          getSelectedChat: {\r\n            data: { selectedChat = { contact: {}, chat: {} } },\r\n            fetchMore: fetchMoreMessages,\r\n            loading,\r\n          },\r\n        }) => {\r\n          const { contact, chat } = selectedChat;\r\n          const contactsListIsEmpty = isEmpty(myContacts);\r\n          const chatIsUndefined = isEmpty(chat);\r\n          let unselectedText;\r\n\r\n          if (!selectedChatId) {\r\n            unselectedText = 'Please select a chat to start messaging';\r\n          } else if (isEmpty(chat)) {\r\n            unselectedText = 'Selected chat is undefined';\r\n          }\r\n\r\n          return (\r\n            <Wrapper square elevation={0}>\r\n              <Grid container spacing={0}>\r\n                <Grid item xs={12} sm={4} lg={3}>\r\n                  <Contacts\r\n                    loading={initialLoading}\r\n                    myId={me.id}\r\n                    contacts={myContacts}\r\n                    chats={myChats}\r\n                    selectedChatId={selectedChatId}\r\n                    selectChat={selectChat}\r\n                    changeRoute={this.changeRoute}\r\n                  />\r\n                </Grid>\r\n                <Hidden xsDown>\r\n                  <Grid item sm={8} lg={6}>\r\n                    <Choose>\r\n                      <When condition={contactsListIsEmpty}>\r\n                        {null}\r\n                      </When>\r\n                      <When condition={!selectedChatId || chatIsUndefined}>\r\n                        <NoContentWrapper>\r\n                          <Typography variant=\"subtitle2\">\r\n                            <p>{unselectedText}</p>\r\n                          </Typography>\r\n                        </NoContentWrapper>\r\n                      </When>\r\n                      <Otherwise>\r\n                        <Chat\r\n                          loading={loading}\r\n                          adding={adding}\r\n                          me={me}\r\n                          userInfo={contact.userInfo}\r\n                          chat={chat}\r\n                          optimisticIds={optimisticIds}\r\n                          fetchMoreMessages={fetchMoreMessages}\r\n                          fetchMoreMessagesUpdate={fetchMoreMessagesUpdate}\r\n                          addMessage={addMessage}\r\n                          getAddMessageOptimisticResponse={getAddMessageOptimisticResponse}\r\n                          updateOptimisticIds={this.updateOptimisticIds}\r\n                        />\r\n                      </Otherwise>\r\n                    </Choose>\r\n                  </Grid>\r\n                </Hidden>\r\n                <Hidden mdDown>\r\n                  <Grid item lg={3}>\r\n                    <InfoPanel square elevation={0}>{null}</InfoPanel>\r\n                  </Grid>\r\n                </Hidden>\r\n              </Grid>\r\n            </Wrapper>\r\n          );\r\n        }}\r\n      </ChatsContainer>\r\n    );\r\n  }\r\n}\r\n\r\nChats.propTypes = {\r\n  location: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  initialLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default withRouter(Chats);\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport reset from 'styled-reset';\r\nimport { size } from 'polished';\r\nimport { get } from 'lodash';\r\n\r\nexport const getStyledProps = (path, unit = '') => (props) => {\r\n  const value = get(props, path);\r\n\r\n  if (unit) {\r\n    return `${value}${unit}`;\r\n  }\r\n  return value;\r\n};\r\n\r\nexport const getSpacing = (num = 1) => (props) => {\r\n  const spacingFunc = getStyledProps('theme.spacing')(props);\r\n  const padding = spacingFunc(num);\r\n\r\n  return `${padding}px`;\r\n};\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  ${reset}\r\n\r\n  html,\r\n  body {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    min-height: 100%;\r\n    font-family: ${getStyledProps('theme.typography.fontFamily')};\r\n    font-size: ${getStyledProps('theme.typography.fontSize')}px;\r\n    font-weight: ${getStyledProps('theme.typography.fontWeightRegular')};\r\n    color: #000;\r\n    background-color: #fff;\r\n    overflow-y: auto;\r\n\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    #root {\r\n      ${size('inherit')};\r\n      display: flex;\r\n    }\r\n  }\r\n\r\n  body.disable-pointer-events,\r\n  body.disable-pointer-events * {\r\n    pointer-events: none !important;\r\n  }\r\n`;\r\n","import Chat from './Chat';\r\n\r\nexport default Chat;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport Facebook from './Facebook';\r\nimport Google from './Google';\r\n\r\nimport { mutationResultProps } from '../../propTypes';\r\n\r\nconst SocialMediaWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 3em;\r\n`;\r\n\r\nconst SocialMediaNote = styled.p`\r\n  display: inline-flex;\r\n  margin-right: 1em;\r\n`;\r\n\r\nconst SocialMedia = ({\r\n  mutation,\r\n  result: { loading },\r\n  note,\r\n}) => {\r\n  return (\r\n    <SocialMediaWrapper>\r\n      <SocialMediaNote>\r\n        {note}\r\n      </SocialMediaNote>\r\n      <Facebook loading={loading} mutation={mutation} />\r\n      <Google loading={loading} mutation={mutation} />\r\n    </SocialMediaWrapper>\r\n  );\r\n};\r\n\r\nSocialMedia.defaultProps = {\r\n  note: '',\r\n};\r\nSocialMedia.propTypes = {\r\n  mutation: PropTypes.func.isRequired,\r\n  result: PropTypes.shape(mutationResultProps).isRequired,\r\n  note: PropTypes.string,\r\n};\r\n\r\nexport default SocialMedia;\r\n","import React, { Component, Fragment, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactResizeDetector from 'react-resize-detector';\r\nimport { InView } from 'react-intersection-observer';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\nimport {\r\n  debounce, isEmpty, isEqual, isFunction,\r\n} from 'lodash';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport ListItems from './ListItems';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  flex: 1 auto;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst View = styled.div`\r\n  ${position('absolute', 0, '-17px', 0, 0)};\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  z-index: 15;\r\n\r\n  ${({ startFrom }) => startFrom === 'bottom' && `\r\n    display: flex;\r\n    flex-flow: column;\r\n  `}\r\n`;\r\n\r\nexport const NoContentWrapper = styled.div`\r\n  ${size('100%')};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Scrollable = styled.div`\r\n  margin-top: auto;\r\n\r\n  ${({ pointer }) => {\r\n    const pointerEvents = !pointer ? 'none !important' : 'auto';\r\n\r\n    return `\r\n      pointer-events: ${pointerEvents};\r\n\r\n      * {\r\n        pointer-events: ${pointerEvents};\r\n      }\r\n    `;\r\n  }};\r\n`;\r\n\r\nconst Scrollbar = styled.div`\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  width: 3px;\r\n  display: ${({ presence }) => (presence ? 'block' : 'none')};\r\n  background-color: ${getStyledProps('theme.palette.grey.300')};\r\n  opacity: ${({ show }) => (show ? 1 : 0)};\r\n  transition: .25s ease;\r\n  z-index: 20;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ScrollbarThumb = styled.button`\r\n  width: 100%;\r\n  position: relative;\r\n  padding: 0;\r\n  background-color: ${getStyledProps('theme.palette.primary.main')};\r\n  border: none;\r\n  will-change: transform;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst FetchMore = styled.div`\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  visibility: ${({ visible }) => (visible ? 'visibility' : 'hidden')}\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')};\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nclass List extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.scrollbarThumb = createRef();\r\n    this.listView = createRef();\r\n    this.listScrollable = createRef();\r\n\r\n    this.state = {\r\n      scrollbar: false,\r\n      scrollbarPresence: false,\r\n      scrollbarDragging: false,\r\n      pointerEvents: true,\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { scrollbarDragging } = this.state;\r\n\r\n    if (!isEqual(scrollbarDragging, nextState.scrollbarDragging)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { loading, data, lazyLoad } = this.props;\r\n\r\n    if (\r\n      (!isEqual(prevProps.data, data) && isEmpty(data))\r\n      ||\r\n      (!isEqual(prevProps.loading, loading) && loading && !lazyLoad)\r\n    ) {\r\n      this._setScrollbarPresence(false);\r\n    }\r\n  }\r\n\r\n  _toggleScrollbarDragging = () => {\r\n    this.setState(({ scrollbarDragging }) => ({ scrollbarDragging: !scrollbarDragging }));\r\n  }\r\n\r\n  getListHeight = () => this.listScrollable.current.getBoundingClientRect().height || 0;\r\n\r\n  getListViewHeight = () => this.listView.current.getBoundingClientRect().height || 0;\r\n\r\n  getScrollTop = () => this.listView.current.scrollTop;\r\n\r\n  _setScrollbar = (scrollbar) => {\r\n    const { scrollbarDragging, scrollbarPresence } = this.state;\r\n\r\n    if (scrollbarPresence && !scrollbarDragging) {\r\n      this.setState({ scrollbar });\r\n    }\r\n  }\r\n\r\n  _setScrollbarPresence = (scrollbarPresence) => {\r\n    this.setState({ scrollbarPresence });\r\n  }\r\n\r\n  setScrollTop = (scrollTop) => {\r\n    this.listView.current.scrollTop = scrollTop;\r\n  }\r\n\r\n  scrollToBottom = () => {\r\n    const { height: listHeight } = this.listScrollable.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = this.listView.current.getBoundingClientRect();\r\n\r\n    if (listHeight > listViewHeight) {\r\n      this.setScrollTop(this.listView.current.scrollHeight);\r\n    }\r\n  }\r\n\r\n  _calculateScrollbarPosition = (scrollTop) => {\r\n    const { height: listHeight } = this.listScrollable.current.getBoundingClientRect();\r\n    const { height: listViewHeight } = this.listView.current.getBoundingClientRect();\r\n    const listScrollHeight = listHeight - listViewHeight;\r\n    const ratioPercent = scrollTop / listScrollHeight;\r\n    const thumbHeight = Math.max(20, (listViewHeight / listHeight) * listViewHeight);\r\n    const scrollbarHeight = listViewHeight - thumbHeight;\r\n    const thumbPosition = ratioPercent * scrollbarHeight;\r\n\r\n    this.scrollbarThumb.current.style.height = `${thumbHeight}px`;\r\n    this.scrollbarThumb.current.style.transform = `translate(0, ${thumbPosition}px)`;\r\n  }\r\n\r\n  onMouseDown = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { clientY: initialClientY } = e;\r\n    const {\r\n      top: viewPrevTopOffsett,\r\n      height: viewPrevHeight,\r\n    } = this.listView.current.getBoundingClientRect();\r\n    const {\r\n      bottom: thumbPrevBottomOffset,\r\n    } = this.scrollbarThumb.current.getBoundingClientRect();\r\n    const thumbOffset = thumbPrevBottomOffset - viewPrevTopOffsett;\r\n    const mouseOffset = initialClientY - viewPrevTopOffsett;\r\n    const diff = thumbOffset - mouseOffset;\r\n\r\n    this._toggleScrollbarDragging();\r\n\r\n    const onMouseMove = ({ clientY }) => {\r\n      const {\r\n        height: listHeight,\r\n      } = this.listScrollable.current.getBoundingClientRect();\r\n      const {\r\n        height: thumbHeight,\r\n      } = this.scrollbarThumb.current.getBoundingClientRect();\r\n      const currentMouseOffset = clientY - viewPrevTopOffsett;\r\n      const positionInView = viewPrevHeight - (currentMouseOffset + diff);\r\n      const ratioPercent = positionInView / (viewPrevHeight - thumbHeight);\r\n      const scrollHeight = listHeight - viewPrevHeight;\r\n      const scrollTop = scrollHeight - (ratioPercent * scrollHeight);\r\n      let nextScrollTop = scrollTop;\r\n\r\n      if (scrollTop < 0) nextScrollTop = 0;\r\n      if (scrollTop > scrollHeight) nextScrollTop = scrollHeight;\r\n\r\n      this.listView.current.scrollTop = nextScrollTop;\r\n    };\r\n\r\n    const onMouseUp = () => {\r\n      this._toggleScrollbarDragging();\r\n\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n    };\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n  }\r\n\r\n  _onScroll = (e) => {\r\n    e.preventDefault();\r\n    const { onScroll } = this.props;\r\n    const { scrollTop } = this.listView.current;\r\n    let timer;\r\n\r\n    clearTimeout(timer);\r\n    this.enablePointerEvents();\r\n    timer = this.disablePointerEvents();\r\n\r\n    this._calculateScrollbarPosition(scrollTop);\r\n\r\n    if (onScroll && isFunction(onScroll)) {\r\n      onScroll({ scrollTop });\r\n    }\r\n  }\r\n\r\n  disablePointerEvents = () => {\r\n    const { pointerEvents } = this.props;\r\n\r\n    if (pointerEvents) {\r\n      this.setState({ pointerEvents: false });\r\n    }\r\n  }\r\n\r\n  enablePointerEvents = debounce(() => {\r\n    this.setState({ pointerEvents: true });\r\n  }, 500);\r\n\r\n  _onResize = (width, height) => {\r\n    const { onResize } = this.props;\r\n    const { height: listViewHeight } = this.listView.current.getBoundingClientRect();\r\n\r\n    if (height > listViewHeight) {\r\n      this._setScrollbarPresence(true);\r\n      this._calculateScrollbarPosition();\r\n    } else {\r\n      this._setScrollbarPresence(false);\r\n    }\r\n\r\n    if (onResize && (isFunction(onResize))) {\r\n      onResize({ width, height });\r\n    }\r\n  }\r\n\r\n  _onObserverChange = (inView, { target }) => {\r\n    const {\r\n      data,\r\n      startFrom,\r\n      fetchMore,\r\n      fetchMoreThreshold,\r\n    } = this.props;\r\n    const rowIndex = Number(target.getAttribute('row-index'));\r\n    let index = rowIndex;\r\n    let thresholdIndex = data.length - fetchMoreThreshold;\r\n\r\n    if (startFrom === 'bottom') {\r\n      index = data.length - rowIndex;\r\n      thresholdIndex = fetchMoreThreshold;\r\n    }\r\n\r\n    if ((index === thresholdIndex) && inView) {\r\n      fetchMore();\r\n    }\r\n  }\r\n\r\n  _onRowRenderer = (rowData, index) => {\r\n    const {\r\n      lazyLoad,\r\n      startFrom,\r\n      data,\r\n      rowRenderer,\r\n    } = this.props;\r\n    const rowIndex = startFrom === 'bottom'\r\n      ? (data.length - index)\r\n      : (index + 1);\r\n    const rowProps = {\r\n      index,\r\n      rowIndex,\r\n      rowData,\r\n    };\r\n\r\n    if (lazyLoad) {\r\n      return (\r\n        <InView\r\n          key={rowIndex}\r\n          onChange={this._onObserverChange}\r\n          triggerOnce\r\n        >\r\n          {({ ref }) => rowRenderer({ ref, ...rowProps })}\r\n        </InView>\r\n      );\r\n    }\r\n    return rowRenderer(rowProps);\r\n  }\r\n\r\n  onMouseEnter = (e) => {\r\n    e.preventDefault();\r\n    this._setScrollbar(true);\r\n  }\r\n\r\n  onMouseLeave = (e) => {\r\n    e.preventDefault();\r\n    this._setScrollbar(false);\r\n  }\r\n\r\n  onMouseOver = (e) => {\r\n    e.preventDefault();\r\n    const { scrollbar } = this.state;\r\n\r\n    if (!scrollbar) {\r\n      this._setScrollbar(true);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { scrollbar, scrollbarPresence, pointerEvents } = this.state;\r\n    const {\r\n      loading,\r\n      data,\r\n      lazyLoad,\r\n      startFrom,\r\n      noContentComponent: NoContent,\r\n      spinnerSize,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Wrapper\r\n        onMouseEnter={this.onMouseEnter}\r\n        onMouseLeave={this.onMouseLeave}\r\n        onMouseOver={this.onMouseOver}\r\n        onFocus={this.onMouseOver}\r\n      >\r\n        <Scrollbar show={scrollbar} presence={scrollbarPresence}>\r\n          <ScrollbarThumb\r\n            ref={this.scrollbarThumb}\r\n            type=\"button\"\r\n            onDragStart={() => false}\r\n            onMouseDown={this.onMouseDown}\r\n          />\r\n        </Scrollbar>\r\n        <View\r\n          ref={this.listView}\r\n          onScroll={this._onScroll}\r\n          startFrom={startFrom}\r\n        >\r\n          <Choose>\r\n            <When condition={!lazyLoad && loading}>\r\n              <Loading>\r\n                <CircularProgress size={spinnerSize} color=\"primary\" />\r\n              </Loading>\r\n            </When>\r\n            <When condition={!loading && isEmpty(data)}>\r\n              <Choose>\r\n                <When condition={NoContent}>\r\n                  <NoContentWrapper>\r\n                    <NoContent />\r\n                  </NoContentWrapper>\r\n                </When>\r\n                <Otherwise>\r\n                  {null}\r\n                </Otherwise>\r\n              </Choose>\r\n            </When>\r\n            <Otherwise>\r\n              <Scrollable ref={this.listScrollable} pointer={pointerEvents}>\r\n                <ReactResizeDetector onResize={this._onResize} handleHeight>\r\n                  <Fragment>\r\n                    <If condition={lazyLoad && startFrom === 'bottom'}>\r\n                      <FetchMore visible={loading}>\r\n                        <CircularProgress size={spinnerSize} color=\"primary\" />\r\n                      </FetchMore>\r\n                    </If>\r\n                    <ListItems\r\n                      scrollbar={scrollbar}\r\n                      scrollbarPresence={scrollbarPresence}\r\n                      loading={loading}\r\n                      pointerEvents={pointerEvents}\r\n                      data={data}\r\n                      rowRenderer={this._onRowRenderer}\r\n                    />\r\n                    <If condition={lazyLoad && startFrom === 'top'}>\r\n                      <FetchMore visible={loading}>\r\n                        <CircularProgress size={spinnerSize} color=\"primary\" />\r\n                      </FetchMore>\r\n                    </If>\r\n                  </Fragment>\r\n                </ReactResizeDetector>\r\n              </Scrollable>\r\n            </Otherwise>\r\n          </Choose>\r\n        </View>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nList.defaultProps = {\r\n  loading: false,\r\n  data: [],\r\n  lazyLoad: false,\r\n  fetchMore: () => {},\r\n  fetchMoreThreshold: 10,\r\n  startFrom: 'top',\r\n  onResize: () => {},\r\n  onScroll: () => {},\r\n  noContentComponent: null,\r\n  spinnerSize: 20,\r\n};\r\nList.propTypes = {\r\n  loading: PropTypes.bool,\r\n  data: PropTypes.arrayOf(PropTypes.any),\r\n  rowRenderer: PropTypes.func.isRequired,\r\n  lazyLoad: PropTypes.bool,\r\n  fetchMore: PropTypes.func,\r\n  fetchMoreThreshold: PropTypes.number,\r\n  startFrom: PropTypes.oneOf(['top', 'bottom']),\r\n  onResize: PropTypes.func,\r\n  onScroll: PropTypes.func,\r\n  noContentComponent: PropTypes.func,\r\n  spinnerSize: PropTypes.number,\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport amber from '@material-ui/core/colors/amber';\r\n\r\nimport NotificationMessage from './NotificationMessage';\r\nimport NotificationClose from './NotificationClose';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst Wrapper = styled(SnackbarContent)`\r\n  && {\r\n    background-color: ${(props) => {\r\n    const { type } = props;\r\n\r\n    if (type === 'error') {\r\n      return getStyledProps('theme.palette.error.main')(props);\r\n    }\r\n    return amber[500];\r\n  }}}\r\n`;\r\n\r\nconst NotificationContent = ({ type, message, toggle }) => (\r\n  <Wrapper\r\n    type={type}\r\n    aria-describedby=\"alert-notification\"\r\n    message={<NotificationMessage key=\"message\" type={type} message={message} />}\r\n    action={[<NotificationClose key=\"close\" toggle={toggle} />]}\r\n  />\r\n);\r\n\r\nNotificationContent.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  toggle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default NotificationContent;\r\n","import { adopt } from 'react-adopt';\r\nimport {\r\n  concat, find, map,\r\n} from 'lodash';\r\n\r\nimport { createMutation, createQuery, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { myContactActivityFragment } from '../../gql/fragments';\r\n\r\nimport history from '../../router/history';\r\nimport storage from '../../storage';\r\nimport originalClient from '../../apollo';\r\n\r\nconst {\r\n  GET_ME,\r\n  GET_INITIAL_DATA,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  SIGN_OUT,\r\n  GET_MY_CHATS,\r\n  GET_MY_CONTACTS,\r\n  CHECK_SESSION_EXPIRATION,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  USER_UPDATE_SUBSCRIPTION,\r\n  UPLOAD_AVATAR,\r\n} = gql;\r\n\r\nexport const chatCreatedUpdate = (client, { contact, chat }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts: concat(myContacts, contact),\r\n      myChats: concat(myChats, chat),\r\n    },\r\n  });\r\n};\r\n\r\nconst getInitialData = createQuery('getInitialData', GET_INITIAL_DATA);\r\nconst checkSessionExpiration = createQuery('checkSessionExpiration', CHECK_SESSION_EXPIRATION);\r\nconst chatCreatedSubscription = createSubscription('chatCreatedSubscription', CHAT_CREATED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { chatCreated } } }) {\r\n    chatCreatedUpdate(client, chatCreated);\r\n  },\r\n});\r\nconst userActivitySubscription = createSubscription('userActivitySubscription', USER_ACTIVITY_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userActivityUpdated } } }) {\r\n    const { userId, status, lastDate } = userActivityUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const { id: contactId } = find(myContacts, ({ userInfo: { id: userId } }));\r\n\r\n    const fragment = myContactActivityFragment;\r\n    const id = `MyContact:${contactId}`;\r\n    const { userInfo, ...rest } = client.readFragment({ fragment, id });\r\n\r\n    client.writeFragment({\r\n      fragment,\r\n      id,\r\n      data: {\r\n        userInfo: {\r\n          ...userInfo,\r\n          status,\r\n          lastDate,\r\n        },\r\n        ...rest,\r\n      },\r\n    });\r\n  },\r\n});\r\nconst signOut = createMutation('signOut', SIGN_OUT, {\r\n  onCompleted() {\r\n    storage.removeTokens();\r\n    originalClient.resetStore();\r\n    history.push('/');\r\n  },\r\n});\r\nconst uploadAvatar = createMutation('uploadAvatar', UPLOAD_AVATAR, {\r\n  update(client, { data: { uploadAvatar: avatar } }) {\r\n    const { me } = client.readQuery({ query: GET_ME });\r\n\r\n    client.writeQuery({\r\n      query: GET_ME,\r\n      data: { me: { ...me, avatar } },\r\n    });\r\n  },\r\n});\r\nconst userUpdateSubscription = createSubscription('userUpdateSubscription', USER_UPDATE_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userUpdated } } }) {\r\n    const { id: userId } = userUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const updatedContacts = map(myContacts, (contact) => {\r\n      const { userInfo: { id } } = contact;\r\n\r\n      if (id === userId) {\r\n        return { ...contact, userInfo: userUpdated };\r\n      }\r\n      return contact;\r\n    });\r\n\r\n    client.writeQuery({ myContacts: updatedContacts });\r\n  },\r\n});\r\n\r\nconst AppLayoutContainer = adopt({\r\n  chatCreatedSubscription,\r\n  userActivitySubscription,\r\n  getInitialData,\r\n  checkSessionExpiration,\r\n  signOut,\r\n  uploadAvatar,\r\n  userUpdateSubscription,\r\n});\r\n\r\nexport default AppLayoutContainer;\r\n","import { find } from 'lodash';\r\n\r\nimport gql from '../gql';\r\n\r\nconst { GET_MY_CHATS } = gql;\r\n\r\nconst resolvers = {\r\n  Mutation: {\r\n    selectChat: (_, { chatId }, { cache }) => {\r\n      const { myContacts, myChats } = cache.readQuery({ query: GET_MY_CHATS });\r\n      const contact = find(myContacts, { chatId }) || { __typename: 'MyContact' };\r\n      const chat = find(myChats, { id: chatId }) || { __typename: 'Chat' };\r\n\r\n      cache.writeData({\r\n        data: {\r\n          selectedChat: {\r\n            contact,\r\n            chat,\r\n            __typename: 'SelectedChat',\r\n          },\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n\r\nexport default resolvers;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport TopProgressLine from '../../common/TopProgressLine';\r\n\r\nimport { getSpacing } from '../../../styles';\r\nimport { mutationProps } from '../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    position: relative;\r\n    padding: ${getSpacing(5)} ${getSpacing(3)};\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\nconst SignUpButton = styled(Button)`\r\n  && {\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst LoginForm = ({\r\n  signIn,\r\n  signInBySocial,\r\n  toSignUp,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <TopProgressLine loading={signIn.result.loading} />\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <AccountCircleIcon fontSize=\"inherit\" color=\"primary\" />\r\n      </Header>\r\n      <Form\r\n        {...formConfig('signIn')}\r\n        mutation={signIn.mutation}\r\n        result={signIn.result}\r\n        submitButtonText=\"Sign In\"\r\n      />\r\n      <SignUpButton\r\n        onClick={toSignUp}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n      >\r\n        {'Sign Up'}\r\n      </SignUpButton>\r\n      <SocialMedia\r\n        mutation={signInBySocial.mutation}\r\n        result={signInBySocial.result}\r\n        note=\"Sign In with social media:\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nLoginForm.propTypes = {\r\n  signIn: PropTypes.shape(mutationProps).isRequired,\r\n  signInBySocial: PropTypes.shape(mutationProps).isRequired,\r\n  toSignUp: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport MoodIcon from '@material-ui/icons/MoodRounded';\r\nimport SendIcon from '@material-ui/icons/SendRounded';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport orange from '@material-ui/core/colors/orange';\r\n\r\nimport ListItemAvatar from '../../../common/List/ListItemAvatar';\r\nimport TopProgressLine from '../../../common/TopProgressLine';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\nimport { userAvatarProps } from '../../../propTypes';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  position: relative;\r\n  border-top: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  padding-top: ${getSpacing(1)};\r\n`;\r\n\r\nconst UserAvatar = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: ${getSpacing(2)};\r\n`;\r\n\r\nconst Form = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  position: relative;\r\n`;\r\n\r\nconst FormInput = styled(Input)`\r\n  && {\r\n    width: 100%;\r\n    min-height: 80px;\r\n    display: inline-flex;\r\n    align-items: flex-start;\r\n\r\n    > div {\r\n      width: 95%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Emoji = styled.div`\r\n  ${position('absolute', 0, 0, null, null)}\r\n  font-size: 28px;\r\n  color: ${grey[500]};\r\n  cursor: pointer;\r\n  z-index: 10;\r\n\r\n  &:hover {\r\n    color: ${orange[300]};\r\n  }\r\n`;\r\n\r\nconst Submit = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n\r\n  button {\r\n    margin-top: ${getSpacing(1)};\r\n    text-transform: uppercase;\r\n\r\n    svg {\r\n      margin-left: ${getSpacing(1)};\r\n    }\r\n  }\r\n`;\r\n\r\nclass ChatComment extends Component {\r\n  submitButtonRef = createRef();\r\n\r\n  inputRef = createRef();\r\n\r\n  state = {\r\n    value: '',\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { value } = this.state;\r\n    const { submit } = this.props;\r\n\r\n    if (value) {\r\n      submit(value);\r\n      this.clearValue();\r\n    }\r\n  }\r\n\r\n  onChange = () => {\r\n    const { value } = this.inputRef.current;\r\n    this.setState({ value });\r\n  }\r\n\r\n  clearValue = () => {\r\n    this.setState({ value: '' });\r\n    this.inputRef.current.focus();\r\n  }\r\n\r\n  onKeyDown = ({ key }) => {\r\n    if (key === 'Escape') {\r\n      this.inputRef.current.blur();\r\n    } else if (key === 'Enter') {\r\n      this.submitButtonRef.current.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const {\r\n      adding,\r\n      avatars: {\r\n        me,\r\n        contact,\r\n      },\r\n    } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <TopProgressLine height=\"1px\" loading={adding} bordered />\r\n        <UserAvatar>\r\n          <ListItemAvatar {...me} />\r\n        </UserAvatar>\r\n        <Form onSubmit={this.onSubmit}>\r\n          <Emoji>\r\n            <MoodIcon fontSize=\"inherit\" color=\"inherit\" />\r\n          </Emoji>\r\n          <FormInput\r\n            inputRef={this.inputRef}\r\n            value={value}\r\n            onChange={this.onChange}\r\n            onKeyDown={this.onKeyDown}\r\n            placeholder=\"Write a message...\"\r\n            multiline\r\n          />\r\n          <Submit>\r\n            <Button\r\n              ref={this.submitButtonRef}\r\n              variant=\"text\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n            >\r\n              {'Send'}\r\n              <SendIcon />\r\n            </Button>\r\n          </Submit>\r\n        </Form>\r\n        <UserAvatar>\r\n          <ListItemAvatar {...contact} />\r\n        </UserAvatar>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nChatComment.propTypes = {\r\n  avatars: PropTypes.shape({\r\n    me: PropTypes.shape(userAvatarProps).isRequired,\r\n    contact: PropTypes.shape(userAvatarProps).isRequired,\r\n  }).isRequired,\r\n  adding: PropTypes.bool.isRequired,\r\n  submit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ChatComment;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst AppRoute = ({\r\n  component: Component,\r\n  layout: Layout,\r\n  privateRoute,\r\n  redirect,\r\n  to,\r\n  ...rest\r\n}) => {\r\n  const render = props => (\r\n    <Layout>\r\n      <Component {...props} />\r\n    </Layout>\r\n  );\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        <Choose>\r\n          <When condition={redirect}>\r\n            <Component to={to} />\r\n          </When>\r\n          <When condition={privateRoute}>\r\n            <PrivateRoute>\r\n              {render(props)}\r\n            </PrivateRoute>\r\n          </When>\r\n          <Otherwise>\r\n            {render(props)}\r\n          </Otherwise>\r\n        </Choose>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nAppRoute.defaultProps = {\r\n  privateRoute: false,\r\n  layout: null,\r\n  redirect: false,\r\n  to: '',\r\n};\r\nAppRoute.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.node, PropTypes.func]).isRequired,\r\n  layout: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  privateRoute: PropTypes.bool,\r\n  redirect: PropTypes.bool,\r\n  to: PropTypes.string,\r\n};\r\n\r\nexport default AppRoute;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation, createQuery } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { chatCreatedUpdate } from './AppLayoutContainer';\r\n\r\nconst {\r\n  SEARCH_USERS,\r\n  CREATE_CHAT,\r\n  GET_MY_CONTACTS,\r\n} = gql;\r\n\r\nconst searchUsers = createQuery('searchUsers', SEARCH_USERS);\r\nconst getMyContacts = createQuery('getMyContacts', GET_MY_CONTACTS);\r\nconst createChat = createMutation('createChat', CREATE_CHAT, {\r\n  update(client, { data }) {\r\n    chatCreatedUpdate(client, data.createChat);\r\n  },\r\n});\r\n\r\nconst SearchDialogContainer = adopt({\r\n  searchUsers,\r\n  getMyContacts,\r\n  createChat,\r\n});\r\n\r\nexport default SearchDialogContainer;\r\n","module.exports = __webpack_public_path__ + \"assets/images/reg-bg__1920_95.jpg\";","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VisibilityIcon from '@material-ui/icons/VisibilityRounded';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOffRounded';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass FormInputPassword extends PureComponent {\r\n  state = {\r\n    showPassword: false,\r\n  }\r\n\r\n  toggleShowPassword = () => {\r\n    this.setState(({ showPassword }) => ({ showPassword: !showPassword }));\r\n  }\r\n\r\n  render() {\r\n    const { showPassword } = this.state;\r\n    const { type, ...rest } = this.props;\r\n    const validType = showPassword ? 'text' : type;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        type={validType}\r\n        endAdornment={(\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={this.toggleShowPassword}>\r\n              <Choose>\r\n                <When condition={showPassword}>\r\n                  <VisibilityIcon />\r\n                </When>\r\n                <Otherwise>\r\n                  <VisibilityOffIcon />\r\n                </Otherwise>\r\n              </Choose>\r\n            </IconButton>\r\n          </InputAdornment>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nFormInputPassword.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FormInputPassword;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst SubmitButton = styled(Button)`\r\n  && {\r\n    position: relative;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst FormSubmit = ({ loading, text }) => (\r\n  <SubmitButton\r\n    type=\"submit\"\r\n    size=\"large\"\r\n    color=\"primary\"\r\n    variant=\"contained\"\r\n    disabled={loading}\r\n    fullWidth\r\n  >\r\n    {text}\r\n  </SubmitButton>\r\n);\r\n\r\nFormSubmit.defaultProps = {\r\n  loading: false,\r\n};\r\nFormSubmit.propTypes = {\r\n  loading: PropTypes.bool,\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FormSubmit;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { set } from 'lodash';\r\n\r\nimport Notification from '../Notification';\r\n\r\nconst withNotification = WrappedComponent => class extends Component {\r\n  state = {\r\n    open: false,\r\n    message: '',\r\n    type: 'error',\r\n  }\r\n\r\n  toggleNotification = (message = '', type = '') => {\r\n    this.setState(({ open }) => {\r\n      const updatedState = {\r\n        open: !open,\r\n      };\r\n\r\n      if (message) {\r\n        set(updatedState, 'message', message);\r\n      }\r\n      if (type) {\r\n        set(updatedState, 'type', type);\r\n      }\r\n      return updatedState;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <WrappedComponent {...this.props} toggleNotification={this.toggleNotification} />\r\n        <Notification {...this.state} toggle={this.toggleNotification} />\r\n      </Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withNotification;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport {\r\n  find, filter, upperCase, isEqual,\r\n} from 'lodash';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport SearchBox from '../../../common/SearchBox';\r\nimport ContactsList from './ContactsList';\r\nimport ContactsFooter from './ContactsFooter';\r\nimport SearchDialog from '../SearchDialog';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\nimport { contactProps, chatProps } from '../../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n    padding: ${getSpacing(2)};\r\n    padding-top: ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nclass ContactPanel extends Component {\r\n  state = {\r\n    searchDialog: false,\r\n    searchValue: '',\r\n    sortedContacts: [],\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchValue } = this.state;\r\n    const { selectedChatId, selectChat, contacts } = this.props;\r\n\r\n    if (!isEqual(prevProps.selectedChatId, selectedChatId)) {\r\n      selectChat({ variables: { chatId: selectedChatId } });\r\n    }\r\n\r\n    if (\r\n      !isEqual(prevState.searchValue, searchValue)\r\n      ||\r\n      !isEqual(prevProps.contacts, contacts)\r\n    ) {\r\n      this.sortContacts(contacts, searchValue);\r\n    }\r\n  }\r\n\r\n  toggleSearchDialog = () => {\r\n    this.setState(({ searchDialog }) => ({ searchDialog: !searchDialog }));\r\n  }\r\n\r\n  onChangeSearchValue = (searchValue) => {\r\n    this.setState({ searchValue });\r\n  }\r\n\r\n  sortContacts = (contacts, searchValue) => {\r\n    const sortedContacts = filter(contacts, ({ userInfo }) => {\r\n      const upperName = upperCase(userInfo.displayName);\r\n      const upperSearchValue = upperCase(searchValue);\r\n\r\n      return upperName.indexOf(upperSearchValue) !== -1;\r\n    });\r\n\r\n    this.setState({ sortedContacts });\r\n  }\r\n\r\n  getLastChatMessage = (chatId) => {\r\n    const { chats } = this.props;\r\n    const chat = find(chats, { id: chatId });\r\n\r\n    if (chat) {\r\n      const { messages } = chat;\r\n\r\n      return messages[messages.length - 1];\r\n    }\r\n    return {};\r\n  }\r\n\r\n  render() {\r\n    const { searchDialog, searchValue, sortedContacts } = this.state;\r\n    const {\r\n      loading,\r\n      myId,\r\n      selectedChatId,\r\n      changeRoute,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Wrapper square elevation={0}>\r\n        <SearchBox value={searchValue} onChange={this.onChangeSearchValue} />\r\n        <ContactsList\r\n          loading={loading}\r\n          data={sortedContacts}\r\n          myId={myId}\r\n          searchValue={searchValue}\r\n          selectedChatId={selectedChatId}\r\n          changeRoute={changeRoute}\r\n          getLastChatMessage={this.getLastChatMessage}\r\n        />\r\n        <ContactsFooter toggleSearchDialog={this.toggleSearchDialog} />\r\n        <SearchDialog open={searchDialog} toggle={this.toggleSearchDialog} />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nContactPanel.defaultProps = {\r\n  myId: null,\r\n  selectedChatId: null,\r\n  contacts: [],\r\n  chats: [],\r\n};\r\nContactPanel.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  myId: PropTypes.string,\r\n  selectedChatId: PropTypes.string,\r\n  contacts: PropTypes.arrayOf(PropTypes.shape(contactProps)),\r\n  chats: PropTypes.arrayOf(PropTypes.shape(chatProps)),\r\n  selectChat: PropTypes.func.isRequired,\r\n  changeRoute: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactPanel;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst InputWrapper = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    padding-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst InputError = styled(FormHelperText)`\r\n  && {\r\n    ${position('absolute', null, 0, '0.5em', 0)}\r\n  }\r\n`;\r\n\r\nconst FormInput = ({\r\n  name,\r\n  type,\r\n  label,\r\n  placeholder,\r\n  required,\r\n  autoComplete,\r\n  error,\r\n  isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  onBlur,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Field name={name} validate={value => validate(value, name)}>\r\n      {({ field }) => (\r\n        <InputWrapper fullWidth>\r\n          <InputLabel shrink={type === 'date' || undefined} htmlFor={name}>{label}</InputLabel>\r\n          <Input\r\n            {...field}\r\n            id={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            required={required}\r\n            autoComplete={autoComplete}\r\n            error={isError}\r\n            onChange={onChange}\r\n            onBlur={(event) => {\r\n              validateField(name);\r\n\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            inputProps={{\r\n              onKeyDown: ({ key, target }) => {\r\n                if (key === 'Escape') {\r\n                  target.blur();\r\n                }\r\n              },\r\n            }}\r\n            {...rest}\r\n          />\r\n          <InputError error={isError}>{error}</InputError>\r\n        </InputWrapper>\r\n      )}\r\n    </Field>\r\n  );\r\n};\r\n\r\nFormInput.defaultProps = {\r\n  label: '',\r\n  placeholder: '',\r\n  error: undefined,\r\n  isError: false,\r\n};\r\nFormInput.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool.isRequired,\r\n  autoComplete: PropTypes.string.isRequired,\r\n  error: PropTypes.string,\r\n  isError: PropTypes.bool,\r\n  validate: PropTypes.func.isRequired,\r\n  validateField: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  onBlur: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default FormInput;\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-SG\": \"zavE\",\n\t\"./en-SG.js\": \"zavE\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { map, find } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport FormInput from './FormInput';\r\nimport FormInputPassword from './FormInputPassword';\r\nimport FormInputRadio from './FormInputRadio';\r\nimport AsyncFormInput from './AsyncFormInput';\r\nimport FormSubmit from './FormSubmit';\r\n\r\nimport {\r\n  formFieldsProps,\r\n  mutationResultProps,\r\n  formAsyncValidationFieldsProps,\r\n} from '../../propTypes';\r\n\r\nconst Wrapper = styled.form`\r\n  width: 100%;\r\n`;\r\n\r\nclass Form extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    const { result, setFieldError } = this.props;\r\n\r\n    if (!prevProps.result.error && result.error) {\r\n      if (result.error.graphQLErrors) {\r\n        const { graphQLErrors } = result.error;\r\n        const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n        if (invalidField) {\r\n          setFieldError(invalidField, message);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  validate = async (value, field) => {\r\n    const { validationSchema, asyncValidationFields } = this.props;\r\n    const asyncValidationField = find(asyncValidationFields, { name: field });\r\n\r\n    try {\r\n      await yup.reach(validationSchema, field).validate(value);\r\n\r\n      if (asyncValidationField) {\r\n        const { validation } = asyncValidationField;\r\n\r\n        await validation.mutation({ variables: { value, field } });\r\n      }\r\n    } catch ({ message, graphQLErrors }) {\r\n      if (graphQLErrors) {\r\n        const { message: graphQlMessage } = graphQLErrors[0];\r\n\r\n        throw graphQlMessage;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields,\r\n      errors,\r\n      touched,\r\n      handleChange,\r\n      handleBlur,\r\n      handleSubmit,\r\n      result,\r\n      submitButtonText,\r\n      validateField,\r\n      asyncValidationFields,\r\n    } = this.props;\r\n    const { loading } = result;\r\n\r\n    return (\r\n      <Wrapper onSubmit={handleSubmit}>\r\n        {\r\n          map(fields, (field) => {\r\n            const {\r\n              name,\r\n              type,\r\n              initialValue,\r\n              ...values\r\n            } = field;\r\n            const error = errors[name];\r\n            const isError = error && touched[name];\r\n            const asyncValidationField = find(asyncValidationFields, { name });\r\n\r\n            return (\r\n              <Choose>\r\n                <When condition={asyncValidationField}>\r\n                  <AsyncFormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    result={asyncValidationField.validation.result}\r\n                    validate={this.validate}\r\n                    validateField={validateField}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'password'}>\r\n                  <FormInputPassword\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    isError={isError}\r\n                    error={error}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'radio'}>\r\n                  <FormInputRadio\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                  />\r\n                </When>\r\n                <Otherwise>\r\n                  <FormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </Otherwise>\r\n              </Choose>\r\n            );\r\n          })\r\n        }\r\n        <FormSubmit loading={loading} text={submitButtonText} />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nForm.defaultProps = {\r\n  errors: {},\r\n  touched: {},\r\n  submitButtonText: 'Submit',\r\n  asyncValidationFields: [],\r\n};\r\nForm.propTypes = {\r\n  fields: PropTypes.arrayOf(PropTypes.shape(formFieldsProps)).isRequired,\r\n  errors: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.object, PropTypes.string])),\r\n  touched: PropTypes.objectOf(PropTypes.bool),\r\n  handleChange: PropTypes.func.isRequired,\r\n  handleBlur: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  setFieldError: PropTypes.func.isRequired,\r\n  result: PropTypes.shape(mutationResultProps).isRequired,\r\n  submitButtonText: PropTypes.string,\r\n  validateField: PropTypes.func.isRequired,\r\n  validationSchema: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  asyncValidationFields: PropTypes.arrayOf(PropTypes.shape(formAsyncValidationFieldsProps)),\r\n};\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: ({ initialValues }) => initialValues,\r\n\r\n  handleSubmit: (form, { props: { mutation } }) => {\r\n    mutation({ variables: { form } });\r\n  },\r\n\r\n  validateOnChange: false,\r\n  validateOnBlur: false,\r\n})(Form);\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const mutationResultProps = {\r\n  called: PropTypes.bool,\r\n  client: PropTypes.objectOf(PropTypes.any),\r\n  data: PropTypes.objectOf(PropTypes.any),\r\n  error: PropTypes.objectOf(PropTypes.any),\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport const mutationProps = {\r\n  mutation: PropTypes.func,\r\n  name: PropTypes.string,\r\n  result: PropTypes.shape(mutationResultProps),\r\n};\r\n\r\nexport const formFieldsProps = {\r\n  name: PropTypes.string,\r\n  label: PropTypes.string,\r\n  type: PropTypes.string,\r\n  autoComplete: PropTypes.oneOf(['on', 'off']),\r\n  required: PropTypes.bool,\r\n  initialValue: PropTypes.string,\r\n};\r\n\r\nexport const formAsyncValidationFieldsProps = {\r\n  name: PropTypes.string,\r\n  validation: PropTypes.shape(mutationProps),\r\n};\r\n\r\nexport const messageProps = {\r\n  content: PropTypes.string,\r\n  edited: PropTypes.bool,\r\n  id: PropTypes.string,\r\n  seen: PropTypes.bool,\r\n  senderId: PropTypes.string,\r\n  time: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n  type: PropTypes.oneOf(['system', 'text']),\r\n  __typename: PropTypes.string,\r\n};\r\n\r\nexport const meProps = {\r\n  id: PropTypes.string,\r\n  avatar: PropTypes.shape({\r\n    sm: PropTypes.string,\r\n    md: PropTypes.string,\r\n  }),\r\n  displayName: PropTypes.string,\r\n  firstName: PropTypes.string,\r\n  lastName: PropTypes.string,\r\n  status: PropTypes.oneOf(['ONLINE', 'OFFLINE']),\r\n  username: PropTypes.string,\r\n};\r\n\r\nexport const chatProps = {\r\n  id: PropTypes.string,\r\n  messages: PropTypes.arrayOf(PropTypes.shape(messageProps)),\r\n};\r\n\r\nexport const userAvatarProps = {\r\n  sm: PropTypes.string,\r\n  md: PropTypes.string,\r\n};\r\n\r\nexport const userInfoProps = {\r\n  avatar: PropTypes.shape(userAvatarProps),\r\n  displayName: PropTypes.string,\r\n  firstName: PropTypes.string,\r\n  lastName: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n  status: PropTypes.string,\r\n  username: PropTypes.string,\r\n  lastDate: PropTypes.string,\r\n  __typename: PropTypes.string,\r\n};\r\n\r\nexport const contactProps = {\r\n  chatId: PropTypes.string,\r\n  id: PropTypes.string,\r\n  userInfo: PropTypes.shape(userInfoProps),\r\n  __typename: PropTypes.string,\r\n};\r\n\r\nexport default undefined;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Facebook = ({ loading, mutation }) => (\r\n  <Social social=\"facebook\" color={blue[900]}>\r\n    <FacebookLogin\r\n      fields=\"first_name,last_name,id,email,gender\"\r\n      appId={process.env.FACEBOOK_APP_ID}\r\n      callback={({\r\n        userID: id,\r\n        email,\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'facebook',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton\r\n          loading={loading}\r\n          onClick={onClick}\r\n          icon={faFacebook}\r\n        />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nFacebook.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  mutation: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Facebook;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nexport default function register() { // Register the service worker\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = 'service-worker.js';\r\n      navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n          registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n              if (installingWorker.state === 'installed') {\r\n                if (navigator.serviceWorker.controller) {\r\n                  // At this point, the old content will have been purged and\r\n                  // the fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in your web app.\r\n                  console.log('New content is available; please refresh.');\r\n                } else {\r\n                  // At this point, everything has been precached.\r\n                  // It's the perfect time to display a\r\n                  // \"Content is cached for offline use.\" message.\r\n                  console.log('Content is cached for offline use.');\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error during service worker registration:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { adopt } from 'react-adopt';\r\nimport { map, concat } from 'lodash';\r\n\r\nimport { createQuery, createMutation, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n// import { icqBeepPlay } from '../../helpers';\r\n\r\nconst {\r\n  GET_ME,\r\n  GET_MY_CHATS,\r\n  GET_CHAT_MESSAGES,\r\n  SELECT_CHAT,\r\n  GET_SELECTED_CHAT,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n} = gql;\r\n\r\nexport const fetchMoreMessagesUpdate = variables => ({\r\n  query: GET_CHAT_MESSAGES,\r\n  variables,\r\n  updateQuery: (prev, { fetchMoreResult }) => {\r\n    const { selectedChat } = prev;\r\n    const { chatMessages } = fetchMoreResult;\r\n    const { chat, ...rest } = selectedChat;\r\n    const { messages } = chat;\r\n\r\n    return {\r\n      selectedChat: {\r\n        ...rest,\r\n        chat: {\r\n          ...chat,\r\n          messages: concat(chatMessages, messages),\r\n        },\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nexport const getAddMessageOptimisticResponse = ({\r\n  chatId,\r\n  myId,\r\n  optimisticId,\r\n  content,\r\n  time,\r\n}) => ({\r\n  __typename: 'Mutation',\r\n  addMessage: {\r\n    chatId,\r\n    optimistic: true,\r\n    optimisticId,\r\n    message: {\r\n      id: optimisticId,\r\n      senderId: myId,\r\n      content,\r\n      time,\r\n      type: 'text',\r\n      seen: false,\r\n      edited: false,\r\n      __typename: 'ChatMessage',\r\n    },\r\n    __typename: 'MessageUpdate',\r\n  },\r\n});\r\n\r\nconst addMessageUpdate = (client, { chatId, message }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n  const updatedMyChats = map(myChats, (chat) => {\r\n    const { id, messages } = chat;\r\n\r\n    if (id === chatId) {\r\n      const newMessages = [...messages, message];\r\n\r\n      return {\r\n        ...chat,\r\n        messages: newMessages,\r\n      };\r\n    }\r\n    return chat;\r\n  });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts,\r\n      myChats: updatedMyChats,\r\n    },\r\n  });\r\n};\r\n\r\nconst getMe = createQuery('getMe', GET_ME);\r\nconst getMyChats = createQuery('getMyChats', GET_MY_CHATS, {\r\n  notifyOnNetworkStatusChange: true,\r\n});\r\nconst addMessage = createMutation('addMessage', ADD_MESSAGE, {\r\n  update(client, { data }) {\r\n    addMessageUpdate(client, data.addMessage);\r\n  },\r\n});\r\nconst messageAddedSubscription = createSubscription('messageAddedSubscription', MESSAGE_ADDED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { messageAdded } } }) {\r\n    addMessageUpdate(client, messageAdded);\r\n    // icqBeepPlay();\r\n  },\r\n});\r\nconst getSelectedChat = createQuery('getSelectedChat', GET_SELECTED_CHAT, {\r\n  notifyOnNetworkStatusChange: true,\r\n});\r\nconst selectChat = createMutation('selectChat', SELECT_CHAT);\r\n\r\nconst ContactsContainer = adopt({\r\n  getMe,\r\n  getMyChats,\r\n  addMessage,\r\n  messageAddedSubscription,\r\n  selectChat,\r\n  getSelectedChat,\r\n});\r\n\r\nexport default ContactsContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\n\r\nimport { getStyledProps, getSpacing } from '../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  margin-bottom: ${getSpacing(1)};\r\n  color: ${getStyledProps('theme.palette.grey.600')};\r\n  background-color: #fff;\r\n  border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')}\r\n`;\r\n\r\nconst IconWrapper = styled.div`\r\n  flex: 0 40px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${getStyledProps('theme.palette.primary.light')};\r\n`;\r\n\r\nconst Input = styled(InputBase)`\r\n  && {\r\n    flex: 1 auto;\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\nconst SearchBox = ({ value, onChange, autoFocus }) => (\r\n  <Wrapper>\r\n    <IconWrapper>\r\n      <SearchIcon />\r\n    </IconWrapper>\r\n    <Input\r\n      type=\"text\"\r\n      value={value}\r\n      onChange={({ target }) => onChange(target.value)}\r\n      placeholder=\"Search...\"\r\n      autoFocus={autoFocus}\r\n    />\r\n  </Wrapper>\r\n);\r\n\r\nSearchBox.defaultProps = {\r\n  autoFocus: false,\r\n};\r\nSearchBox.propTypes = {\r\n  autoFocus: PropTypes.bool,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map, isEmpty, isEqual } from 'lodash';\r\n\r\nimport List from '@material-ui/core/List';\r\n\r\nclass ListItems extends Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    const {\r\n      scrollbar,\r\n      scrollbarPresence,\r\n      loading,\r\n      pointerEvents\r\n    } = this.props;\r\n\r\n    if (\r\n      !isEqual(loading, nextProps.loading)\r\n      ||\r\n      !isEqual(pointerEvents, nextProps.pointerEvents)\r\n      ||\r\n      !isEqual(scrollbar, nextProps.scrollbar)\r\n      ||\r\n      !isEqual(scrollbarPresence, nextProps.scrollbarPresence)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { data, rowRenderer } = this.props;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={isEmpty(data)}>\r\n          {null}\r\n        </When>\r\n        <Otherwise>\r\n          <List disablePadding>\r\n            {map(data, (item, index) => rowRenderer(item, index))}\r\n          </List>\r\n        </Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nListItems.defaultProps = {\r\n  loading: false,\r\n  data: [],\r\n  scrollbar: false,\r\n  scrollbarPresence: false,\r\n  pointerEvents: false,\r\n};\r\nListItems.propTypes = {\r\n  loading: PropTypes.bool,\r\n  data: PropTypes.arrayOf(PropTypes.any),\r\n  rowRenderer: PropTypes.func.isRequired,\r\n  scrollbar: PropTypes.bool,\r\n  scrollbarPresence: PropTypes.bool,\r\n  pointerEvents: PropTypes.bool,\r\n};\r\n\r\nexport default ListItems;\r\n","import auth from './auth';\r\nimport user from './user';\r\nimport chat from './chat';\r\n\r\n\r\nexport default {\r\n  ...auth,\r\n  ...user,\r\n  ...chat,\r\n};\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { includes, isEqual } from 'lodash';\r\n\r\nimport List from '../../../common/List';\r\nimport Message from './Message';\r\n\r\nimport { isSameDay } from '../../../../helpers';\r\n\r\nclass ChatMessages extends Component {\r\n  list = createRef();\r\n\r\n  state = {\r\n    listHeight: 0,\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { listHeight } = this.state;\r\n\r\n    if (!isEqual(listHeight, nextState.listHeight)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      chatId,\r\n      adding,\r\n      messages,\r\n    } = this.props;\r\n\r\n    if (!isEqual(prevProps.chatId, chatId)) {\r\n      this.list.current.scrollToBottom();\r\n    }\r\n\r\n    if (\r\n      isEqual(prevProps.chatId, chatId)\r\n      &&\r\n      !isEqual(prevProps.messages, messages)\r\n    ) {\r\n      if (!adding) {\r\n        this.updateScrollTopAfterFetchMore();\r\n      } else {\r\n        this.list.current.scrollToBottom();\r\n      }\r\n    }\r\n  }\r\n\r\n  onResize = ({ height }) => {\r\n    this.setState({ listHeight: height });\r\n  }\r\n\r\n  updateScrollTopAfterFetchMore = () => {\r\n    const { listHeight } = this.state;\r\n    const scrollTop = this.list.current.getScrollTop();\r\n    const height = this.list.current.getListHeight();\r\n    const diff = height - listHeight;\r\n\r\n    if (scrollTop < diff) {\r\n      const nextScrollTop = diff + scrollTop;\r\n\r\n      this.list.current.setScrollTop(nextScrollTop);\r\n    }\r\n  }\r\n\r\n  rowRenderer = ({\r\n    ref,\r\n    index,\r\n    rowIndex,\r\n    rowData,\r\n  }) => {\r\n    const { messages, optimisticIds, myId } = this.props;\r\n    const {\r\n      id,\r\n      senderId,\r\n      type,\r\n      time,\r\n      content,\r\n    } = rowData;\r\n    const isSystem = type === 'system';\r\n    const isFirst = messages[0].id === id;\r\n    const isMyMessage = senderId === myId;\r\n    const isAdding = includes(optimisticIds, id);\r\n    const direction = isMyMessage ? 'start' : 'end';\r\n    const alignItems = isSystem ? 'center' : `flex-${direction}`;\r\n    let divider = false;\r\n\r\n    if (index > 0) {\r\n      const { time: prevMessageTime } = messages[index - 1];\r\n\r\n      divider = !isSameDay(time, prevMessageTime);\r\n    }\r\n\r\n    return (\r\n      <Message\r\n        ref={ref}\r\n        rowIndex={rowIndex}\r\n        alignItems={alignItems}\r\n        divider={divider}\r\n        time={time}\r\n        content={content}\r\n        isSystem={isSystem}\r\n        isFirst={isFirst}\r\n        isMyMessage={isMyMessage}\r\n        isAdding={isAdding}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      messages,\r\n      getMessages,\r\n    } = this.props;\r\n\r\n    return (\r\n      <List\r\n        ref={this.list}\r\n        loading={loading}\r\n        data={messages}\r\n        fetchMore={getMessages}\r\n        fetchMoreThreshold={5}\r\n        startFrom=\"bottom\"\r\n        rowRenderer={this.rowRenderer}\r\n        onResize={this.onResize}\r\n        lazyLoad\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nChatMessages.defaultProps = {\r\n  chatId: null,\r\n  myId: null,\r\n  messages: [],\r\n  optimisticIds: [],\r\n};\r\nChatMessages.propTypes = {\r\n  chatId: PropTypes.string,\r\n  myId: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  adding: PropTypes.bool.isRequired,\r\n  messages: PropTypes.arrayOf(PropTypes.object),\r\n  getMessages: PropTypes.func.isRequired,\r\n  optimisticIds: PropTypes.arrayOf(PropTypes.string),\r\n};\r\n\r\nexport default ChatMessages;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport InfoIcon from '@material-ui/icons/InfoRounded';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircleRounded';\r\n\r\nconst StepLabelStyled = styled(StepLabel)`\r\n  p {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst RegFormStepper = ({ activeStep, steps }) => (\r\n  <Stepper alternativeLabel activeStep={activeStep}>\r\n    {\r\n      map(steps, (label, index) => {\r\n        const isActive = activeStep === index;\r\n        const isCompleted = index < activeStep;\r\n        const iconColor = (!isCompleted && !isActive)\r\n          ? 'disabled'\r\n          : 'primary';\r\n        const step = index + 1;\r\n\r\n        return (\r\n          <Step\r\n            key={index}\r\n            active={isActive}\r\n            completed={isCompleted}\r\n          >\r\n            <StepLabelStyled\r\n              icon={(\r\n                <Choose>\r\n                  <When condition={isCompleted}>\r\n                    <CheckCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <When condition={step === 1}>\r\n                    <AccountCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <InfoIcon color={iconColor} />\r\n                  </Otherwise>\r\n                </Choose>\r\n              )}\r\n            >\r\n              <span>{`Step ${step}.`}</span>\r\n              <p>{label}</p>\r\n            </StepLabelStyled>\r\n          </Step>\r\n        );\r\n      })\r\n    }\r\n  </Stepper>\r\n);\r\n\r\nexport default RegFormStepper;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport NotificationContent from './NotificationContent';\r\n\r\nclass Notification extends Component {\r\n  onClose = (event, reason) => {\r\n    const { open, toggle } = this.props;\r\n\r\n    if (reason === 'timeout' && !open) {\r\n      return;\r\n    }\r\n    toggle();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      message,\r\n      open,\r\n      toggle,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    return (\r\n      <Snackbar\r\n        open={open}\r\n        onClose={this.onClose}\r\n        anchorOrigin={{\r\n          horizontal: 'right',\r\n          vertical: 'top',\r\n        }}\r\n        TransitionProps={{\r\n          direction: 'left',\r\n        }}\r\n        autoHideDuration={4000}\r\n        {...rest}\r\n      >\r\n        <NotificationContent\r\n          type={type}\r\n          message={message}\r\n          toggle={() => toggle()}\r\n        />\r\n      </Snackbar>\r\n    );\r\n  }\r\n}\r\n\r\nNotification.propTypes = {\r\n  type: PropTypes.oneOf(['warning', 'error']).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  toggle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport gql from '../../gql';\r\nimport { createMutation } from '../../apollo/utils';\r\n\r\nconst {\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n} = gql;\r\n\r\nconst signUpAsyncValidationUsername = createMutation('signUpAsyncValidationUsername', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUpAsyncValidationEmail = createMutation('signUpAsyncValidationEmail', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUp = createMutation('signUp', SIGN_UP);\r\nconst signUpCompletion = createMutation('signUpCompletion', SIGN_UP_COMPLETION);\r\nconst signUpBySocial = createMutation('signUpBySocial', SIGN_UP_BY_SOCIAL);\r\n\r\nconst RegContainer = adopt({\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n});\r\n\r\nexport default RegContainer;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { find } from 'lodash';\r\n\r\nimport List from '../../../common/List';\r\nimport SearchDialogListItem from './SearchDialogListItem';\r\n\r\nimport { getAvatar } from '../../../../helpers';\r\n\r\nclass SearchDialogList extends Component {\r\n  rowRenderer = ({ rowIndex, rowData }) => {\r\n    const {\r\n      loading,\r\n      myContacts,\r\n      adding,\r\n      selectedUserId,\r\n      openConfirmDialog,\r\n    } = this.props;\r\n    const { id, displayName, username } = rowData;\r\n    const isAdding = adding && selectedUserId === id;\r\n    const isAdded = !!find(myContacts, ({ userInfo }) => userInfo.id === id);\r\n    const avatar = getAvatar(rowData);\r\n    const usernameText = `@${username}`;\r\n\r\n    return (\r\n      <SearchDialogListItem\r\n        key={rowIndex}\r\n        displayName={displayName}\r\n        username={usernameText}\r\n        avatar={avatar}\r\n        isAdding={isAdding}\r\n        isAdded={isAdded}\r\n        onClick={() => openConfirmDialog(rowData)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading, data } = this.props;\r\n\r\n    return (\r\n      <List\r\n        loading={loading}\r\n        data={data}\r\n        rowRenderer={this.rowRenderer}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDialogList;\r\n","import { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\nconst cache = new InMemoryCache({\r\n  freezeResults: true,\r\n});\r\n\r\nconst initialState = {\r\n  sessionExpired: false,\r\n  me: {\r\n    __typename: 'User',\r\n  },\r\n  myContacts: [],\r\n  myChats: [],\r\n  selectedChat: {\r\n    contact: {\r\n      __typename: 'MyContact',\r\n    },\r\n    chat: {\r\n      __typename: 'Chat',\r\n    },\r\n    __typename: 'SelectedChat',\r\n  },\r\n};\r\n\r\nexport const initData = () => {\r\n  cache.writeData({ data: initialState });\r\n};\r\ninitData();\r\n\r\nexport default cache;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport MaterialListItem from '@material-ui/core/ListItem';\r\n// import red from '@material-ui/core/colors/red';\r\n\r\nimport ListItemAvatar from '../../../common/List/ListItemAvatar';\r\nimport ListItemInfo from '../../../common/List/ListItemInfo';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst ListItem = styled(({ isSelected, ...rest }) => <MaterialListItem {...rest} />)`\r\n  && {\r\n    padding-right: 60px;\r\n    padding-left: ${getSpacing(1)};\r\n    ${({ isSelected }) => isSelected && `\r\n      background-color: #fff;\r\n      border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')};\r\n    `};\r\n\r\n    &&:hover {\r\n      background-color: #fff;\r\n      border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')};\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SecondaryInfo = styled.div`\r\n  width: 60px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  color: ${getStyledProps('theme.palette.grey.700')};\r\n  padding: 11px;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst Time = styled.span`\r\n  width: 100%;\r\n  font-size: 11px;\r\n  text-align: right;\r\n`;\r\n\r\n// const Badge = styled.div`\r\n//   min-width: 21px;\r\n//   display: flex;\r\n//   justify-content: center;\r\n//   align-items: center;\r\n//   padding: 5px;\r\n//   font-size: 11px;\r\n//   color: #fff;\r\n//   background-color: ${red[500]};\r\n//   border-radius: 50%;\r\n// `;\r\n\r\nconst Contact = ({\r\n  displayName,\r\n  message,\r\n  avatar,\r\n  online,\r\n  time,\r\n  isSelected,\r\n  onSelect,\r\n}) => {\r\n  const { src, text } = avatar;\r\n\r\n  return (\r\n    <ListItem isSelected={isSelected} onClick={onSelect}>\r\n      <ListItemAvatar src={src} text={text} online={online} />\r\n      <ListItemInfo primary={displayName} secondary={message} />\r\n      <SecondaryInfo>\r\n        <Time>{time}</Time>\r\n      </SecondaryInfo>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nContact.propTypes = {\r\n  displayName: PropTypes.string.isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  avatar: PropTypes.shape({\r\n    src: PropTypes.string,\r\n    text: PropTypes.string,\r\n  }).isRequired,\r\n  online: PropTypes.bool.isRequired,\r\n  time: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]).isRequired,\r\n  isSelected: PropTypes.bool.isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Contact;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n\r\nconst { SIGN_IN, SIGN_IN_BY_SOCIAL } = gql;\r\n\r\nconst signIn = createMutation('signIn', SIGN_IN);\r\nconst signInBySocial = createMutation('signInBySocial', SIGN_IN_BY_SOCIAL);\r\n\r\nconst LoginContainer = adopt({\r\n  signIn,\r\n  signInBySocial,\r\n});\r\n\r\nexport default LoginContainer;\r\n","import React, { Component } from 'react';\r\nimport createReactContext from 'create-react-context';\r\n\r\nexport const AppContext = createReactContext({});\r\n\r\nclass AppProvider extends Component {\r\n  state = {}\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <AppContext.Provider\r\n        value={{}}\r\n      >\r\n        {children}\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppProvider;\r\n","import { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloLink, from, split } from 'apollo-link';\r\nimport { onError } from 'apollo-link-error';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\r\nimport { isEmpty } from 'lodash';\r\n\r\nimport storage from '../storage';\r\nimport client from './index';\r\n\r\nconst httpLink = createUploadLink({\r\n  uri: process.env.APOLLO_URL,\r\n});\r\nconst wsClient = new SubscriptionClient(process.env.WS_URL, {\r\n  reconnect: true,\r\n});\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options, next) => {\r\n    options.tokens = storage.getTokens();\r\n    next();\r\n  },\r\n};\r\n\r\nconst wsLink = new WebSocketLink(wsClient);\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst networkLink = split(\r\n  ({ query }) => {\r\n    const { kind, operation } = getMainDefinition(query);\r\n    return kind === 'OperationDefinition' && operation === 'subscription';\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst authLink = new ApolloLink((operation, forward) => {\r\n  operation.setContext({\r\n    headers: {\r\n      'x-token': storage.token.get(),\r\n      'x-refresh-token': storage.refreshToken.get(),\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\nconst tokenLink = new ApolloLink((operation, forward) => forward(operation).map((response) => {\r\n  const context = operation.getContext();\r\n\r\n  if ('response' in context) {\r\n    const { response: { headers } } = context;\r\n\r\n    if (headers) {\r\n      const token = headers.get('x-token');\r\n      const refreshToken = headers.get('x-refresh-token');\r\n\r\n      if (token && refreshToken) {\r\n        storage.setTokens(token, refreshToken);\r\n      }\r\n    }\r\n  }\r\n  return response;\r\n}));\r\n\r\nconst errorLink = onError(({ networkError = {}, graphQLErrors }) => {\r\n  if (networkError.statusCode === 401) {\r\n    storage.removeTokens();\r\n    client.writeData({ data: { sessionExpired: true } });\r\n  }\r\n  if (!isEmpty(networkError)) {\r\n    console.log(networkError);\r\n  }\r\n  if (!isEmpty(graphQLErrors)) {\r\n    console.log(graphQLErrors);\r\n  }\r\n});\r\n\r\nconst logger = new ApolloLink((operation, forward) => {\r\n  const { operationName } = operation;\r\n  console.log(`log operation: ${operationName}`, operation);\r\n  return forward(operation).map((response) => {\r\n    console.log(`log operation result ${operationName}:`, response);\r\n    return response;\r\n  });\r\n});\r\n\r\nconst link = from([\r\n  authLink,\r\n  tokenLink,\r\n  logger,\r\n  errorLink,\r\n  networkLink,\r\n]);\r\n\r\nexport default link;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/AddRounded';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst ListPanelFooter = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: ${getSpacing(1)} 0;\r\n`;\r\n\r\nconst ContactPanelFooter = ({ toggleSearchDialog }) => {\r\n  return (\r\n    <ListPanelFooter>\r\n      <Fab color=\"primary\" size=\"medium\" onClick={toggleSearchDialog}>\r\n        <AddIcon />\r\n      </Fab>\r\n    </ListPanelFooter>\r\n  );\r\n};\r\n\r\nContactPanelFooter.propTypes = {\r\n  toggleSearchDialog: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactPanelFooter;\r\n","import Notification from './Notification';\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst Wrapper = styled.div`\r\n  ${({ height, bordered }) => position('absolute', `${bordered ? `-${height}` : 0}`, 0, null, 0)}\r\n  height: ${({ height }) => height};\r\n  overflow: hidden;\r\n`;\r\n\r\nconst LinearProgressStyled = styled(LinearProgress)`\r\n  && {\r\n    height: ${({ height }) => height};\r\n  }\r\n`;\r\n\r\nconst TopProgressLine = ({ height, loading, bordered }) => (\r\n  <Wrapper height={height} bordered={bordered}>\r\n    <If condition={loading}>\r\n      <LinearProgressStyled height={height} color=\"primary\" />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nTopProgressLine.defaultProps = {\r\n  bordered: false,\r\n  height: '2px',\r\n};\r\nTopProgressLine.propTypes = {\r\n  height: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  bordered: PropTypes.bool,\r\n};\r\n\r\nexport default TopProgressLine;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport RegContainer from '../../containers/RegContainer';\r\nimport RegForm from './RegForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport { checkToken } from '../../../router/PrivateRoute';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/reg-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    activeStep: 0,\r\n    completed: false,\r\n  }\r\n\r\n  steps = [\r\n    'Create your account',\r\n    'Tell us about yourself',\r\n  ];\r\n\r\n  async componentDidMount() {\r\n    const { location: { search }, history } = this.props;\r\n    const { token } = queryString.parse(search);\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, true);\r\n\r\n        if (regStatus) {\r\n          this.setActiveStep(1);\r\n        } else {\r\n          history.push('/reg');\r\n        }\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    if (token && refreshToken) {\r\n      const { history } = this.props;\r\n\r\n      storage.setTokens(token, refreshToken);\r\n      history.push('/');\r\n    } else {\r\n      this.setState({ completed: true });\r\n    }\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message } = graphQLErrors[0];\r\n\r\n      toggleNotification(message);\r\n    }\r\n  }\r\n\r\n  setActiveStep = (step) => {\r\n    this.setState(() => ({ activeStep: step }));\r\n  }\r\n\r\n  render() {\r\n    const { activeStep, completed } = this.state;\r\n\r\n    return (\r\n      <RegContainer\r\n        signUpProps={{\r\n          onCompleted: ({ signUp }) => this.handleSuccess(signUp),\r\n        }}\r\n        signUpCompletionProps={{\r\n          onCompleted: ({ signUpCompletion }) => this.handleSuccess(signUpCompletion),\r\n        }}\r\n        signUpBySocialProps={{\r\n          onCompleted: ({ signUpBySocial }) => this.handleSuccess(signUpBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({\r\n          signUpAsyncValidationUsername,\r\n          signUpAsyncValidationEmail,\r\n          signUp,\r\n          signUpCompletion,\r\n          signUpBySocial,\r\n        }) => (\r\n          <Wrapper\r\n            ref={this.createRef}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <RegForm\r\n              steps={this.steps}\r\n              activeStep={activeStep}\r\n              completed={completed}\r\n              signUpAsyncValidationUsername={signUpAsyncValidationUsername}\r\n              signUpAsyncValidationEmail={signUpAsyncValidationEmail}\r\n              signUp={signUp}\r\n              signUpCompletion={signUpCompletion}\r\n              signUpBySocial={signUpBySocial}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </RegContainer>\r\n    );\r\n  }\r\n}\r\n\r\nSignUp.propTypes = {\r\n  location: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  toggleNotification: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withNotification(SignUp);\r\n","// import {} from 'lodash';\r\n\r\nconst createTokenMethods = name => ({\r\n  name,\r\n  set(token) {\r\n    localStorage.setItem(this.name, token);\r\n  },\r\n  get() {\r\n    return localStorage.getItem(this.name) || '';\r\n  },\r\n  remove() {\r\n    localStorage.removeItem(this.name);\r\n  },\r\n});\r\n\r\nexport default {\r\n  token: createTokenMethods('chatkilla_tkn'),\r\n  refreshToken: createTokenMethods('chatkilla_rfrsh_tkn'),\r\n  setTokens(token, refreshToken) {\r\n    this.token.set(token);\r\n    this.refreshToken.set(refreshToken);\r\n  },\r\n  getTokens() {\r\n    const token = this.token.get();\r\n    const refreshToken = this.refreshToken.get();\r\n\r\n    return { token, refreshToken };\r\n  },\r\n  removeTokens() {\r\n    this.token.remove();\r\n    this.refreshToken.remove();\r\n  },\r\n};\r\n","import gql from 'graphql-tag';\r\n\r\nexport const authPayloadFragment = gql`\r\n  fragment tokens on AuthPayload {\r\n    token\r\n    refreshToken\r\n  }\r\n`;\r\n\r\nexport const myFragment = gql`\r\n  fragment myData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n  }\r\n`;\r\n\r\nexport const userInfoFragment = gql`\r\n  fragment userInfoData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n    lastDate\r\n  }\r\n`;\r\n\r\nexport const myContactFragment = gql`\r\n  fragment myContactData on MyContact {\r\n    id\r\n    chatId\r\n    userInfo {\r\n      ...userInfoData\r\n    }\r\n  }\r\n  ${userInfoFragment}\r\n`;\r\n\r\nexport const messageFragment = gql`\r\n  fragment messageData on ChatMessage {\r\n    id\r\n    senderId\r\n    type\r\n    content\r\n    time\r\n    edited\r\n    seen\r\n  }\r\n`;\r\n\r\nexport const myChatFragment = gql`\r\n  fragment myChatData on Chat {\r\n    id\r\n    messages {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const myContactActivityFragment = gql`\r\n  fragment contactActivity on MyContact {\r\n    userInfo {\r\n      id\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport importedComponent from 'react-imported-component';\r\n\r\nimport Login from '../components/pages/Login/Login';\r\nimport Reg from '../components/pages/Reg/Reg';\r\nimport Chats from '../components/pages/Chats/Chats';\r\nimport NotFound from '../components/common/NotFound';\r\nimport PageLoader from '../components/common/PageLoader';\r\n\r\nimport AppRoute from './AppRoute';\r\n\r\nconst LoginLayout = importedComponent(() => import('../components/layouts/LoginLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst AppLayout = importedComponent(() => import('../components/layouts/AppLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst NotFoundLayout = importedComponent(() => import('../components/layouts/NotFoundLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <AppRoute path=\"/login\" layout={LoginLayout} component={Login} />\r\n    <AppRoute path=\"/reg\" layout={LoginLayout} component={Reg} />\r\n    <AppRoute exact path=\"/\" component={Redirect} to=\"/chats\" redirect />\r\n    <AppRoute path=\"/chats\" layout={AppLayout} component={Chats} privateRoute />\r\n    <AppRoute path=\"*\" layout={NotFoundLayout} component={NotFound} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React, { forwardRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport MaterialListItem from '@material-ui/core/ListItem';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport blue from '@material-ui/core/colors/blue';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\nimport { messageTimeParser, messageHistoryDateParser } from '../../../../helpers';\r\n\r\nconst ListItem = styled(MaterialListItem)`\r\n  && {\r\n    padding-top: ${getSpacing(1)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: ${({ alignItems }) => alignItems};\r\n`;\r\n\r\nconst HistoryDivider = styled.div`\r\n  width: 100%;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: ${getSpacing(1)} 0;\r\n\r\n  p {\r\n    height: 1px;\r\n    flex: 1 auto;\r\n    display: inline-flex;\r\n    background-color: ${grey[500]};\r\n    border-radius: 2px;\r\n  }\r\n\r\n  span {\r\n  padding: 0 ${getSpacing(2)};\r\n    color: ${grey[500]};\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  max-width: 49%;\r\n  padding: ${getSpacing(1)};\r\n  ${({ isMyMessage }) => ({\r\n    [`border-bottom-${isMyMessage ? 'left' : 'right'}-radius`]: 0,\r\n  })};\r\n  background-color: ${({ isMyMessage }) => (isMyMessage ? grey[100] : blue[100])};\r\n  border-radius: 5px;\r\n  opacity: ${({ isAdding }) => (isAdding ? 0.3 : 1)};\r\n  word-break: break-all;\r\n  ${getStyledProps('theme.typography.body2')};\r\n\r\n  &:hover {\r\n    cursor: text;\r\n  }\r\n`;\r\n\r\nconst SystemMessage = styled.div`\r\n  padding: ${getSpacing(1)};\r\n  color: ${grey[500]};\r\n  background-color: ${grey[100]};\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n\r\n  span {\r\n  ${getStyledProps('theme.typography.caption')};\r\n  color: ${getStyledProps('theme.palette.text.secondary')};\r\n  }\r\n`;\r\n\r\nconst Message = forwardRef((props, ref) => {\r\n  const {\r\n    rowIndex,\r\n    alignItems,\r\n    isFirst,\r\n    isSystem,\r\n    isMyMessage,\r\n    isAdding,\r\n    divider,\r\n    time,\r\n    content,\r\n  } = props;\r\n\r\n  return (\r\n    <ListItem ref={ref} row-index={rowIndex}>\r\n      <Wrapper alignItems={alignItems}>\r\n        <If condition={isFirst || divider}>\r\n          <HistoryDivider>\r\n            <p />\r\n            <span>{messageHistoryDateParser(time)}</span>\r\n            <p />\r\n          </HistoryDivider>\r\n        </If>\r\n        <Choose>\r\n          <When condition={isSystem}>\r\n            <SystemMessage>\r\n              <p>{content}</p>\r\n            </SystemMessage>\r\n          </When>\r\n          <Otherwise>\r\n            <Content\r\n              isMyMessage={isMyMessage}\r\n              isAdding={isAdding}\r\n            >\r\n              {content}\r\n            </Content>\r\n            <Time>\r\n              <span>{messageTimeParser(time, 'wide')}</span>\r\n            </Time>\r\n          </Otherwise>\r\n        </Choose>\r\n      </Wrapper>\r\n    </ListItem>\r\n  );\r\n});\r\n\r\nMessage.propTypes = {\r\n  rowIndex: PropTypes.number.isRequired,\r\n  alignItems: PropTypes.string.isRequired,\r\n  isFirst: PropTypes.bool.isRequired,\r\n  isSystem: PropTypes.bool.isRequired,\r\n  isMyMessage: PropTypes.bool.isRequired,\r\n  isAdding: PropTypes.bool.isRequired,\r\n  divider: PropTypes.bool.isRequired,\r\n  time: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]).isRequired,\r\n  content: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst NotificationClose = ({ toggle }) => (\r\n  <IconButton\r\n    key=\"close\"\r\n    aria-label=\"Close\"\r\n    color=\"inherit\"\r\n    onClick={toggle}\r\n  >\r\n    <CloseIcon />\r\n  </IconButton>\r\n);\r\n\r\nNotificationClose.propTypes = {\r\n  toggle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default NotificationClose;\r\n","import React, { Fragment } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from 'styled-components';\r\n\r\nimport AppProvider from './context/AppProvider';\r\nimport Router from '../router';\r\nimport { GlobalStyle, theme } from '../styles';\r\n\r\nconst App = () => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ThemeProvider theme={theme}>\r\n        <AppProvider>\r\n          <Fragment>\r\n            <GlobalStyle />\r\n            <Router />\r\n          </Fragment>\r\n        </AppProvider>\r\n      </ThemeProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default hot(module)(App);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport RegFormStepper from './RegFormStepper';\r\n\r\nimport TopProgressLine from '../../common/TopProgressLine';\r\n\r\nimport { getSpacing } from '../../../styles';\r\nimport { mutationProps } from '../../propTypes';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    position: relative;\r\n    padding: ${getSpacing(4)} ${getSpacing(3)};\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst Info = styled(Typography)`\r\n  && {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst Footer = styled(Typography)`\r\n  && {\r\n    width: 100%;\r\n    margin-top: ${getSpacing(2)};\r\n  }\r\n`;\r\n\r\nconst SignUp = ({\r\n  steps,\r\n  activeStep,\r\n  completed,\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <TopProgressLine loading={signUp.result.loading || signUpCompletion.result.loading} />\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <RegFormStepper activeStep={activeStep} steps={steps} />\r\n      </Header>\r\n      <Choose>\r\n        <When condition={completed}>\r\n          <Info>\r\n            {'Your account had been successfuly completed.Check your email and confirm registration.'}\r\n          </Info>\r\n        </When>\r\n        <When condition={activeStep === 0}>\r\n          <Form\r\n            {...formConfig('signUpStepOne')}\r\n            mutation={signUp.mutation}\r\n            result={signUp.result}\r\n            submitButtonText=\"Confirm\"\r\n            asyncValidationFields={[{\r\n              name: 'username',\r\n              validation: signUpAsyncValidationUsername,\r\n            }, {\r\n              name: 'email',\r\n              validation: signUpAsyncValidationEmail,\r\n            }]}\r\n          />\r\n          <SocialMedia\r\n            mutation={signUpBySocial.mutation}\r\n            result={signUpBySocial.result}\r\n            note=\"Sign Up with social media:\"\r\n          />\r\n        </When>\r\n        <When condition={activeStep === 1}>\r\n          <Form\r\n            {...formConfig('signUpStepTwo')}\r\n            mutation={signUpCompletion.mutation}\r\n            result={signUpCompletion.result}\r\n            submitButtonText=\"Confirm\"\r\n          />\r\n        </When>\r\n        <Otherwise>\r\n          {null}\r\n        </Otherwise>\r\n      </Choose>\r\n      <Footer align=\"center\">\r\n        <Link to=\"/login\">I already have a account</Link>\r\n      </Footer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nSignUp.propTypes = {\r\n  steps: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  activeStep: PropTypes.number.isRequired,\r\n  completed: PropTypes.bool.isRequired,\r\n  signUpAsyncValidationUsername: PropTypes.shape(mutationProps).isRequired,\r\n  signUpAsyncValidationEmail: PropTypes.shape(mutationProps).isRequired,\r\n  signUp: PropTypes.shape(mutationProps).isRequired,\r\n  signUpCompletion: PropTypes.shape(mutationProps).isRequired,\r\n  signUpBySocial: PropTypes.shape(mutationProps).isRequired,\r\n};\r\n\r\nexport default SignUp;\r\n","import { ApolloClient } from 'apollo-client';\r\n\r\nimport link from './link';\r\nimport cache, { initData } from './cache';\r\nimport resolvers from './resolvers';\r\n\r\nconst client = new ApolloClient({\r\n  link,\r\n  cache,\r\n  resolvers,\r\n  credentials: 'include',\r\n  assumeImmutableResults: true,\r\n});\r\n\r\nclient.onResetStore(initData);\r\n\r\nexport default client;\r\n","import Contacts from './Contacts';\r\n\r\nexport default Contacts;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfiedRounded';\r\n\r\nconst Wrapper = styled.div`\r\n  ${size('100%')}\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n`;\r\n\r\nconst ContentIcon = styled.div`\r\n  width: 100%;\r\n  font-size: 7em;\r\n`;\r\n\r\nconst NotFound = () => (\r\n  <Wrapper>\r\n    <Content>\r\n      <ContentIcon>\r\n        <SentimentDissatisfiedIcon color=\"primary\" fontSize=\"inherit\" />\r\n      </ContentIcon>\r\n      <Typography variant=\"h4\">\r\n        Sorry, but page not found...\r\n      </Typography>\r\n    </Content>\r\n  </Wrapper>\r\n);\r\n\r\nexport default NotFound;\r\n","import React, { PureComponent, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport MaterialDialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport SearchDialogContainer from '../../../containers/SearchDialogContainer';\r\nimport SearchBox from '../../../common/SearchBox';\r\nimport SearchDialogList from './SearchDialogList';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst SubTitle = styled(Typography)`\r\n  && {\r\n    padding: 0 ${getSpacing(3)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst DialogContent = styled(MaterialDialogContent)`\r\n  && {\r\n    height: 300px;\r\n    display: flex;\r\n    flex-flow: column;\r\n  }\r\n`;\r\n\r\nclass SearchDialog extends PureComponent {\r\n  state = {\r\n    searchValue: '',\r\n    confirmDialog: false,\r\n    selectedUser: {},\r\n  }\r\n\r\n  onChangeSearchValue = (value, refetch) => {\r\n    this.setState(\r\n      () => ({ searchValue: value }),\r\n      () => {\r\n        refetch();\r\n      },\r\n    );\r\n  }\r\n\r\n  openConfirmDialog = (user = {}) => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n      selectedUser: user,\r\n    }));\r\n  }\r\n\r\n  closeConfirmDialog = () => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { searchValue, confirmDialog, selectedUser } = this.state;\r\n    const { open, toggle } = this.props;\r\n\r\n    return (\r\n      <SearchDialogContainer\r\n        searchUsersProps={{\r\n          variables: { searchValue },\r\n          skip: !searchValue,\r\n        }}\r\n      >\r\n        {({\r\n          searchUsers: { loading, data, refetch },\r\n          createChat: { mutation: createChat, result: { loading: adding } },\r\n          getMyContacts: { data: { myContacts } },\r\n        }) => {\r\n          return (\r\n            <Fragment>\r\n              <Dialog open={open} onClose={toggle} scroll=\"body\">\r\n                <DialogTitle>\r\n                  Search contact\r\n                </DialogTitle>\r\n                <SubTitle variant=\"subtitle2\">\r\n                  Search contact by name or use &quot;@&quot; as a first character for searching by username.\r\n                </SubTitle>\r\n                <DialogContent>\r\n                  <SearchBox\r\n                    value={searchValue}\r\n                    onChange={value => this.onChangeSearchValue(value, refetch)}\r\n                    autoFocus\r\n                  />\r\n                  <SearchDialogList\r\n                    loading={loading}\r\n                    data={data && data.searchUsers}\r\n                    myContacts={myContacts}\r\n                    adding={adding}\r\n                    selectedUserId={selectedUser.id}\r\n                    openConfirmDialog={this.openConfirmDialog}\r\n                  />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button onClick={toggle} color=\"primary\">Close</Button>\r\n                </DialogActions>\r\n              </Dialog>\r\n              <If condition={confirmDialog}>\r\n                <Dialog open={confirmDialog} onClose={toggle}>\r\n                  <DialogTitle>{`Create chat with ${selectedUser.displayName}?`}</DialogTitle>\r\n                  <DialogActions>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      onClick={this.closeConfirmDialog}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        createChat({ variables: { userId: selectedUser.id } });\r\n                        this.closeConfirmDialog();\r\n                      }}\r\n                    >\r\n                      Confirm\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </If>\r\n            </Fragment>\r\n          );\r\n        }}\r\n      </SearchDialogContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDialog;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport registerSW from './registerSW';\r\n\r\nimport App from './components/App';\r\n\r\nimport apollo from './apollo';\r\nimport history from './router/history';\r\n\r\nconst renderApp = (Component) => {\r\n  render(\r\n    <ApolloProvider client={apollo}>\r\n      <Router history={history}>\r\n        <Component />\r\n      </Router>\r\n    </ApolloProvider>, document.getElementById('root'),\r\n  );\r\n};\r\n\r\nrenderApp(App);\r\nregisterSW();\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\n// import { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AvatarIndicator = styled.span`\r\n  ${position('absolute', null, '2px', '2px', null)};\r\n  ${size('10px')};\r\n  display: block;\r\n  background-color: ${green[500]};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ListItemAvatar = ({\r\n  online,\r\n  src,\r\n  alt,\r\n  text,\r\n}) => (\r\n  <Wrapper>\r\n    <Choose>\r\n      <When condition={src}>\r\n        <Avatar src={src} alt={alt || text} />\r\n      </When>\r\n      <Otherwise>\r\n        <Avatar>{text}</Avatar>\r\n      </Otherwise>\r\n    </Choose>\r\n    <If condition={online}>\r\n      <AvatarIndicator />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nListItemAvatar.defaultProps = {\r\n  online: false,\r\n  src: '',\r\n  alt: '',\r\n  text: '',\r\n};\r\nListItemAvatar.propTypes = {\r\n  online: PropTypes.bool,\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  text: PropTypes.string,\r\n};\r\n\r\nexport default ListItemAvatar;\r\n","import List, { NoContentWrapper } from './List';\r\n\r\nexport {\r\n  NoContentWrapper,\r\n};\r\n\r\nexport default List;\r\n","import { transform, forEach, set } from 'lodash';\r\nimport * as yup from 'yup';\r\n\r\nexport const formFields = {\r\n  signIn: [{\r\n    name: 'username',\r\n    label: 'User Name / Email Address',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepOne: [{\r\n    name: 'username',\r\n    label: 'User Name',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'email',\r\n    label: 'Email Address',\r\n    type: 'email',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepTwo: [{\r\n    name: 'firstName',\r\n    label: 'First Name',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'lastName',\r\n    label: 'Last name',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'gender',\r\n    label: 'Gender',\r\n    type: 'radio',\r\n    autoComplete: 'off',\r\n    required: true,\r\n    initialValue: 'Male',\r\n    values: ['Male', 'Female', 'Other'],\r\n  }, {\r\n    name: 'birthday',\r\n    label: 'Birthday',\r\n    type: 'date',\r\n    autoComplete: 'off',\r\n    required: false,\r\n    initialValue: '',\r\n  }],\r\n};\r\n\r\nexport const formValidationSchemas = {\r\n  signIn: yup.object().shape(transform(formFields.signIn, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepOne: yup.object().shape(transform(formFields.signUpStepOne, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'email': {\r\n        res[name] = yup.string().email().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepTwo: yup.object().shape(transform(formFields.signUpStepTwo, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'firstName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'lastName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'gender': {\r\n        res[name] = yup.string();\r\n        break;\r\n      }\r\n      case 'birthday': {\r\n        res[name] = yup.date().typeError('');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n};\r\n\r\nexport const formInitialValues = transform(formFields, (res, values, formName) => {\r\n  res[formName] = {};\r\n\r\n  forEach(values, ({ name, initialValue }) => {\r\n    set(res[formName], name, initialValue);\r\n  });\r\n}, {});\r\n\r\n\r\nexport default formId => ({\r\n  fields: formFields[formId],\r\n  validationSchema: formValidationSchemas[formId],\r\n  initialValues: formInitialValues[formId],\r\n});\r\n","import SearchDialog from './SearchDialog';\r\n\r\nexport default SearchDialog;\r\n","import { upperCase, isEmpty } from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport icqBeep from '../assets/audio/icqBeep';\r\n\r\nexport const getAvatar = (user = {}, size = 'sm') => {\r\n  let src = '';\r\n  let text = '';\r\n\r\n  if (!isEmpty(user)) {\r\n    const { avatar, firstName, lastName } = user;\r\n    let firstLater = '';\r\n    let lastLater = '';\r\n\r\n    if (avatar && avatar[size]) {\r\n      src = avatar[size];\r\n    }\r\n\r\n    if (firstName) {\r\n      firstLater = upperCase(firstName[0]);\r\n    }\r\n    if (lastName) {\r\n      lastLater = upperCase(lastName[0]);\r\n    }\r\n    text = `${firstLater}${lastLater}`;\r\n  }\r\n\r\n  return {\r\n    src,\r\n    text,\r\n  };\r\n};\r\n\r\nexport const historyDateParser = date => moment(date).format('dddd, MMMM D, YYYY');\r\n\r\nconst shortMessageTimeParser = date => moment(date).calendar(null, {\r\n  sameDay: 'HH:mm',\r\n  lastDay: 'ddd',\r\n  lastWeek: 'ddd',\r\n  sameElse: 'DD/MM/YY',\r\n});\r\n\r\nexport const messageTimeParser = (time, variant = 'short') => {\r\n  if (variant === 'wide') {\r\n    return moment(time).format('HH:mm:ss');\r\n  }\r\n  return shortMessageTimeParser(time);\r\n};\r\n\r\nexport const userLastDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[today at] HH:mm',\r\n  lastDay: '[yesterday at] HH:mm',\r\n  lastWeek: '[last] dddd [at] HH:mm',\r\n  sameElse: 'DD/MM/YYYY',\r\n});\r\n\r\nconst messageHistoryDateFormat = 'dddd, MMMM D, YYYY';\r\n\r\nexport const messageHistoryDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[Today]',\r\n  lastDay: '[Yesterday]',\r\n  lastWeek: messageHistoryDateFormat,\r\n  sameElse: messageHistoryDateFormat,\r\n});\r\n\r\nexport const isSameDay = (date, referenceDate) => {\r\n  const a = moment(date);\r\n  const b = moment(referenceDate);\r\n  const diff = a.isSame(b, 'days');\r\n\r\n  return diff;\r\n};\r\n\r\nexport const icqBeepPlay = () => icqBeep.play();\r\n"],"sourceRoot":""}