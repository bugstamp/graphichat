{"version":3,"sources":["webpack:///./src/actions/storage.js","webpack:///./src/styles/index.js","webpack:///./src/assets/images/reg-bg.jpg","webpack:///./src/assets/images/login-bg.jpg","webpack:///./src/components/common/Home.js","webpack:///./src/apollo/utils.js","webpack:///./src/actions/authActions.js","webpack:///./src/components/smart/LoginContainer.js","webpack:///./src/components/common/Form/FormInput.js","webpack:///./src/components/common/Form/FormInputPassword.js","webpack:///./src/components/common/Form/FormInputRadio.js","webpack:///./src/components/common/Form/AsyncFormInput.js","webpack:///./src/components/common/Form/FormSubmit.js","webpack:///./src/components/common/Form/Form.js","webpack:///./src/components/common/Form/formConfig.js","webpack:///./src/components/common/SocialMedia/SocialButton.js","webpack:///./src/components/common/SocialMedia/Social.js","webpack:///./src/components/common/SocialMedia/Facebook.js","webpack:///./src/components/common/SocialMedia/Google.js","webpack:///./src/components/common/SocialMedia/SocialMedia.js","webpack:///./src/components/dumb/Login/LoginForm.js","webpack:///./src/components/common/Notification.js","webpack:///./src/components/common/HOC/withNotification.js","webpack:///./src/components/dumb/Login/Login.js","webpack:///./src/components/smart/RegContainer.js","webpack:///./src/components/dumb/Reg/RegFormStepper.js","webpack:///./src/components/dumb/Reg/RegForm.js","webpack:///./src/router/PrivateRoute.js","webpack:///./src/components/dumb/Reg/Reg.js","webpack:///./src/components/ui/PageLoader.js","webpack:///./src/router/AppRoute.js","webpack:///./src/router/index.js","webpack:///./src/components/App.js","webpack:///./src/index.js","webpack:///./src/apollo/link.js","webpack:///./src/apollo/index.js"],"names":["createTokenMethods","name","set","token","localStorage","setItem","this","get","getItem","remove","removeItem","__webpack_exports__","refreshToken","setTokens","getTokens","removeTokens","getStyledProps","path","props","lodash_get__WEBPACK_IMPORTED_MODULE_1___default","getPadding","num","arguments","length","undefined","defaultPadding","concat","theme","createMuiTheme","typography","useNextVariants","GlobalStyle","createGlobalStyle","_templateObject","reset","size","module","exports","__webpack_require__","p","Wrapper","styled","div","withConfig","displayName","componentId","GET_ME","gql","Home","Component","react_default","a","createElement","react_apollo_browser_umd","query","_ref","loading","error","data","console","log","getMe","createMutation","gqlMutation","mutationProps","containerProps","mutationContainerPropsKey","mutationContainerProps","has_default","get_default","render","_extends","mutation","result","SIGN_IN","authActions_templateObject","SIGN_IN_BY_SOCIAL","_templateObject2","SIGN_UP_ASYNC_VALIDATION","_templateObject3","SIGN_UP","_templateObject4","SIGN_UP_COMPLETION","_templateObject5","SIGN_UP_BY_SOCIAL","_templateObject6","signIn","signInBySocial","LoginContainer","adopt","InputWrapper","FormControl","InputError","FormHelperText","position","FormInput","type","label","placeholder","required","autoComplete","isError","validate","validateField","onChange","onBlur","rest","_objectWithoutProperties","formik_esm","value","_ref2","field","fullWidth","InputLabel_default","shrink","htmlFor","Input_default","FormInput_extends","id","event","inputProps","onKeyDown","_ref3","key","target","blur","FormInputPassword","showPassword","_this","setState","PureComponent","state","_this$props","FormInputPassword_objectWithoutProperties","validType","Form_FormInput","FormInputPassword_extends","endAdornment","InputAdornment_default","IconButton_default","onClick","toggleShowPassword","VisibilityRounded_default","VisibilityOffRounded_default","RadioFormControlStyled","RadioGroupStyled","RadioGroup","FormInputRadio","values","initialValue","variant","FormInputRadio_extends","map_default","FormControlLabel_default","control","Radio_default","AsyncFormInput","asyncValid","valid","prevProps","_this$props$result","setAsyncValid","AsyncFormInput_objectWithoutProperties","AsyncFormInput_extends","CircularProgress_default","CheckRounded_default","color","SubmitButton","Button","FormSubmit","text","disabled","FormWrapper","form","Form","_callee","validationSchema","asyncValidationFields","asyncValidationField","validation","graphQLErrors","regeneratorRuntime","wrap","_context","prev","next","find_default","yup","variables","t0","message","stop","_this$props2","setFieldError","_graphQLErrors$","invalidField","_this2","_this$props3","fields","errors","touched","handleChange","handleBlur","handleSubmit","submitButtonText","onSubmit","Form_objectWithoutProperties","Form_AsyncFormInput","Form_extends","Form_FormInputPassword","Form_FormInputRadio","Form_FormSubmit","withFormik","mapPropsToValues","initialValues","_ref4","validateOnChange","validateOnBlur","formFields","signUpStepOne","signUpStepTwo","formValidationSchemas","shape","transform_default","res","min","max","email","typeError","formInitialValues","formName","forEach_default","set_default","formConfig","formId","Fab","SocialButton","icon","SocialButton_Button","component","react_fontawesome_index_es","SocialWrapper","rgba","Social","social","children","Facebook","SocialMedia_Social","blue","facebook_login_render_props_default","appId","process","callback","userID","firstName","first_name","lastName","last_name","profile","SocialMedia_SocialButton","faFacebook","Google","red","google_login_default","scope","clientId","onSuccess","_ref2$profileObj","profileObj","googleId","givenName","familyName","faGoogle","SocialMediaWrapper","SocialMediaNote","SocialMedia","note","SocialMedia_Facebook","SocialMedia_Google","Paper","Header","Typography","SignUpButton","LoginForm","toSignUp","LoginForm_Wrapper","elevation","align","gutterBottom","AccountCircleRounded_default","fontSize","common_Form_Form","LoginForm_extends","common_SocialMedia_SocialMedia","NotificationMessageIcon","Error_default","Warning_default","NotificationMessageWrapper","NotificationContentWrapper","SnackbarContent","amber","NotificationMessage","Notification_NotificationMessageIcon","NotificationClose","toggle","aria-label","Close_default","NotificationContent","aria-describedby","Notification_NotificationMessage","action","Notification_NotificationClose","Notification","_ref5","open","Notification_objectWithoutProperties","Snackbar_default","Notification_extends","onClose","reason","anchorOrigin","horizontal","vertical","autoHideDuration","TransitionProps","direction","Notification_NotificationContent","withNotification","WrappedComponent","_Component","_temp","_getPrototypeOf2","withNotification_classCallCheck","_len","args","Array","_key","withNotification_getPrototypeOf","call","apply","withNotification_defineProperty","withNotification_assertThisInitialized","updatedState","withNotification_inherits","react","withNotification_extends","toggleNotification","common_Notification","Grid","backgrounds","bgImage","history","storage","push","e","smart_LoginContainer","signInProps","onCompleted","handleSuccess","onError","handleError","signInBySocialProps","Login_Wrapper","justify","alignItems","container","Login_LoginForm","signUpAsyncValidationUsername","signUpAsyncValidationEmail","signUp","signUpCompletion","signUpBySocial","RegContainer","StepLabelStyled","StepLabel","RegFormStepper","activeStep","steps","Stepper_default","alternativeLabel","index","isActive","isCompleted","iconColor","step","Step_default","active","completed","CheckCircleRounded_default","InfoRounded_default","SignUp","RegForm_Wrapper","RegForm_Header","Reg_RegFormStepper","RegForm_extends","checkToken","PrivateRoute_asyncToGenerator","mark","regStatus","_args","Error","jwt","verify","sent","abrupt","_x","PrivateRoute","auth","status","_this$state","regRedirect","Redirect","to","propTypes","PropTypes","oneOfType","element","node","isRequired","search","location","queryString","parse","setActiveStep","smart_RegContainer","signUpProps","signUpCompletionProps","signUpBySocialProps","Reg_Wrapper","ref","createRef","RegForm","PageLoader","PageLoader_Wrapper","AppRoute","Layout","layout","privateRoute","AppRoute_objectWithoutProperties","Route","AppRoute_extends","router_PrivateRoute","defaultProps","func","bool","LoginLayout","Loadable","loader","then","bind","ChatLayout","Routes","Switch","router_AppRoute","exact","Login","Reg","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_hot_loader__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","_router__WEBPACK_IMPORTED_MODULE_4__","_styles__WEBPACK_IMPORTED_MODULE_5__","hot","httpLink","createHttpLink","uri","authLink","ApolloLink","operation","forward","setContext","headers","x-token","x-refresh-token","tokenLink","map","response","getContext","logger","operationName","link","from","client","ApolloClient","credentials","cache","InMemoryCache","App","apollo","BrowserRouter","document","getElementById"],"mappings":"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","file":"app.cad43b31b60ec839ae28.js","sourcesContent":["// import {} from 'lodash';\r\n\r\nconst createTokenMethods = name => ({\r\n  name,\r\n  set(token) {\r\n    localStorage.setItem(this.name, token);\r\n  },\r\n  get() {\r\n    return localStorage.getItem(this.name) || null;\r\n  },\r\n  remove() {\r\n    localStorage.removeItem(this.name);\r\n  },\r\n});\r\n\r\nexport default {\r\n  token: createTokenMethods('chatkilla_tkn'),\r\n  refreshToken: createTokenMethods('chatkilla_rfrsh_tkn'),\r\n  setTokens(token, refreshToken) {\r\n    this.token.set(token);\r\n    this.refreshToken.set(refreshToken);\r\n  },\r\n  getTokens() {\r\n    const token = this.token.get();\r\n    const refreshToken = this.refreshToken.get();\r\n\r\n    return { token, refreshToken };\r\n  },\r\n  removeTokens() {\r\n    this.token.remove();\r\n    this.refreshToken.remove();\r\n  },\r\n};\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport reset from 'styled-reset';\r\nimport { size } from 'polished';\r\nimport { get } from 'lodash';\r\n\r\nexport const getStyledProps = path => props => get(props, path);\r\nexport const getPadding = (num = 1) => (props) => {\r\n  const defaultPadding = getStyledProps('theme.spacing.unit')(props);\r\n  const padding = defaultPadding * num;\r\n\r\n  return `${padding}px`;\r\n};\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  ${reset}\r\n\r\n  html,\r\n  body {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    min-height: 100%;\r\n    font-family: ${getStyledProps('theme.typography.fontFamily')};\r\n    font-size: ${getStyledProps('theme.typography.fontSize')}px;\r\n    font-weight: ${getStyledProps('theme.typography.fontWeightRegular')};\r\n    color: #000;\r\n    background-color: #fff;\r\n    overflow-y: auto;\r\n\r\n    #root {\r\n      ${size('inherit')};\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n","module.exports = __webpack_public_path__ + \"assets/images/reg-bg.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/login-bg.jpg\";","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { Query } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\n\r\nconst Wrapper = styled.div`\r\n  flex: 1 auto;\r\n`;\r\n\r\nconst GET_ME = gql`\r\n  query GetMe {\r\n    getMe {\r\n      username\r\n      email\r\n      displayName\r\n      firstName\r\n      lastName\r\n      birthday\r\n      gender\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n\r\nclass Home extends Component {\r\n  state = {}\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <Query query={GET_ME}>\r\n          {({ loading, error, data }) => {\r\n            if (loading) return 'Loading...';\r\n            if (error) {\r\n              return 'Error...';\r\n            }\r\n            console.log(data.getMe);\r\n\r\n            return 'Home';\r\n          }}\r\n        </Query>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { get, has } from 'lodash';\r\n\r\nexport const createMutation = (name, gqlMutation, mutationProps = {}) => (containerProps) => {\r\n  const mutationContainerPropsKey = `${name}Props`;\r\n  const mutationContainerProps = has(containerProps, mutationContainerPropsKey)\r\n    ? get(containerProps, mutationContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Mutation\r\n      mutation={gqlMutation}\r\n      {...mutationProps}\r\n      {...mutationContainerProps}\r\n    >\r\n      {(mutation, result) => render({\r\n        mutation,\r\n        result,\r\n        name,\r\n      })}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\n// export const createQuery = (name, gqlQuery, queryProps = {}) => (containerProps) => {\r\n//   const queryContainerPropsKey = `${name}Props`;\r\n//\r\n//   return (\r\n//     <Query\r\n//       query={queryProps}\r\n//     />\r\n//   );\r\n// };\r\n","import gql from 'graphql-tag';\r\n\r\nexport const SIGN_IN = gql`\r\n  mutation SignIn($form: SignInForm!) {\r\n    signIn(form: $form) {\r\n      token\r\n      refreshToken\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SIGN_IN_BY_SOCIAL = gql`\r\n  mutation SignInBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signInBySocial(social: $social, profile: $profile) {\r\n      token\r\n      refreshToken\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SIGN_UP_ASYNC_VALIDATION = gql`\r\n  mutation SignUpAsyncValidation($field: String!, $value: String!) {\r\n    signUpAsyncValidation(field: $field, value: $value) {\r\n      field\r\n      valid\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SIGN_UP = gql`\r\n  mutation SignUp($form: SignUpForm!) {\r\n    signUp(form: $form)\r\n  }\r\n`;\r\n\r\nexport const SIGN_UP_COMPLETION = gql`\r\n  mutation SignUpCompletion($form: SignUpCompletionForm!) {\r\n    signUpCompletion(form: $form) {\r\n      token\r\n      refreshToken\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SIGN_UP_BY_SOCIAL = gql`\r\n  mutation SignUpBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signUpBySocial(social: $social, profile: $profile) {\r\n      token\r\n      refreshToken\r\n    }\r\n  }\r\n`;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation } from '../../apollo/utils';\r\nimport { SIGN_IN, SIGN_IN_BY_SOCIAL } from '../../actions/authActions';\r\n\r\nconst signIn = createMutation('signIn', SIGN_IN);\r\nconst signInBySocial = createMutation('signInBySocial', SIGN_IN_BY_SOCIAL);\r\n\r\nconst LoginContainer = adopt({\r\n  signIn,\r\n  signInBySocial,\r\n});\r\n\r\nexport default LoginContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport { isEmpty } from 'lodash';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst InputWrapper = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    padding-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst InputError = styled(FormHelperText)`\r\n  && {\r\n    ${position('absolute', null, 0, '0.5em', 0)}\r\n  }\r\n`;\r\n\r\nconst FormInput = ({\r\n  name,\r\n  type,\r\n  label,\r\n  placeholder,\r\n  required,\r\n  autoComplete,\r\n  error,\r\n  isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  onBlur,\r\n  ...rest,\r\n}) => {\r\n  return (\r\n    <Field name={name} validate={value => validate(value, name)}>\r\n      {({ field }) => (\r\n        <InputWrapper fullWidth>\r\n          <InputLabel shrink={type === 'date' || undefined} htmlFor={name}>{label}</InputLabel>\r\n          <Input\r\n            {...field}\r\n            id={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            required={required}\r\n            autoComplete={autoComplete}\r\n            error={isError}\r\n            onChange={onChange}\r\n            onBlur={(event) => {\r\n              validateField(name);\r\n\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            inputProps={{\r\n              onKeyDown: ({ key, target }) => {\r\n                if (key === 'Escape') {\r\n                  target.blur();\r\n                }\r\n              },\r\n            }}\r\n            {...rest}\r\n          />\r\n          <InputError error={isError}>{error}</InputError>\r\n        </InputWrapper>\r\n      )}\r\n    </Field>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VisibilityIcon from '@material-ui/icons/VisibilityRounded';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOffRounded';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass FormInputPassword extends PureComponent {\r\n  state = {\r\n    showPassword: false,\r\n  }\r\n\r\n  toggleShowPassword = () => {\r\n    this.setState(({ showPassword }) => ({ showPassword: !showPassword }));\r\n  }\r\n\r\n  render() {\r\n    const { showPassword } = this.state;\r\n    const { type, ...rest } = this.props;\r\n    const validType = showPassword ? 'text' : type;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        type={validType}\r\n        endAdornment={(\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={this.toggleShowPassword}>\r\n              <Choose>\r\n                <When condition={showPassword}>\r\n                  <VisibilityIcon />\r\n                </When>\r\n                <Otherwise>\r\n                  <VisibilityOffIcon />\r\n                </Otherwise>\r\n              </Choose>\r\n            </IconButton>\r\n          </InputAdornment>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormInputPassword;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n// import { position } from 'polished';\r\n\r\nconst RadioFormControlStyled = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    margin-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst RadioGroupStyled = styled(RadioGroup)`\r\n  && {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst FormInputRadio = ({\r\n  name,\r\n  // type,\r\n  label,\r\n  values,\r\n  initialValue,\r\n  // placeholder,\r\n  // required,\r\n  // autoComplete,\r\n  // error,\r\n  // isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  // onBlur,\r\n  // ...rest,\r\n}) => (\r\n  <Field name={name} validate={value => validate(value, name)}>\r\n    {({ field }) => (\r\n      <RadioFormControlStyled variant=\"standard\" fullWidth>\r\n        <InputLabel shrink>{label}</InputLabel>\r\n        <RadioGroupStyled\r\n          {...field}\r\n          name={name}\r\n          onChange={(event) => {\r\n            validateField(name);\r\n\r\n            onChange(event);\r\n          }}\r\n        >\r\n          {map(values, value => (\r\n            <FormControlLabel\r\n              key={value}\r\n              value={value}\r\n              control={<Radio />}\r\n              label={value}\r\n            />\r\n          ))}\r\n        </RadioGroupStyled>\r\n      </RadioFormControlStyled>\r\n    )}\r\n  </Field>\r\n);\r\n\r\nexport default FormInputRadio;\r\n","import React, { PureComponent } from 'react';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CheckIcon from '@material-ui/icons/CheckRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass AsyncFormInput extends PureComponent {\r\n  state = {\r\n    asyncValid: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { data, error } } = this.props;\r\n\r\n    if (!prevProps.result.data && data) {\r\n      this.setAsyncValid(true);\r\n    }\r\n    if (!prevProps.result.error && error) {\r\n      this.setAsyncValid(false);\r\n    }\r\n  }\r\n\r\n  setAsyncValid = (valid) => {\r\n    this.setState({ asyncValid: valid });\r\n  }\r\n\r\n  render() {\r\n    const { asyncValid } = this.state;\r\n    const { result: { loading }, ...rest } = this.props;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        endAdornment={\r\n          (loading || asyncValid)\r\n          && (\r\n            <InputAdornment position=\"end\">\r\n              <Choose>\r\n                <When condition={loading}>\r\n                  <CircularProgress size={18} />\r\n                </When>\r\n                <When condition={!loading && asyncValid}>\r\n                  <CheckIcon color=\"action\" />\r\n                </When>\r\n                <Otherwise>{null}</Otherwise>\r\n              </Choose>\r\n            </InputAdornment>\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AsyncFormInput;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst SubmitButton = styled(Button)`\r\n  && {\r\n    position: relative;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst FormSubmit = ({ loading, text }) => (\r\n  <SubmitButton\r\n    type=\"submit\"\r\n    size=\"large\"\r\n    color=\"primary\"\r\n    variant=\"contained\"\r\n    disabled={loading}\r\n    fullWidth\r\n  >\r\n    <Choose>\r\n      <When condition={loading}>\r\n        <CircularProgress size={26} />\r\n      </When>\r\n      <Otherwise>\r\n        {text}\r\n      </Otherwise>\r\n    </Choose>\r\n  </SubmitButton>\r\n);\r\n\r\nexport default FormSubmit;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { map, find } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport FormInput from './FormInput';\r\nimport FormInputPassword from './FormInputPassword';\r\nimport FormInputRadio from './FormInputRadio';\r\nimport AsyncFormInput from './AsyncFormInput';\r\nimport FormSubmit from './FormSubmit';\r\n\r\nconst FormWrapper = styled.form`\r\n  width: 100%;\r\n`;\r\n\r\nclass Form extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { error }, setFieldError } = this.props;\r\n\r\n    if (!prevProps.result.error && error) {\r\n      if (error.graphQLErrors) {\r\n        const { graphQLErrors } = error;\r\n        const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n        if (invalidField) {\r\n          setFieldError(invalidField, message);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  validate = async (value, field) => {\r\n    const { validationSchema, asyncValidationFields } = this.props;\r\n    const asyncValidationField = find(asyncValidationFields, { name: field });\r\n\r\n    try {\r\n      await yup.reach(validationSchema, field).validate(value);\r\n\r\n      if (asyncValidationField) {\r\n        const { validation } = asyncValidationField;\r\n\r\n        await validation.mutation({ variables: { value, field } });\r\n      }\r\n    } catch ({ message, graphQLErrors }) {\r\n      if (graphQLErrors) {\r\n        const { message: graphQlMessage } = graphQLErrors[0];\r\n\r\n        throw graphQlMessage;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields,\r\n      errors,\r\n      touched,\r\n      handleChange,\r\n      handleBlur,\r\n      handleSubmit,\r\n      result,\r\n      submitButtonText,\r\n      validateField,\r\n      validate,\r\n      asyncValidationFields,\r\n    } = this.props;\r\n    const { loading } = result;\r\n\r\n    return (\r\n      <FormWrapper onSubmit={handleSubmit}>\r\n        {\r\n          map(fields, (field) => {\r\n            const {\r\n              name,\r\n              type,\r\n              initialValue,\r\n              ...values\r\n            } = field;\r\n            const error = errors[name];\r\n            const isError = error && touched[name];\r\n            const asyncValidationField = find(asyncValidationFields, { name });\r\n\r\n            return (\r\n              <Choose>\r\n                <When condition={asyncValidationField}>\r\n                  <AsyncFormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    result={asyncValidationField.validation.result}\r\n                    validate={this.validate}\r\n                    validateField={validateField}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'password'}>\r\n                  <FormInputPassword\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    isError={isError}\r\n                    error={error}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'radio'}>\r\n                  <FormInputRadio\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                  />\r\n                </When>\r\n                <Otherwise>\r\n                  <FormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </Otherwise>\r\n              </Choose>\r\n            );\r\n          })\r\n        }\r\n        <FormSubmit loading={loading} text={submitButtonText} />\r\n      </FormWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: ({ initialValues }) => initialValues,\r\n\r\n  handleSubmit: (form, { props: { mutation } }) => {\r\n    mutation({ variables: { form } });\r\n  },\r\n\r\n  validateOnChange: false,\r\n  validateOnBlur: false,\r\n})(Form);\r\n","import { transform, forEach, set } from 'lodash';\r\nimport * as yup from 'yup';\r\n\r\nexport const formFields = {\r\n  signIn: [{\r\n    name: 'username',\r\n    label: 'User Name / Email Address',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepOne: [{\r\n    name: 'username',\r\n    label: 'User Name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'email',\r\n    label: 'Email Address',\r\n    type: 'email',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepTwo: [{\r\n    name: 'firstName',\r\n    label: 'First Name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'lastName',\r\n    label: 'Last name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'gender',\r\n    label: 'Gender',\r\n    type: 'radio',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: 'Male',\r\n    values: ['Male', 'Female', 'Other'],\r\n  }, {\r\n    name: 'birthday',\r\n    label: 'Birthday',\r\n    type: 'date',\r\n    autoComplete: 'no',\r\n    required: false,\r\n    initialValue: '',\r\n  }],\r\n};\r\n\r\nexport const formValidationSchemas = {\r\n  signIn: yup.object().shape(transform(formFields.signIn, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepOne: yup.object().shape(transform(formFields.signUpStepOne, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'email': {\r\n        res[name] = yup.string().email().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepTwo: yup.object().shape(transform(formFields.signUpStepTwo, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'firstName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'lastName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'gender': {\r\n        res[name] = yup.string();\r\n        break;\r\n      }\r\n      case 'birthday': {\r\n        res[name] = yup.date().typeError('');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n};\r\n\r\nexport const formInitialValues = transform(formFields, (res, values, formName) => {\r\n  res[formName] = {};\r\n\r\n  forEach(values, ({ name, initialValue }) => {\r\n    set(res[formName], name, initialValue);\r\n  });\r\n}, {});\r\n\r\n\r\nexport default formId => ({\r\n  fields: formFields[formId],\r\n  validationSchema: formValidationSchemas[formId],\r\n  initialValues: formInitialValues[formId],\r\n});\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nexport const Button = styled(Fab)`\r\n  && {\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst SocialButton = ({ loading, onClick, icon }) => (\r\n  <Button disabled={loading} size=\"small\" onClick={onClick} component={Fab}>\r\n    <FontAwesomeIcon icon={icon} size=\"lg\" />\r\n  </Button>\r\n);\r\n\r\nexport default SocialButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { rgba } from 'polished';\r\n\r\nimport { Button } from './SocialButton';\r\n\r\nconst SocialWrapper = styled.div`\r\n  display: inline-flex;\r\n\r\n  :not(:last-child) {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  ${Button} {\r\n    background-color: ${({ color }) => color};\r\n\r\n    :hover {\r\n      background-color: ${({ color }) => rgba(color, 0.8)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Social = ({ social, color, children }) => (\r\n  <SocialWrapper\r\n    key={social}\r\n    color={color}\r\n  >\r\n    {children}\r\n  </SocialWrapper>\r\n);\r\n\r\nexport default Social;\r\n","import React from 'react';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Facebook = ({ loading, mutation }) => (\r\n  <Social social=\"facebook\" color={blue[900]}>\r\n    <FacebookLogin\r\n      fields=\"first_name,last_name,id,email,gender\"\r\n      appId={process.env.FACEBOOK_APP_ID}\r\n      callback={({\r\n        // eslint-disable-next-line\r\n        userID: id,\r\n        email,\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'facebook',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faFacebook} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Facebook;\r\n","import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Google = ({ loading, mutation }) => (\r\n  <Social social=\"google\" color={red[500]}>\r\n    <GoogleLogin\r\n      scope=\"email profile\"\r\n      clientId={process.env.GOOGLE_APP_ID}\r\n      onSuccess={({\r\n        profileObj: {\r\n          googleId: id,\r\n          email,\r\n          givenName: firstName,\r\n          familyName: lastName,\r\n        },\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'google',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faGoogle} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Google;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Facebook from './Facebook';\r\nimport Google from './Google';\r\n\r\nconst SocialMediaWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 3em;\r\n`;\r\n\r\nconst SocialMediaNote = styled.p`\r\n  display: inline-flex;\r\n  margin-right: 1em;\r\n`;\r\n\r\nconst SocialMedia = ({\r\n  mutation,\r\n  result: { loading },\r\n  note,\r\n}) => {\r\n  return (\r\n    <SocialMediaWrapper>\r\n      <SocialMediaNote>\r\n        {note}\r\n      </SocialMediaNote>\r\n      <Facebook loading={loading} mutation={mutation} />\r\n      <Google loading={loading} mutation={mutation} />\r\n    </SocialMediaWrapper>\r\n  );\r\n};\r\n\r\nexport default SocialMedia;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\n\r\nimport { getPadding } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    padding: ${getPadding(5)} ${getPadding(3)};\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\nconst SignUpButton = styled(Button)`\r\n  && {\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst LoginForm = ({\r\n  signIn,\r\n  signInBySocial,\r\n  toSignUp,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <AccountCircleIcon fontSize=\"inherit\" color=\"primary\" />\r\n      </Header>\r\n      <Form\r\n        {...formConfig('signIn')}\r\n        mutation={signIn.mutation}\r\n        result={signIn.result}\r\n        submitButtonText=\"Sign In\"\r\n      />\r\n      <SignUpButton\r\n        onClick={toSignUp}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n      >\r\n        {'Sign Up'}\r\n      </SignUpButton>\r\n      <SocialMedia\r\n        mutation={signInBySocial.mutation}\r\n        result={signInBySocial.result}\r\n        note=\"Sign In with social media:\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n// import InfoIcon from '@material-ui/icons/Info';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport amber from '@material-ui/core/colors/amber';\r\n\r\nimport { getStyledProps } from '../../styles';\r\n\r\nconst NotificationMessageIcon = ({ type }) => (\r\n  <Choose>\r\n    <When condition={type === 'error'}>\r\n      <ErrorIcon />\r\n    </When>\r\n    <When condition={type === 'warning'}>\r\n      <WarningIcon />\r\n    </When>\r\n    <Otherwise>{null}</Otherwise>\r\n  </Choose>\r\n);\r\n\r\nconst NotificationMessageWrapper = styled.p`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #fff;\r\n\r\n  span {\r\n    margin-left: 1em;\r\n  }\r\n`;\r\n\r\nconst NotificationContentWrapper = styled(SnackbarContent)`\r\n  && {\r\n    background-color: ${(props) => {\r\n    const { type } = props;\r\n\r\n    if (type === 'error') {\r\n      return getStyledProps('theme.palette.error.main')(props);\r\n    }\r\n    return amber[500];\r\n  }}}\r\n`;\r\n\r\nconst NotificationMessage = ({ type, message }) => (\r\n  <NotificationMessageWrapper>\r\n    <NotificationMessageIcon type={type} />\r\n    <span>\r\n      {message}\r\n    </span>\r\n  </NotificationMessageWrapper>\r\n);\r\n\r\nconst NotificationClose = ({ toggle }) => (\r\n  <IconButton\r\n    key=\"close\"\r\n    aria-label=\"Close\"\r\n    color=\"inherit\"\r\n    onClick={toggle}\r\n  >\r\n    <CloseIcon />\r\n  </IconButton>\r\n);\r\n\r\nconst NotificationContent = ({ type, message, toggle }) => (\r\n  <NotificationContentWrapper\r\n    type={type}\r\n    aria-describedby=\"alert-notification\"\r\n    message={<NotificationMessage key=\"message\" type={type} message={message} />}\r\n    action={[<NotificationClose key=\"close\" toggle={toggle} />]}\r\n  />\r\n);\r\n\r\nconst Notification = ({\r\n  type,\r\n  message,\r\n  open,\r\n  toggle,\r\n  ...rest\r\n}) => (\r\n  <Snackbar\r\n    open={open}\r\n    onClose={(event, reason) => {\r\n      if (reason === 'timeout' && !open) {\r\n        return;\r\n      }\r\n      toggle();\r\n    }}\r\n    anchorOrigin={{\r\n      horizontal: 'right',\r\n      vertical: 'top',\r\n    }}\r\n    autoHideDuration={4000}\r\n    TransitionProps={{\r\n      direction: 'left',\r\n    }}\r\n    {...rest}\r\n  >\r\n    <NotificationContent type={type} message={message} toggle={() => toggle()} />\r\n  </Snackbar>\r\n);\r\n\r\nexport default Notification;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { set } from 'lodash';\r\n\r\nimport Notification from '../Notification';\r\n\r\nconst withNotification = WrappedComponent => class extends Component {\r\n  state = {\r\n    open: false,\r\n    message: '',\r\n    type: 'error',\r\n  }\r\n\r\n  toggleNotification = (message = '', type = '') => {\r\n    this.setState(({ open }) => {\r\n      const updatedState = {\r\n        open: !open,\r\n      };\r\n\r\n      if (message) {\r\n        set(updatedState, 'message', message);\r\n      }\r\n      if (type) {\r\n        set(updatedState, 'type', type);\r\n      }\r\n      return updatedState;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <WrappedComponent {...this.props} toggleNotification={this.toggleNotification} />\r\n        <Notification {...this.state} toggle={this.toggleNotification} />\r\n      </Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withNotification;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport LoginContainer from '../../smart/LoginContainer';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport storage from '../../../actions/storage';\r\n\r\nimport bgImage from '../../../assets/images/login-bg.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass Login extends Component {\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    const { history } = this.props;\r\n\r\n    storage.setTokens(token, refreshToken);\r\n    history.push('/');\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n      if (!invalidField) {\r\n        toggleNotification(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  toSignUp = () => {\r\n    const { history } = this.props;\r\n\r\n    history.push('/reg');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <LoginContainer\r\n        signInProps={{\r\n          onCompleted: ({ signIn }) => this.handleSuccess(signIn),\r\n          onError: this.handleError,\r\n        }}\r\n        signInBySocialProps={{\r\n          onCompleted: ({ signInBySocial }) => this.handleSuccess(signInBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({ signIn, signInBySocial }) => (\r\n          <Wrapper\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <LoginForm\r\n              signIn={signIn}\r\n              signInBySocial={signInBySocial}\r\n              toSignUp={this.toSignUp}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </LoginContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNotification(Login);\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport {\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n} from '../../actions/authActions';\r\nimport { createMutation } from '../../apollo/utils';\r\n\r\nconst signUpAsyncValidationUsername = createMutation('signUpAsyncValidationUsername', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUpAsyncValidationEmail = createMutation('signUpAsyncValidationEmail', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUp = createMutation('signUp', SIGN_UP);\r\nconst signUpCompletion = createMutation('signUpCompletion', SIGN_UP_COMPLETION);\r\nconst signUpBySocial = createMutation('signUpBySocial', SIGN_UP_BY_SOCIAL);\r\n\r\nconst RegContainer = adopt({\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n});\r\n\r\nexport default RegContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport InfoIcon from '@material-ui/icons/InfoRounded';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircleRounded';\r\n\r\nconst StepLabelStyled = styled(StepLabel)`\r\n  p {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst RegFormStepper = ({ activeStep, steps }) => (\r\n  <Stepper alternativeLabel activeStep={activeStep}>\r\n    {\r\n      map(steps, (label, index) => {\r\n        const isActive = activeStep === index;\r\n        const isCompleted = index < activeStep;\r\n        const iconColor = (!isCompleted && !isActive)\r\n          ? 'disabled'\r\n          : 'primary';\r\n        const step = index + 1;\r\n\r\n        return (\r\n          <Step\r\n            key={index}\r\n            active={isActive}\r\n            completed={isCompleted}\r\n          >\r\n            <StepLabelStyled\r\n              icon={(\r\n                <Choose>\r\n                  <When condition={isCompleted}>\r\n                    <CheckCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <When condition={step === 1}>\r\n                    <AccountCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <InfoIcon color={iconColor} />\r\n                  </Otherwise>\r\n                </Choose>\r\n              )}\r\n            >\r\n              <span>{`Step ${step}.`}</span>\r\n              <p>{label}</p>\r\n            </StepLabelStyled>\r\n          </Step>\r\n        );\r\n      })\r\n    }\r\n  </Stepper>\r\n);\r\n\r\nexport default RegFormStepper;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\n// import {} from 'lodash';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport RegFormStepper from './RegFormStepper';\r\n\r\nimport { getPadding } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    padding: ${getPadding(5)} ${getPadding(3)};\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\n\r\nconst SignUp = ({\r\n  steps,\r\n  activeStep,\r\n  completed,\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <RegFormStepper activeStep={activeStep} steps={steps} />\r\n      </Header>\r\n      <Choose>\r\n        <When condition={completed}>\r\n          {'Your account had been successfuly completed.Check your email and confirm registration.'}\r\n        </When>\r\n        <When condition={activeStep === 0}>\r\n          <Form\r\n            {...formConfig('signUpStepOne')}\r\n            mutation={signUp.mutation}\r\n            result={signUp.result}\r\n            submitButtonText=\"Confirm\"\r\n            asyncValidationFields={[{\r\n              name: 'username',\r\n              validation: signUpAsyncValidationUsername,\r\n            }, {\r\n              name: 'email',\r\n              validation: signUpAsyncValidationEmail,\r\n            }]}\r\n          />\r\n          <SocialMedia\r\n            mutation={signUpBySocial.mutation}\r\n            result={signUpBySocial.result}\r\n            note=\"Sign Up with social media:\"\r\n          />\r\n        </When>\r\n        <When condition={activeStep === 1}>\r\n          <Form\r\n            {...formConfig('signUpStepTwo')}\r\n            mutation={signUpCompletion.mutation}\r\n            result={signUpCompletion.result}\r\n            submitButtonText=\"Confirm\"\r\n          />\r\n        </When>\r\n        <Otherwise>\r\n          {null}\r\n        </Otherwise>\r\n      </Choose>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nimport storage from '../actions/storage';\r\n\r\nconst tokenSecret = process.env.TOKEN_SECRET;\r\n\r\nexport const checkToken = async (token, set = false) => {\r\n  try {\r\n    if (!token) {\r\n      throw new Error('Token wasn\\'t found');\r\n    }\r\n    const { data: { regStatus } } = await jwt.verify(token, tokenSecret);\r\n\r\n    if (set) {\r\n      storage.token.set(token);\r\n    }\r\n    return regStatus;\r\n  } catch (e) {\r\n    throw new Error(e.message);\r\n  }\r\n};\r\n\r\nclass PrivateRoute extends Component {\r\n  state = {\r\n    render: false,\r\n    auth: false,\r\n    status: '',\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const token = storage.token.get();\r\n      const status = await checkToken(token);\r\n\r\n      this.setState({\r\n        render: true,\r\n        auth: true,\r\n        status,\r\n      });\r\n    } catch (e) {\r\n      this.setState({\r\n        render: true,\r\n        auth: false,\r\n        status: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { render, auth, status } = this.state;\r\n    const { children } = this.props;\r\n    const regRedirect = `reg?token=${storage.token.get()}`;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={render}>\r\n          <Choose>\r\n            <When condition={!auth}>\r\n              <Redirect to=\"login\" />\r\n            </When>\r\n            <When condition={auth && status === 'UNCOMPLETED'}>\r\n              <Redirect to={regRedirect} />\r\n            </When>\r\n            <Otherwise>\r\n              {children}\r\n            </Otherwise>\r\n          </Choose>\r\n        </When>\r\n        <Otherwise>{null}</Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport RegContainer from '../../smart/RegContainer';\r\nimport RegForm from './RegForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport { checkToken } from '../../../router/PrivateRoute';\r\nimport storage from '../../../actions/storage';\r\n\r\nimport bgImage from '../../../assets/images/reg-bg.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    activeStep: 0,\r\n    completed: false,\r\n  }\r\n\r\n  steps = [\r\n    'Create your account',\r\n    'Tell us about yourself',\r\n  ];\r\n\r\n  async componentDidMount() {\r\n    const { location: { search }, history } = this.props;\r\n    const { token } = queryString.parse(search);\r\n\r\n    if (token) {\r\n      try {\r\n        await checkToken(token, true);\r\n        this.setActiveStep(1);\r\n      } catch (e) {\r\n        history.push('/reg');\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    if (token && refreshToken) {\r\n      const { history } = this.props;\r\n\r\n      storage.setTokens(token, refreshToken);\r\n      history.push('/');\r\n    } else {\r\n      this.setState({ completed: true });\r\n    }\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message } = graphQLErrors[0];\r\n\r\n      toggleNotification(message);\r\n    }\r\n  }\r\n\r\n  setActiveStep = (step) => {\r\n    this.setState(() => ({ activeStep: step }));\r\n  }\r\n\r\n  render() {\r\n    const { activeStep, completed } = this.state;\r\n\r\n    return (\r\n      <RegContainer\r\n        signUpProps={{\r\n          onCompleted: ({ signUp }) => this.handleSuccess(signUp),\r\n        }}\r\n        signUpCompletionProps={{\r\n          onCompleted: ({ signUpCompletion }) => this.handleSuccess(signUpCompletion),\r\n        }}\r\n        signUpBySocialProps={{\r\n          onCompleted: ({ signUpBySocial }) => this.handleSuccess(signUpBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({\r\n          signUpAsyncValidationUsername,\r\n          signUpAsyncValidationEmail,\r\n          signUp,\r\n          signUpCompletion,\r\n          signUpBySocial,\r\n        }) => (\r\n          <Wrapper\r\n            ref={this.createRef}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <RegForm\r\n              steps={this.steps}\r\n              activeStep={activeStep}\r\n              completed={completed}\r\n              signUpAsyncValidationUsername={signUpAsyncValidationUsername}\r\n              signUpAsyncValidationEmail={signUpAsyncValidationEmail}\r\n              signUp={signUp}\r\n              signUpCompletion={signUpCompletion}\r\n              signUpBySocial={signUpBySocial}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </RegContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNotification(SignUp);\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nconst Wrapper = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')}\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst PageLoader = () => (\r\n  <Wrapper>\r\n    <CircularProgress size={80} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PageLoader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst AppRoute = ({\r\n  component: Component,\r\n  layout: Layout,\r\n  privateRoute,\r\n  ...rest\r\n}) => {\r\n  const render = props => (\r\n    <Layout>\r\n      <Component {...props} />\r\n    </Layout>\r\n  );\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        <Choose>\r\n          <When condition={privateRoute}>\r\n            <PrivateRoute>\r\n              {render(props)}\r\n            </PrivateRoute>\r\n          </When>\r\n          <Otherwise>\r\n            {render(props)}\r\n          </Otherwise>\r\n        </Choose>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nAppRoute.defaultProps = {\r\n  privateRoute: false,\r\n};\r\nAppRoute.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.node, PropTypes.func]).isRequired,\r\n  layout: PropTypes.oneOfType([PropTypes.element, PropTypes.node, PropTypes.func]).isRequired,\r\n  privateRoute: PropTypes.bool,\r\n};\r\n\r\nexport default AppRoute;\r\n","import React from 'react';\r\nimport { Switch } from 'react-router-dom';\r\nimport Loadable from 'react-loadable';\r\n\r\n// import LoginLayout from '../components/layouts/LoginLayout';\r\n// import ChatLayout from '../components/layouts/ChatLayout';\r\n\r\nimport Home from '../components/common/Home';\r\nimport Login from '../components/dumb/Login/Login';\r\nimport Reg from '../components/dumb/Reg/Reg';\r\n// import NotFound from '../components/common/NotFound';\r\nimport PageLoader from '../components/ui/PageLoader';\r\n\r\nimport AppRoute from './AppRoute';\r\n\r\nconst LoginLayout = Loadable({\r\n  loader: () => import('../components/layouts/LoginLayout'),\r\n  loading: PageLoader,\r\n});\r\n\r\nconst ChatLayout = Loadable({\r\n  loader: () => import('../components/layouts/ChatLayout'),\r\n  loading: PageLoader,\r\n});\r\n\r\n// const NotFound = Loadable({\r\n//   loader: () => import('../components/common/NotFound'),\r\n//   loading: PageLoader,\r\n// });\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <AppRoute exact path=\"/login\" layout={LoginLayout} component={Login} />\r\n    <AppRoute exact path=\"/reg\" layout={LoginLayout} component={Reg} />\r\n    <AppRoute exact path=\"/\" layout={ChatLayout} component={Home} privateRoute />\r\n    {/* <AppRoute component={NotFound} /> */}\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React, { Fragment } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from 'styled-components';\r\n\r\nimport Router from '../router';\r\nimport { GlobalStyle, theme } from '../styles';\r\n\r\nconst App = () => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ThemeProvider theme={theme}>\r\n        <Fragment>\r\n          <GlobalStyle />\r\n          <Router />\r\n        </Fragment>\r\n      </ThemeProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default hot(module)(App);\r\n","import 'whatwg-fetch';\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { ApolloProvider } from 'react-apollo';\r\n// import registerServiceWorker from './registerServiceWorker';\r\n\r\nimport App from './components/App';\r\nimport apollo from './apollo';\r\n\r\nconst renderApp = (Component) => {\r\n  render(\r\n    <ApolloProvider client={apollo}>\r\n      <BrowserRouter>\r\n        <Component />\r\n      </BrowserRouter>\r\n    </ApolloProvider>, document.getElementById('root'),\r\n  );\r\n};\r\n\r\nrenderApp(App);\r\n// registerServiceWorker();\r\n","import { createHttpLink } from 'apollo-link-http';\r\nimport { ApolloLink, from } from 'apollo-link';\r\n// import { onError } from 'apollo-link-error';\r\n\r\nimport storage from '../actions/storage';\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: process.env.APOLLO_URL,\r\n});\r\n\r\nconst authLink = new ApolloLink((operation, forward) => {\r\n  operation.setContext({\r\n    headers: {\r\n      'x-token': storage.token.get(),\r\n      'x-refresh-token': storage.refreshToken.get(),\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\nconst tokenLink = new ApolloLink((operation, forward) => forward(operation).map((response) => {\r\n  const { response: { headers } } = operation.getContext();\r\n\r\n  if (headers) {\r\n    const token = headers.get('x-token');\r\n    const refreshToken = headers.get('x-refresh-token');\r\n\r\n    if (token && refreshToken) {\r\n      storage.setTokens(token, refreshToken);\r\n    }\r\n  }\r\n  return response;\r\n}));\r\n\r\n// const errorLink = onError(({ networkError = {}, graphQLErrors, response, operation }) => {\r\n//   console.log('networkerrors', networkError);\r\n//   console.log('error', graphQLErrors);\r\n// });\r\n\r\nconst logger = new ApolloLink((operation, forward) => {\r\n  const { operationName } = operation;\r\n  console.log(`log operation: ${operationName}`, operation);\r\n  return forward(operation).map((response) => {\r\n    console.log(`log operation result ${operationName}:`, response);\r\n    return response;\r\n  });\r\n});\r\n\r\nconst link = from([\r\n  // errorLink,\r\n  authLink,\r\n  tokenLink,\r\n  logger,\r\n  httpLink,\r\n]);\r\n\r\nexport default link;\r\n","import { ApolloClient } from 'apollo-client';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\nimport link from './link';\r\n\r\nconst client = new ApolloClient({\r\n  link,\r\n  credentials: 'include',\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nexport default client;\r\n"],"sourceRoot":""}