{"version":3,"sources":["webpack:///./src/components/dumb/AppContent.js","webpack:///./src/components/common/Navigation/Tabs.js","webpack:///./src/components/layouts/AppLayout.js","webpack:///./src/components/common/Logo.js","webpack:///./src/components/common/Navigation/Navigation.js"],"names":["AppContainer","styled","Paper","withConfig","displayName","componentId","size","SettingsDialogWrapper","DialogContent","AvatarContainer","div","AvatarStyled","Avatar","AppContent","state","settingsDialog","cropDialog","file","inputRef","createRef","toggleSettingsDialog","_this","setState","_ref","toggleCropDialog","_ref2","onChangeAvatar","_callee","_ref3","_ref3$target","_ref3$target$files","valid","uploadAvatar","regeneratorRuntime","wrap","_context","prev","next","target","_slicedToArray","files","validity","props","console","log","variables","stop","this","onAvatarClick","current","click","_this$props","loading","setFetchingToContext","prevProps","_this$props2","user","setUserToContext","lodash_isEqual__WEBPACK_IMPORTED_MODULE_6___default","_this$state","_this$props3","children","signOut","avatarText","getAvatarInitials","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_11___default","container","spacing","justify","item","xs","lg","square","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_13___default","smDown","_common_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_19__","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_14___default","open","onClose","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_15___default","ref","type","accept","onChange","style","display","src","avatar","md","alt","onClick","_material_ui_icons_CameraAlt__WEBPACK_IMPORTED_MODULE_18___default","fontSize","Component","__webpack_exports__","tabItemHeightPx","concat","Wrapper","TabItem","Tab","TabItemIndicator","span","activeTab","getStyledProps","links","name","Icon","PersonIcon","to","Tabs","onChangeTab","logoutIconColor","red","react__WEBPACK_IMPORTED_MODULE_2___default","lodash_map__WEBPACK_IMPORTED_MODULE_1___default","index","color","key","component","Link","icon","_material_ui_icons_SettingsRounded__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_ExitToAppRounded__WEBPACK_IMPORTED_MODULE_8___default","nativeColor","AppLayout","history","client","storage","removeTokens","resetStore","push","onSessionExpired","sessionExpired","_this2","react__WEBPACK_IMPORTED_MODULE_3___default","_context_AppProvider__WEBPACK_IMPORTED_MODULE_10__","Consumer","setUser","setFetching","_smart_AppLayoutContainer__WEBPACK_IMPORTED_MODULE_8__","signOutProps","onCompleted","checkSessionExpirationProps","_ref3$getInitialData","getInitialData","me","data","mutation","_ref3$uploadAvatar","result","_dumb_AppContent__WEBPACK_IMPORTED_MODULE_9__","propTypes","PropTypes","oneOfType","element","node","isRequired","hot","module","withApollo","withRouter","above","rest","_objectWithoutProperties","_material_ui_icons_ChatBubbleRounded__WEBPACK_IMPORTED_MODULE_5___default","blue","indigo","_ref4","Logo","getSpacing","Navigation","handleChangeTab","_Logo__WEBPACK_IMPORTED_MODULE_6__","_Tabs__WEBPACK_IMPORTED_MODULE_5__","PureComponent"],"mappings":"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","file":"3.f395af9d863a9bb91219.js","sourcesContent":["import React, { Component, createRef } from 'react';\r\nimport Cropper from 'react-easy-crop';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\nimport { isEqual } from 'lodash';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CameraIcon from '@material-ui/icons/CameraAlt';\r\n\r\nimport Navigation from '../common/Navigation/Navigation';\r\n\r\nimport { getAvatarInitials } from '../../helpers';\r\n\r\nconst AppContainer = styled(Paper)`\r\n  ${size('100%')};\r\n  display: flex;\r\n`;\r\n\r\nconst SettingsDialogWrapper = styled(DialogContent)`\r\n  && {\r\n    min-width: 400px;\r\n  }\r\n`;\r\n\r\nconst AvatarContainer = styled.div`\r\n  width: 200px;\r\n  height: 200px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n`;\r\n\r\nconst AvatarStyled = styled(Avatar)`\r\n  && {\r\n    width: 100%;\r\n    height: 100%;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nclass AppContent extends Component {\r\n  state = {\r\n    settingsDialog: false,\r\n    cropDialog: false,\r\n    file: null,\r\n  }\r\n\r\n  inputRef = createRef();\r\n\r\n  componentDidMount() {\r\n    const { loading, setFetchingToContext } = this.props;\r\n\r\n    if (loading) {\r\n      setFetchingToContext(loading);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      loading,\r\n      user,\r\n      setUserToContext,\r\n      setFetchingToContext,\r\n    } = this.props;\r\n\r\n    if (!prevProps.user && user) {\r\n      setUserToContext(user);\r\n    }\r\n    if (!isEqual(prevProps.loading, loading)) {\r\n      setFetchingToContext(loading);\r\n    }\r\n  }\r\n\r\n  toggleSettingsDialog = () => {\r\n    this.setState(({ settingsDialog }) => ({ settingsDialog: !settingsDialog }));\r\n  }\r\n\r\n  toggleCropDialog = () => {\r\n    this.setState(({ cropDialog }) => ({ cropDialog: !cropDialog }));\r\n  }\r\n\r\n  onChangeAvatar = async ({\r\n    target: {\r\n      files: [file],\r\n      validity: { valid },\r\n    },\r\n  }) => {\r\n    const { uploadAvatar } = this.props;\r\n\r\n    if (valid) {\r\n      console.log(file);\r\n      uploadAvatar({ variables: { file } });\r\n    }\r\n  }\r\n\r\n  onAvatarClick = () => {\r\n    if (this.inputRef) {\r\n      this.inputRef.current.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { settingsDialog, cropDialog, file } = this.state;\r\n    const { children, user, signOut } = this.props;\r\n    const avatarText = getAvatarInitials(user);\r\n\r\n    return (\r\n      <Grid container spacing={0} justify=\"center\">\r\n        <Grid item xs={12} lg={10}>\r\n          <AppContainer square>\r\n            <Grid container spacing={0}>\r\n              <Hidden smDown>\r\n                <Grid item>\r\n                  <Navigation\r\n                    toggleSettingsDialog={this.toggleSettingsDialog}\r\n                    signOut={signOut}\r\n                  />\r\n                </Grid>\r\n              </Hidden>\r\n              <Grid item xs>\r\n                {children}\r\n              </Grid>\r\n            </Grid>\r\n          </AppContainer>\r\n        </Grid>\r\n        <Dialog open={settingsDialog} onClose={this.toggleSettingsDialog}>\r\n          <DialogTitle>Settings</DialogTitle>\r\n          <SettingsDialogWrapper>\r\n            <AvatarContainer>\r\n              <input\r\n                ref={this.inputRef}\r\n                type=\"file\"\r\n                accept=\"image/png, image/jpg, image/jpeg\"\r\n                onChange={this.onChangeAvatar}\r\n                style={{ display: 'none' }}\r\n              />\r\n              <AvatarStyled\r\n                src={(user && user.avatar) && user.avatar.md}\r\n                alt={avatarText}\r\n                onClick={this.onAvatarClick}\r\n              >\r\n                <CameraIcon fontSize=\"large\" />\r\n              </AvatarStyled>\r\n            </AvatarContainer>\r\n          </SettingsDialogWrapper>\r\n        </Dialog>\r\n        {/* <Dialog open={cropDialog} onClose={this.toggleCropDialog}>\r\n          <DialogContent>\r\n            <Cropper />\r\n          </DialogContent>\r\n        </Dialog> */}\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContent;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { map } from 'lodash';\r\n\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport PersonIcon from '@material-ui/icons/PersonRounded';\r\n// import GroupIcon from '@material-ui/icons/GroupRounded';\r\n// import BookmarkIcon from '@material-ui/icons/BookmarkRounded';\r\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\r\nimport LogoutIcon from '@material-ui/icons/ExitToAppRounded';\r\n\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst tabItemHeight = 60;\r\nconst tabItemHeightPx = `${tabItemHeight}px`;\r\n\r\nconst Wrapper = styled.div`\r\n  min-width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-flow: column;\r\n  position: relative;\r\n\r\n  a:last-of-type {\r\n    margin-bottom: 100%;\r\n  }\r\n`;\r\n\r\nconst TabItem = styled(Tab)`\r\n  && {\r\n    min-width: inherit;\r\n    height: ${tabItemHeightPx};\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\nconst TabItemIndicator = styled.span`\r\n  width: 2px;\r\n  height: ${tabItemHeightPx};\r\n  display: block;\r\n  position: absolute;\r\n  top: ${({ activeTab }) => `${activeTab * tabItemHeight}px`};\r\n  right: 0;\r\n  background-color: ${getStyledProps('theme.palette.primary.main')};\r\n  transition: .25s ease;\r\n`;\r\n\r\nconst links = [\r\n  {\r\n    name: 'chats',\r\n    Icon: PersonIcon,\r\n    to: 'chats',\r\n  },\r\n  // {\r\n  //   name: 'group',\r\n  //   Icon: GroupIcon,\r\n  //   to: 'group',\r\n  // },\r\n  // {\r\n  //   name: 'saved',\r\n  //   Icon: BookmarkIcon,\r\n  //   to: 'saved',\r\n  // },\r\n];\r\n\r\nconst Tabs = ({\r\n  activeTab,\r\n  onChangeTab,\r\n  toggleSettingsDialog,\r\n  signOut,\r\n}) => {\r\n  const logoutIconColor = red[900];\r\n\r\n  return (\r\n    <Wrapper>\r\n      {map(links, ({ name, Icon, to }, index) => {\r\n        const color = activeTab === index ? 'primary' : 'action';\r\n\r\n        return (\r\n          <TabItem\r\n            key={name}\r\n            to={to}\r\n            component={Link}\r\n            icon={<Icon color={color} />}\r\n            onClick={() => onChangeTab(index)}\r\n          />\r\n        );\r\n      })}\r\n      <TabItem icon={<SettingsIcon color=\"action\" onClick={toggleSettingsDialog} />} />\r\n      <TabItem icon={<LogoutIcon nativeColor={logoutIconColor} />} onClick={signOut} />\r\n      <TabItemIndicator activeTab={activeTab} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Tabs;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { hot } from 'react-hot-loader';\r\n// import { isEmpty } from 'lodash';\r\nimport { withRouter } from 'react-router';\r\nimport { withApollo } from 'react-apollo';\r\n\r\nimport AppLayoutContainer from '../smart/AppLayoutContainer';\r\nimport AppContent from '../dumb/AppContent';\r\nimport { AppContext } from '../context/AppProvider';\r\n\r\nimport storage from '../../storage';\r\n\r\nclass AppLayout extends Component {\r\n  signOut = () => {\r\n    const { history, client } = this.props;\r\n\r\n    storage.removeTokens();\r\n    client.resetStore();\r\n    history.push('/');\r\n  }\r\n\r\n  onSessionExpired = ({ sessionExpired }) => {\r\n    if (sessionExpired) {\r\n      this.signOut();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <AppContext.Consumer>\r\n        {({ setUser, setFetching }) => (\r\n          <AppLayoutContainer\r\n            signOutProps={{ onCompleted: this.signOut }}\r\n            checkSessionExpirationProps={{ onCompleted: this.onSessionExpired }}\r\n          >\r\n            {({\r\n              getInitialData: { data: { me }, loading },\r\n              signOut: { mutation: signOut },\r\n              uploadAvatar: { mutation: uploadAvatar, result },\r\n            }) => {\r\n              return (\r\n                <AppContent\r\n                  loading={loading}\r\n                  user={me}\r\n                  setFetchingToContext={setFetching}\r\n                  setUserToContext={setUser}\r\n                  signOut={signOut}\r\n                  uploadAvatar={uploadAvatar}\r\n                >\r\n                  {children}\r\n                </AppContent>\r\n              );\r\n            }}\r\n          </AppLayoutContainer>\r\n        )}\r\n      </AppContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nAppLayout.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default hot(module)(withApollo(withRouter(AppLayout)));\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubbleRounded';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  font-size: 35px;\r\n  margin-bottom: 100%;\r\n`;\r\n\r\nconst Icon = styled(({ above, ...rest }) => <ChatBubbleIcon {...rest} />)`\r\n  && {\r\n    color: ${({ above }) => (above ? blue[500] : indigo[500])};\r\n    opacity: ${({ above }) => (above ? 1 : 0.5)};\r\n\r\n    ${({ above }) => above && `\r\n      position: absolute;\r\n      top: 10%;\r\n      left: 50%;\r\n      transform: translateX(-40%);\r\n    `}\r\n  }\r\n`;\r\n\r\nconst Logo = () => (\r\n  <Wrapper>\r\n    <Icon fontSize=\"inherit\" above />\r\n    <Icon fontSize=\"inherit\" />\r\n  </Wrapper>\r\n);\r\n\r\nexport default Logo;\r\n","import React, { PureComponent } from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Tabs from './Tabs';\r\nimport Logo from '../Logo';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 60px;\r\n  padding-top: ${getSpacing(2)};\r\n`;\r\n\r\nclass Navigation extends PureComponent {\r\n  state = {\r\n    activeTab: 0,\r\n  }\r\n\r\n  handleChangeTab = (index) => {\r\n    this.setState({ activeTab: index });\r\n  }\r\n\r\n  render() {\r\n    const { activeTab } = this.state;\r\n    const { toggleSettingsDialog, signOut } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Logo />\r\n        <Tabs\r\n          activeTab={activeTab}\r\n          onChangeTab={this.handleChangeTab}\r\n          toggleSettingsDialog={toggleSettingsDialog}\r\n          signOut={signOut}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n"],"sourceRoot":""}