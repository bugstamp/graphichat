{"version":3,"sources":["webpack:///./src/components/common/SocialMedia/Google.js","webpack:///./src/router/PrivateRoute.js","webpack:///./src/components/common/ContactPanel/ContactPanelItem.js","webpack:///./src/gql/chat.js","webpack:///./src/components/smart/AppLayoutContainer.js","webpack:///./src/gql/auth.js","webpack:///./src/assets/audio/icqBeep.js","webpack:///./src/components/smart/LoginContainer.js","webpack:///./src/components/common/Form/AsyncFormInput.js","webpack:///./src/components/common/ContactPanel/SearchDialogListItem.js","webpack:///./src/components/dumb/Reg/RegFormStepper.js","webpack:///./src/components/common/ContactPanel/AppList/ListItemInfo.js","webpack:///./src/components/common/PageLoader.js","webpack:///./src/assets/images/login-bg__1920_95.jpg","webpack:///./src/gql/user.js","webpack:///./src/components/common/SocialMedia/Social.js","webpack:///./src/components/common/SocialMedia/SocialButton.js","webpack:///./src/components/common/Form/FormInputRadio.js","webpack:///./src/apollo/utils.js","webpack:///./src/styles/index.js","webpack:///./src/components/common/ContactPanel/ContactPanelFooter.js","webpack:///./src/components/common/SocialMedia/SocialMedia.js","webpack:///./src/components/smart/SearchDialogContainer.js","webpack:///./src/router/AppRoute.js","webpack:///./src/router/history.js","webpack:///./src/assets/images/reg-bg__1920_95.jpg","webpack:///./src/components/dumb/Chats/Chats.js","webpack:///./src/components/common/Form/FormInputPassword.js","webpack:///./src/components/common/Form/FormSubmit.js","webpack:///./src/components/common/HOC/withNotification.js","webpack:///./src/components/common/Form/FormInput.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/common/Form/Form.js","webpack:///./src/components/dumb/Reg/RegForm.js","webpack:///./src/components/common/SocialMedia/Facebook.js","webpack:///./src/components/common/ContactPanel/ContactPanel.js","webpack:///./src/components/common/MessagePanel/MessagePanelMessages.js","webpack:///./src/components/common/ContactPanel/AppList/ListSearch.js","webpack:///./src/components/smart/RegContainer.js","webpack:///./src/gql/index.js","webpack:///./src/components/common/MessagePanel/MessagePanelComment.js","webpack:///./src/components/common/ContactPanel/AppList/ListItemAvatar.js","webpack:///./src/components/smart/ChatsContainer.js","webpack:///./src/apollo/cache.js","webpack:///./src/components/context/AppProvider.js","webpack:///./src/components/common/ContactPanel/AppList/ListItem.js","webpack:///./src/apollo/link.js","webpack:///./src/components/common/Notification.js","webpack:///./src/components/common/MessagePanel/MessagePanelTopBar.js","webpack:///./src/storage/index.js","webpack:///./src/components/common/ContactPanel/AppList/List.js","webpack:///./src/gql/fragments.js","webpack:///./src/router/index.js","webpack:///./src/components/dumb/Login/LoginForm.js","webpack:///./src/components/dumb/Login/Login.js","webpack:///./src/components/common/ContactPanel/SearchDialog.js","webpack:///./src/components/App.js","webpack:///./src/apollo/index.js","webpack:///./src/components/dumb/Reg/Reg.js","webpack:///./src/components/common/NotFound.js","webpack:///./src/index.js","webpack:///./src/components/common/Form/formConfig.js","webpack:///./src/components/common/MessagePanel/MessagePanel.js","webpack:///./src/helpers/index.js"],"names":["Google","_ref","loading","mutation","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Social__WEBPACK_IMPORTED_MODULE_4__","social","color","red","react_google_login__WEBPACK_IMPORTED_MODULE_1___default","scope","clientId","process","onSuccess","_ref2","_ref2$profileObj","profileObj","id","googleId","email","firstName","givenName","lastName","familyName","variables","name","profile","render","_ref3","onClick","_SocialButton__WEBPACK_IMPORTED_MODULE_5__","icon","faGoogle","__webpack_exports__","tokenSecrets","token","refresh","checkToken","_asyncToGenerator","regeneratorRuntime","mark","_callee","set","secretType","secret","regStatus","_args","arguments","wrap","_context","prev","next","length","undefined","Error","jwt","verify","sent","data","storage","abrupt","t0","stop","this","_x","apply","PrivateRoute","state","auth","status","get","setState","_this$state","children","props","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","concat","Component","propTypes","PropTypes","oneOfType","element","node","isRequired","ContactListItem","styled","isSelected","rest","_objectWithoutProperties","react__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_6___default","withConfig","displayName","componentId","getSpacing","background-color","border-radius","getStyledProps","ContactItemSecondary","div","position","ContactItemTime","span","ContactItemBadge","ContactPanelItem","myId","contact","message","onSelect","avatar","avatarText","getAvatarInitials","online","senderId","content","time","secondary","_AppList_ListItemAvatar__WEBPACK_IMPORTED_MODULE_8__","src","sm","text","_AppList_ListItemInfo__WEBPACK_IMPORTED_MODULE_9__","primary","messageTimeParser","CREATE_CHAT","gql","_templateObject","myContactFragment","myChatFragment","CHAT_CREATED_SUBSCRIPTION","_templateObject2","GET_CHAT_MESSAGES","_templateObject3","messageFragment","ADD_MESSAGE","_templateObject4","MESSAGE_ADDED_SUBSCRIPTION","_templateObject5","GET_ME","GET_INITIAL_DATA","SIGN_OUT","GET_MY_CHATS","GET_MY_CONTACTS","CHECK_SESSION_EXPIRATION","USER_ACTIVITY_SUBSCRIPTION","UPLOAD_AVATAR","chatCreatedUpdate","client","chat","_client$readQuery","readQuery","query","myContacts","myChats","writeQuery","lodash_concat__WEBPACK_IMPORTED_MODULE_5___default","getInitialData","createQuery","checkSessionExpiration","chatCreatedSubscription","createSubscription","onSubscriptionData","chatCreated","subscriptionData","userActivitySubscription","userActivityUpdated","userId","lastDate","contactId","lodash_find__WEBPACK_IMPORTED_MODULE_4___default","userInfo","fragment","myContactActivityFragment","_client$readFragment","readFragment","writeFragment","_objectSpread","signOut","createMutation","uploadAvatar","update","_ref4","me","lodash_set__WEBPACK_IMPORTED_MODULE_3___default","AppLayoutContainer","adopt","SIGN_IN","authPayloadFragment","SIGN_IN_BY_SOCIAL","SIGN_UP_ASYNC_VALIDATION","SIGN_UP","SIGN_UP_COMPLETION","SIGN_UP_BY_SOCIAL","_templateObject6","_templateObject7","_templateObject8","icqBeep","Audio","signIn","signInBySocial","LoginContainer","AsyncFormInput","asyncValid","setAsyncValid","valid","_this","prevProps","_this$props$result","result","error","_this$props","react__WEBPACK_IMPORTED_MODULE_7___default","_FormInput__WEBPACK_IMPORTED_MODULE_11__","_extends","endAdornment","_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_10___default","size","_material_ui_icons_CheckRounded__WEBPACK_IMPORTED_MODULE_9___default","PureComponent","SearchDialogListItem","item","openConfirmDialog","adding","added","username","_AppList_ListItem__WEBPACK_IMPORTED_MODULE_4__","_AppList_ListItemAvatar__WEBPACK_IMPORTED_MODULE_5__","_AppList_ListItemInfo__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_1___default","variant","disabled","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_icons_DoneRounded__WEBPACK_IMPORTED_MODULE_3___default","StepLabelStyled","StepLabel","RegFormStepper","activeStep","steps","react__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_Stepper__WEBPACK_IMPORTED_MODULE_4___default","alternativeLabel","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","label","index","isActive","isCompleted","iconColor","step","_material_ui_core_Step__WEBPACK_IMPORTED_MODULE_5___default","key","active","completed","_material_ui_icons_CheckCircleRounded__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_InfoRounded__WEBPACK_IMPORTED_MODULE_8___default","ListItemTextStyled","ListItemText","ellipsis","ListItemInfo","defaultProps","string","Wrapper","PageLoader","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_1___default","module","exports","__webpack_require__","p","myFragment","SEARCH_USERS","SocialWrapper","Button","rgba","Social","Fab","SocialButton","component","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__","RadioFormControlStyled","FormControl","RadioGroupStyled","RadioGroup","FormInputRadio","values","validate","initialValue","validateField","onChange","formik__WEBPACK_IMPORTED_MODULE_7__","value","field","fullWidth","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_12___default","shrink","event","lodash_map__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_11___default","control","_material_ui_core_Radio__WEBPACK_IMPORTED_MODULE_8___default","gqlMutation","mutationProps","containerProps","mutationContainerPropsKey","mutationContainerProps","lodash_has__WEBPACK_IMPORTED_MODULE_4___default","lodash_get__WEBPACK_IMPORTED_MODULE_5___default","react__WEBPACK_IMPORTED_MODULE_6___default","react_apollo__WEBPACK_IMPORTED_MODULE_7__","gqlQuery","queryProps","queryContainerPropsKey","queryContainerProps","gqlSubscription","subscriptionProps","subscriptionContainerPropsKey","subscriptionContainerProps","subscription","path","unit","lodash_get__WEBPACK_IMPORTED_MODULE_1___default","num","defaultPadding","theme","createMuiTheme","typography","useNextVariants","GlobalStyle","createGlobalStyle","reset","ListPanelFooter","ContactPanelFooter","toggleSearchDialog","_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_icons_AddRounded__WEBPACK_IMPORTED_MODULE_6___default","SocialMediaWrapper","SocialMediaNote","SocialMedia","note","_Facebook__WEBPACK_IMPORTED_MODULE_2__","_Google__WEBPACK_IMPORTED_MODULE_3__","searchUsers","getMyContacts","createChat","SearchDialogContainer","AppRoute","Layout","layout","privateRoute","redirect","react__WEBPACK_IMPORTED_MODULE_4___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","_PrivateRoute__WEBPACK_IMPORTED_MODULE_7__","func","object","bool","createBrowserHistory","Paper","InfoPanel","Chats","selected","sendedIds","checkRoute","search","location","queryString","parse","chatId","selectChat","changeRoute","history","push","updateSendedIds","optimisticId","action","lodash_concat__WEBPACK_IMPORTED_MODULE_6___default","lodash_filter__WEBPACK_IMPORTED_MODULE_4___default","lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default","_this2","react__WEBPACK_IMPORTED_MODULE_11___default","_context_AppProvider__WEBPACK_IMPORTED_MODULE_20__","Consumer","user","fetching","_smart_ChatsContainer__WEBPACK_IMPORTED_MODULE_23__","messageAddedSubscriptionProps","addMessageProps","onCompleted","addMessage","_ref5","_ref5$getMyChats","getMyChats","_ref5$getMyChats$data","fetchMoreMessages","fetchMore","_ref5$addMessage","selectedContact","lodash_find__WEBPACK_IMPORTED_MODULE_8___default","selectedChat","square","elevation","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_16___default","container","spacing","xs","lg","_common_ContactPanel_ContactPanel__WEBPACK_IMPORTED_MODULE_21__","contacts","chats","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_18___default","xsDown","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_10___default","_common_MessagePanel_MessagePanel__WEBPACK_IMPORTED_MODULE_22__","skip","updateQuery","_ref6","chatMessages","fetchMoreResult","updatedMyChats","lodash_map__WEBPACK_IMPORTED_MODULE_7___default","messages","updatedMessages","lodash_set__WEBPACK_IMPORTED_MODULE_5___default","optimisticResponse","__typename","optimistic","type","seen","edited","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_19___default","mdDown","withRouter","FormInputPassword","showPassword","toggleShowPassword","validType","_FormInput__WEBPACK_IMPORTED_MODULE_13__","_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_10___default","_material_ui_icons_VisibilityRounded__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_icons_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_12___default","SubmitButton","FormSubmit","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_3___default","withNotification","WrappedComponent","_temp","_Component","_getPrototypeOf2","_classCallCheck","_len","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","open","toggleNotification","updatedState","lodash_set__WEBPACK_IMPORTED_MODULE_4___default","_inherits","_createClass","react__WEBPACK_IMPORTED_MODULE_5__","_Notification__WEBPACK_IMPORTED_MODULE_6__","toggle","__reactstandin__regenerateByEval","code","eval","InputWrapper","InputError","FormHelperText","FormInput","placeholder","required","autoComplete","isError","onBlur","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_13___default","htmlFor","_material_ui_core_Input__WEBPACK_IMPORTED_MODULE_12___default","inputProps","onKeyDown","target","blur","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","e","keys","Object","resolve","FormWrapper","form","Form","validationSchema","asyncValidationFields","asyncValidationField","validation","graphQLErrors","lodash_find__WEBPACK_IMPORTED_MODULE_10___default","yup","_this$props2","setFieldError","_graphQLErrors$","invalidField","_this$props3","fields","errors","touched","handleChange","handleBlur","handleSubmit","submitButtonText","react__WEBPACK_IMPORTED_MODULE_12___default","onSubmit","lodash_map__WEBPACK_IMPORTED_MODULE_11___default","_AsyncFormInput__WEBPACK_IMPORTED_MODULE_20__","_FormInputPassword__WEBPACK_IMPORTED_MODULE_18__","_FormInputRadio__WEBPACK_IMPORTED_MODULE_19__","_FormInput__WEBPACK_IMPORTED_MODULE_17__","_FormSubmit__WEBPACK_IMPORTED_MODULE_21__","withFormik","mapPropsToValues","initialValues","validateOnChange","validateOnBlur","Header","Typography","SignUp","signUpAsyncValidationUsername","signUpAsyncValidationEmail","signUp","signUpCompletion","signUpBySocial","align","gutterBottom","_RegFormStepper__WEBPACK_IMPORTED_MODULE_8__","_common_Form_Form__WEBPACK_IMPORTED_MODULE_5__","formConfig","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_7__","Facebook","blue","react_facebook_login_dist_facebook_login_render_props__WEBPACK_IMPORTED_MODULE_1___default","appId","callback","userID","first_name","last_name","faFacebook","NoContactInfo","ContactPanel","searchDialog","searchValue","onChangeSearchValue","sortContacts","upperName","lodash_upperCase__WEBPACK_IMPORTED_MODULE_3___default","upperSearchValue","indexOf","sortedContacts","react__WEBPACK_IMPORTED_MODULE_8___default","_AppList_ListSearch__WEBPACK_IMPORTED_MODULE_14__","_AppList_List__WEBPACK_IMPORTED_MODULE_15__","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_12___default","lodash_find__WEBPACK_IMPORTED_MODULE_5___default","_ContactPanelItem__WEBPACK_IMPORTED_MODULE_16__","_ContactPanelFooter__WEBPACK_IMPORTED_MODULE_17__","_SearchDialog__WEBPACK_IMPORTED_MODULE_18__","MessagePanelList","List","MessagePanelListItem","ListItem","MessagePanelListItemMessageWrapper","alignItems","MessagePanelHistoryDivider","grey","MessagePanelMessage","isMyMessage","_defineProperty","isAdding","MessagePanelSystemMessage","MessagePanelMessageTime","MessagePanelLoading","MessagePanelMessages","prevMessageTime","disablePadding","react__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_11___default","lodash_map__WEBPACK_IMPORTED_MODULE_5___default","isSystem","isFirst","lodash_findIndex__WEBPACK_IMPORTED_MODULE_4___default","lodash_includes__WEBPACK_IMPORTED_MODULE_3___default","divider","isSameDay","messageHistoryDateParser","SearchIconWrapper","SearchInput","InputBase","ListSearch","autoFocus","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_4___default","RegContainer","MessagePanelSubmitProgress","LinearProgressStyled","LinearProgress","MessagePanelCommentAvatar","MessagePanelCommentForm","MessagePanelCommentInput","Input","MessagePanelCommentSmiles","orange","MessagePanelCommentSubmit","MessagePanelComment","submitButtonRef","createRef","inputRef","preventDefault","submit","clear","current","focus","click","_this$props$avatars","avatars","_ContactPanel_AppList_ListItemAvatar__WEBPACK_IMPORTED_MODULE_14__","_material_ui_icons_MoodRounded__WEBPACK_IMPORTED_MODULE_8___default","fontSize","multiline","_material_ui_core_RootRef__WEBPACK_IMPORTED_MODULE_11___default","rootRef","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_SendRounded__WEBPACK_IMPORTED_MODULE_9___default","AvatarIndicator","green","ListItemAvatar","alt","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_4___default","addMessageUpdate","notifyOnNetworkStatusChange","messageAddedSubscription","messageAdded","ContactsContainer","cache","InMemoryCache","initialState","sessionExpired","initData","writeData","AppContext","createReactContext","AppProvider","setUser","setFetching","Provider","ListItemStyled","AppListItem","httpLink","createUploadLink","uri","wsClient","SubscriptionClient","reconnect","subscriptionMiddleware","applyMiddleware","_applyMiddleware","options","tokens","getTokens","_x2","wsLink","WebSocketLink","subscriptionClient","use","networkLink","split","_getMainDefinition","getMainDefinition","kind","operation","authLink","ApolloLink","forward","setContext","headers","x-token","x-refresh-token","refreshToken","tokenLink","response","context","getContext","setTokens","errorLink","onError","_ref2$networkError","networkError","statusCode","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default","console","log","logger","operationName","link","from","NotificationMessageIcon","_material_ui_icons_Error__WEBPACK_IMPORTED_MODULE_10___default","_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_9___default","NotificationMessageWrapper","NotificationContentWrapper","SnackbarContent","amber","NotificationMessage","NotificationClose","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_8___default","aria-label","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_11___default","NotificationContent","aria-describedby","Notification","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_6___default","onClose","reason","anchorOrigin","horizontal","vertical","autoHideDuration","TransitionProps","direction","MessagePanelTopBarName","MessagePanelTopBarStatus","MessagePanelTopBar","statusText","isOnline","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_icons_SearchRounded__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_icons_SettingsRounded__WEBPACK_IMPORTED_MODULE_7___default","createTokenMethods","localStorage","setItem","getItem","remove","removeItem","removeTokens","ListStyled","AppList","LoginLayout","importedComponent","then","bind","LoadingComponent","AppLayout","Promise","all","NotFoundLayout","Routes","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_AppRoute__WEBPACK_IMPORTED_MODULE_9__","Login","Reg","exact","Redirect","NotFound","SignUpButton","LoginForm","toSignUp","_material_ui_icons_AccountCircleRounded__WEBPACK_IMPORTED_MODULE_5___default","_common_Form_Form__WEBPACK_IMPORTED_MODULE_7__","_common_SocialMedia_SocialMedia__WEBPACK_IMPORTED_MODULE_9__","Grid","backgrounds","bgImage","handleSuccess","handleError","_smart_LoginContainer__WEBPACK_IMPORTED_MODULE_7__","signInProps","signInBySocialProps","justify","_LoginForm__WEBPACK_IMPORTED_MODULE_8__","ListWrapper","SubTitle","ProgressWrapper","SearchDialog","confirmDialog","selectedUser","refetch","closeConfirmDialog","_smart_SearchDialogContainer__WEBPACK_IMPORTED_MODULE_14__","searchUsersProps","_ref3$searchUsers","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_8___default","scroll","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_10___default","_AppList_ListSearch__WEBPACK_IMPORTED_MODULE_15__","_AppList_List__WEBPACK_IMPORTED_MODULE_16__","lodash_find__WEBPACK_IMPORTED_MODULE_3___default","_SearchDialogListItem__WEBPACK_IMPORTED_MODULE_17__","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_12___default","App","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","_context_AppProvider__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_0__","_styles__WEBPACK_IMPORTED_MODULE_6__","_router__WEBPACK_IMPORTED_MODULE_5__","hot","ApolloClient","credentials","onResetStore","setActiveStep","_smart_RegContainer__WEBPACK_IMPORTED_MODULE_11__","signUpProps","signUpCompletionProps","signUpBySocialProps","ref","_RegForm__WEBPACK_IMPORTED_MODULE_12__","Content","ContentIcon","_material_ui_icons_SentimentDissatisfiedRounded__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3___default","renderApp","react_apollo__WEBPACK_IMPORTED_MODULE_4__","apollo","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","document","getElementById","formFields","signUpStepOne","signUpStepTwo","formValidationSchemas","shape","lodash_transform__WEBPACK_IMPORTED_MODULE_3___default","res","min","max","typeError","formInitialValues","formName","lodash_forEach__WEBPACK_IMPORTED_MODULE_2___default","lodash_set__WEBPACK_IMPORTED_MODULE_1___default","formId","WrapperPaper","MessagePanel","getMessages","initial","uuid","Date","lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default","userLastDateParser","myAvatarText","contactAvatarText","_MessagePanelTopBar__WEBPACK_IMPORTED_MODULE_8__","_MessagePanelMessages__WEBPACK_IMPORTED_MODULE_9__","_MessagePanelComment__WEBPACK_IMPORTED_MODULE_10__","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default","firstLater","lodash_upperCase__WEBPACK_IMPORTED_MODULE_2___default","lastLater","historyDateParser","date","moment","format","shortMessageTimeParser","calendar","sameDay","lastDay","lastWeek","sameElse","referenceDate","b","isSame","icqBeepPlay","play","getBase64","file","rej","reader","FileReader","readAsDataURL","onload","onerror"],"mappings":"mPAQA,QAAMA,EAAS,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAASC,EAAZF,EAAYE,SAAZ,OACbC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,OAAO,SAASC,MAAOC,IAAI,MACjCN,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CACEO,MAAM,gBACNC,SAAUC,2EACVC,UAAW,SAAAC,GAAA,IAAAC,EAAAD,EACTE,WACYC,EAFHF,EAEPG,SACAC,EAHOJ,EAGPI,MACWC,EAJJL,EAIPM,UACYC,EALLP,EAKPQ,WALO,OAOLtB,EAAS,CACbuB,UAAW,CACTlB,OAAQ,CACNW,KACAQ,KAAM,UAERC,QAAS,CACPP,QACAC,YACAE,gBAINK,OAAQ,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OACN3B,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CAAc9B,QAASA,EAAS6B,QAASA,EAASE,KAAMC,aAMjDlC,EAAAmC,EAAA,+DAhCTnC,6sICDN,IAAMoC,aAAe,CACnBC,MAAOvB,WACPwB,QAASxB,kBAGEyB,WAAU,eAAAtC,EAAAuC,kBAAAC,mBAAAC,KAAG,SAAAC,EAAON,GAAP,IAAAO,EAAAC,EAAAC,EAAA9B,EAAA+B,EAAAC,EAAAC,UAAA,OAAAR,mBAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAcT,EAAdI,EAAAM,OAAA,QAAAC,IAAAP,EAAA,IAAAA,EAAA,GAA2BH,EAA3BG,EAAAM,OAAA,QAAAC,IAAAP,EAAA,GAAAA,EAAA,GAAwC,QAAxCG,EAAAC,KAAA,EAEjBf,EAFiB,CAAAc,EAAAE,KAAA,cAGd,IAAIG,MAAM,sBAHI,cAKhBV,EAASV,aAAaS,GALNM,EAAAE,KAAA,EAMgBI,oDAAIC,OAAOrB,EAAOS,GANlC,cAAA9B,EAAAmC,EAAAQ,KAMNZ,EANM/B,EAMd4C,KAAQb,UAEZH,GACFiB,wCAAQxB,MAAMO,IAAIP,GATEc,EAAAW,OAAA,SAWf,CAAEf,cAXa,eAAAI,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAAAA,EAAAW,OAAA,SAaf,CAAEf,UAAW,KAbE,yBAAAI,EAAAa,SAAArB,EAAAsB,KAAA,aAAH,gBAAAC,GAAA,OAAAjE,EAAAkE,MAAAF,KAAAhB,YAAA,GAiBjBmB,yRACJC,MAAQ,CACNxC,QAAQ,EACRyC,MAAM,EACNC,OAAQ,gRAIFlC,EAAQwB,wCAAQxB,MAAMmC,iDAIIjC,WAAWF,GAAO,mBAAtCU,cAERkB,KAAKQ,SAAS,CACZ5C,QAAQ,EACRyC,MAAM,EACNC,OAAQxB,iGAMZkB,KAAKQ,SAAS,CACZ5C,QAAQ,iJAKL,IAAA6C,EAC0BT,KAAKI,MAA9BxC,EADD6C,EACC7C,OAAQyC,EADTI,EACSJ,KAAMC,EADfG,EACeH,OACdI,EAAaV,KAAKW,MAAlBD,SAER,OAEqB9C,EAEKyC,EAGDA,GAAmB,gBAAXC,EACvBM,2CAAAxE,EAAAC,cAACwE,8CAAA,EAAD,CAAUC,GAAE,aAAAC,OAAenB,wCAAQxB,MAAMmC,SAGxCG,EANDE,2CAAAxE,EAAAC,cAACwE,8CAAA,EAAD,CAAUC,GAAG,UAUP,gJAhDOE,8CAsD3Bb,aAAac,UAAY,CACvBP,SAAUQ,kDAAUC,UAAU,CAACD,kDAAUE,QAASF,kDAAUG,OAAOC,yBAGtDnB,wCAAAjC,oBAAA,2JAhFTC,8JAKOG,0JAiBP6B,mgCChBN,QAAMoB,EAAkBC,kBAAO,SAAAxF,KAAGyF,WAAH,IAAkBC,EAAlBC,EAAA3F,EAAA,uBAA6B4F,EAAAxF,EAAAC,cAACwF,EAAAzF,EAAasF,KAArDI,WAAA,CAAAC,YAAA,oCAAAC,YAAA,gBAAGR,CAAH,kHAGDS,YAAW,GACzB,SAAAlF,GAAA,OAAAA,EAAG0E,YAAgC,CACnCS,mBAAoB,OACpBC,gBAAiBC,YAAe,2BAA4B,QAK3CA,YAAe,2BAA4B,OAM5DC,EAAuBb,UAAOc,IAAVR,WAAA,CAAAC,YAAA,yCAAAC,YAAA,gBAAGR,CAAH,2IAMtBe,YAAS,WAAY,EAAG,EAAG,EAAG,MACvBH,YAAe,2BAKpBI,EAAkBhB,UAAOiB,KAAVX,WAAA,CAAAC,YAAA,oCAAAC,YAAA,gBAAGR,CAAH,iDAMfkB,EAAmBlB,UAAOc,IAAVR,WAAA,CAAAC,YAAA,qCAAAC,YAAA,gBAAGR,CAAH,wJAQA/E,IAAI,MAIpBkG,EAAmB,SAAA9E,GAMnB,IALJ+E,EAKI/E,EALJ+E,KACAC,EAIIhF,EAJJgF,QACAC,EAGIjF,EAHJiF,QACAC,EAEIlF,EAFJkF,SACAtB,EACI5D,EADJ4D,WAEQuB,EAAgCH,EAAhCG,OAAQjB,EAAwBc,EAAxBd,YAAazB,EAAWuC,EAAXvC,OACvB2C,EAAaC,YAAkBL,GAC/BM,EAAoB,WAAX7C,EACP8C,EAA4BN,EAA5BM,SAAUC,EAAkBP,EAAlBO,QAASC,EAASR,EAATQ,KAErBC,EADcH,IAAaR,EACJ,QAAA7B,OACjBsC,GACRA,EAEJ,OACEzB,EAAAxF,EAAAC,cAACkF,EAAD,CAAiBE,WAAYA,EAAY3D,QAASiF,GAChDnB,EAAAxF,EAAAC,cAACmH,EAAA,EAAD,CAAmBC,IAAKT,GAAUA,EAAOU,GAAIC,KAAMV,EAAYE,OAAQA,IACvEvB,EAAAxF,EAAAC,cAACuH,EAAA,EAAD,CAAiBC,QAAS9B,EAAawB,UAAWA,IAClD3B,EAAAxF,EAAAC,cAACgG,EAAD,KACET,EAAAxF,EAAAC,cAACmG,EAAD,KAAkBsB,YAAkBR,SAO7BX,EAAAzE,EAAA,+DA3ETqD,uKAiBAc,4KAYAG,uKAMAE,wKAYAC,w3DCxDC,QAAMoB,EAAcC,IAAHC,IAWpBC,IACAC,KAGSC,EAA4BJ,IAAHK,IAWlCH,IACAC,KAISG,EAAoBN,IAAHO,IAM1BC,KAGSC,EAAcT,IAAHU,IAWpBF,KAGSG,EAA6BX,IAAHY,IAUnCJ,OAGW,CACbT,cACAK,4BACAE,oBACAG,cACAE,8BALazG,EAAA,+DAnEF6F,0HAeAK,wIAgBAE,gIASAG,0HAcAE,i1CClDXE,EASEb,IATFa,OACAC,EAQEd,IARFc,iBACAV,EAOEJ,IAPFI,0BACAW,EAMEf,IANFe,SACAC,EAKEhB,IALFgB,aACAC,EAIEjB,IAJFiB,gBACAC,EAGElB,IAHFkB,yBACAC,EAEEnB,IAFFmB,2BACAC,EACEpB,IADFoB,cAGWC,EAAoB,SAACC,EAADtJ,GAA+B,IAApB6G,EAAoB7G,EAApB6G,QAAS0C,EAAWvJ,EAAXuJ,KAAWC,EAC9BF,EAAOG,UAAU,CAAEC,MAAOV,IAAlDW,EADsDH,EACtDG,WAAYC,EAD0CJ,EAC1CI,QAEpBN,EAAOO,WAAW,CAChBH,MAAOV,EACPrF,KAAM,CACJgG,WAAYG,IAAOH,EAAY9C,GAC/B+C,QAASE,IAAOF,EAASL,OAKzBQ,EAAiBC,YAAY,iBAAkBlB,GAC/CmB,EAAyBD,YAAY,yBAA0Bd,GAC/DgB,EAA0BC,YAAmB,0BAA2B/B,EAA2B,CACvGgC,mBADuG,SAAArJ,GAC3B,IAAvDuI,EAAuDvI,EAAvDuI,OAAoCe,EAAmBtJ,EAA/CuJ,iBAAoB3G,KAAQ0G,YACvDhB,EAAkBC,EAAQe,MAGxBE,EAA2BJ,YAAmB,2BAA4BhB,EAA4B,CAC1GiB,mBAD0G,SAAAvI,GACtB,IAA/DyH,EAA+DzH,EAA/DyH,OAAoCkB,EAA2B3I,EAAvDyI,iBAAoB3G,KAAQ6G,oBAC/CC,EAA6BD,EAA7BC,OAAQnG,EAAqBkG,EAArBlG,OAAQoG,EAAaF,EAAbE,SAChBf,EAAeL,EAAOG,UAAU,CAAEC,MAAOT,IAAzCU,WACIgB,EAAcC,IAAKjB,EAAa,CAAEkB,SAAU,CAAE3J,GAAIuJ,KAAtDvJ,GAEF4J,EAAWC,IACX7J,EAAE,aAAA6D,OAAgB4F,GAN0DK,EAOpD1B,EAAO2B,aAAa,CAAEH,WAAU5J,OAAtD2J,EAP0EG,EAO1EH,SAAanF,EAP6DC,EAAAqF,EAAA,cASlF1B,EAAO4B,cAAc,CACnBJ,WACA5J,KACAyC,KAAIwH,EAAA,CACFN,SAAQM,EAAA,GACHN,EADG,CAENvG,SACAoG,cAEChF,QAKL0F,EAAUC,YAAe,UAAWtC,GACpCuC,EAAeD,YAAe,eAAgBjC,EAAe,CACjEmC,OADiE,SAC1DjC,EAD0DkC,GACd,IAAZxE,EAAYwE,EAAlC7H,KAAQ2H,aACfG,EAAOnC,EAAOG,UAAU,CAAEC,MAAOb,IAAjC4C,GACRC,IAAID,EAAI,SAAUzE,GAElBsC,EAAOO,WAAW,CAChBH,MAAOb,EACPlF,KAAM,CACJ8H,WAMFE,EAAqBC,YAAM,CAC/B1B,0BACAK,2BACAR,iBACAE,yBACAmB,UACAE,mBAGaK,EAAAzJ,EAAA,+DA9Eb2G,iJACAC,2JACAV,oKACAW,mJACAC,uJACAC,0JACAC,mKACAC,qKACAC,wJAGWC,4JAYPU,yJACAE,iKACAC,kKAKAK,mKAwBAa,kJACAE,uJAcAK,+6DCzEN,QAAME,EAAU7D,IAAHC,IAMT6D,KAGEC,EAAoB/D,IAAHK,IAMnByD,KAGEE,EAA2BhE,IAAHO,KASxB0D,EAAUjE,IAAHU,KAMPwD,EAAqBlE,IAAHY,IAMpBkD,KAGEK,EAAoBnE,IAAHoE,IAMnBN,KAGE/C,EAAWf,IAAHqE,KAMRnD,EAA2BlB,IAAHsE,OAMf,CACbT,UACAE,oBACAC,2BACAC,UACAC,qBACAC,oBACApD,WACAG,4BARahH,EAAA,+DA/DT2J,sHASAE,gIASAC,uIASAC,sHAMAC,iIASAC,gIASApD,uHAMAG,gaC7DN,QAAMqD,EAAU,IAAIC,MAAM,ooXAEXD,EAAArK,EAAA,+DAFTqK,+ZCKEV,EAA+B7D,IAA/B6D,QAASE,EAAsB/D,IAAtB+D,kBAEXU,EAASpB,YAAe,SAAUQ,GAClCa,EAAiBrB,YAAe,iBAAkBU,GAElDY,EAAiBf,YAAM,CAC3Ba,SACAC,qBAGaC,EAAAzK,EAAA,+DAVP2J,8IAASE,wJAEXU,6IACAC,qJAEAC,suKCFAC,qSACJxI,MAAQ,CACNyI,YAAY,KAcdC,cAAgB,SAACC,GACfC,EAAKxI,SAAS,CAAEqI,WAAYE,6HAZXE,GAAW,IAAAC,EACQlJ,KAAKW,MAAjCwI,OAAUxJ,EADUuJ,EACVvJ,KAAMyJ,EADIF,EACJE,OAEnBH,EAAUE,OAAOxJ,MAAQA,GAC5BK,KAAK8I,eAAc,IAEhBG,EAAUE,OAAOC,OAASA,GAC7BpJ,KAAK8I,eAAc,oCAQd,IACCD,EAAe7I,KAAKI,MAApByI,WADDQ,EAEkCrJ,KAAKW,MAA5B1E,EAFXoN,EAECF,OAAUlN,QAAcyF,EAFzBC,yBAAA0H,EAAA,YAIP,OACEC,2CAAAlN,EAAAC,cAACkN,yCAAA,EAADC,SAAA,GACM9H,EADN,CAEE+H,cACGxN,GAAW4M,IAEVS,2CAAAlN,EAAAC,cAACqN,sEAAAtN,EAAD,CAAgBmG,SAAS,OAEJtG,EACfqN,2CAAAlN,EAAAC,cAACsN,yEAAAvN,EAAD,CAAkBwN,KAAM,MAER3N,GAAW4M,EAC3BS,2CAAAlN,EAAAC,cAACwN,qEAAAzN,EAAD,CAAWI,MAAM,WAEP,sJAtCCsN,2DAgDdlB,0CAAA1K,oBAAA,2JAhDT0K,ymBCON,QAAMmB,EAAuB,SAAA/N,GAKvB,IAJJgO,EAIIhO,EAJJgO,KACAC,EAGIjO,EAHJiO,kBACAC,EAEIlO,EAFJkO,OACAC,EACInO,EADJmO,MAEQnH,EAAkCgH,EAAlChH,OAAQjB,EAA0BiI,EAA1BjI,YAAaqI,EAAaJ,EAAbI,SACvBnH,EAAaC,YAAkB8G,GAC/BzG,EAAS,IAAAxC,OAAOqJ,GAEtB,OACEjO,EAAAC,EAAAC,cAACgO,EAAA,EAAD,KACElO,EAAAC,EAAAC,cAACiO,EAAA,EAAD,CAAmB7G,IAAKT,EAAQW,KAAMV,EAAYE,QAAQ,IAC1DhH,EAAAC,EAAAC,cAACkO,EAAA,EAAD,CAAiB1G,QAAS9B,EAAawB,UAAWA,IAClDpH,EAAAC,EAAAC,cAACmO,EAAApO,EAAD,CACEI,MAAM,UACNiO,QAAQ,YACRb,KAAK,QACL9L,QAAS,kBAAMmM,EAAkBD,IACjCU,SAAUP,GAGSD,EACf/N,EAAAC,EAAAC,cAACsO,EAAAvO,EAAD,CAAkBwN,KAAM,GAAIpN,MAAM,YAEnB2N,EACfhO,EAAAC,EAAAC,cAACuO,EAAAxO,EAAD,MAZN,WAuBS2N,EAAA7L,EAAA,+DArCT6L,goBCFN,QAAMc,EAAkBrJ,kBAAOsJ,KAAVhJ,WAAA,CAAAC,YAAA,kCAAAC,YAAA,gBAAGR,CAAH,oBAMfuJ,EAAiB,SAAA/O,GAAA,IAAGgP,EAAHhP,EAAGgP,WAAYC,EAAfjP,EAAeiP,MAAf,OACrBC,EAAA9O,EAAAC,cAAC8O,EAAA/O,EAAD,CAASgP,kBAAgB,EAACJ,WAAYA,GAElCK,IAAIJ,EAAO,SAACK,EAAOC,GACjB,IAAMC,EAAWR,IAAeO,EAC1BE,EAAcF,EAAQP,EACtBU,EAAcD,GAAgBD,EAEhC,UADA,WAEEG,EAAOJ,EAAQ,EAErB,OACEL,EAAA9O,EAAAC,cAACuP,EAAAxP,EAAD,CACEyP,IAAKN,EACLO,OAAQN,EACRO,UAAWN,GAEXP,EAAA9O,EAAAC,cAACwO,EAAD,CACE7M,KAEqByN,EACfP,EAAA9O,EAAAC,cAAC2P,EAAA5P,EAAD,CAAiBI,MAAOkP,IAEA,IAATC,EACfT,EAAA9O,EAAAC,cAAC4P,EAAA7P,EAAD,CAAmBI,MAAOkP,IAG1BR,EAAA9O,EAAAC,cAAC6P,EAAA9P,EAAD,CAAUI,MAAOkP,KAKvBR,EAAA9O,EAAAC,cAAA,oBAAA0E,OAAe4K,EAAf,MACAT,EAAA9O,EAAAC,cAAA,SAAIiP,WASHP,EAAA7M,EAAA,+DAhDT2M,0JAMAE,2fCVN,IAAMoB,EAAqB3K,kBAAO4K,KAAVtK,WAAA,CAAAC,YAAA,mCAAAC,YAAA,YAAGR,CAAH,qEAIPS,YAAW,GAGpBoK,YAAS,SAKXC,EAAe,SAAAtQ,GAAA,IAAG6H,EAAH7H,EAAG6H,QAASN,EAAZvH,EAAYuH,UAAZ,OACnBpH,EAAAC,EAAAC,cAAC8P,EAAD,CAAoBtI,QAASA,EAASN,UAAWA,KAGnD+I,EAAaC,aAAe,CAC1B1I,QAAS,GACTN,UAAW,IAEb+I,EAAarL,UAAY,CACvB4C,QAAS3C,IAAUsL,OACnBjJ,UAAWrC,IAAUsL,kBAGRF,EAAApO,EAAA,+DAzBTiO,+KAYAG,4fChBN,QAAMG,EAAUjL,UAAOc,IAAVR,WAAA,CAAAC,YAAA,sBAAAC,YAAA,gBAAGR,CAAH,wCACTe,YAAS,WAAY,MAAO,KAAM,KAAM,QAItCmK,EAAa,kBACjBvQ,EAAAC,EAAAC,cAACoQ,EAAD,KACEtQ,EAAAC,EAAAC,cAACsQ,EAAAvQ,EAAD,CAAkBwN,KAAM,SAIb8C,EAAAxO,EAAA,+DAXTuO,2IAKAC,sUCVNE,EAAAC,QAAiBC,EAAAC,EAAuB,yhDCIxC,QAAMjI,EAAmBd,IAAHC,IAYlBC,IACAC,IACA6I,KAGEnI,EAASb,IAAHK,IAMR2I,KAGE/H,EAAkBjB,IAAHO,IAMjBL,KAGEc,EAAehB,IAAHU,IASdR,IACAC,KAGE8I,EAAejJ,IAAHY,IAMdoI,KAGE7H,EAA6BnB,IAAHoE,KAU1BhD,EAAgBpB,IAAHqE,OASJ,CACbvD,mBACAD,SACAI,kBACAD,eACAiI,eACA9H,6BACAC,iBAPalH,EAAA,+DA5ET4G,+HAiBAD,qHASAI,8HASAD,2HAaAiI,2HASA9H,yIAUAC,sZCjEN,QAAM8H,EAAgB1L,UAAOc,IAAVR,WAAA,CAAAC,YAAA,wBAAAC,YAAA,gBAAGR,CAAH,oHAOf2L,IACoB,SAAAnR,GAAA,OAAAA,EAAGQ,OAGD,SAAAO,GAAA,IAAGP,EAAHO,EAAGP,MAAH,OAAe4Q,YAAK5Q,EAAO,MAK/C6Q,EAAS,SAAAxP,GAAA,IAAGtB,EAAHsB,EAAGtB,OAAQC,EAAXqB,EAAWrB,MAAOkE,EAAlB7C,EAAkB6C,SAAlB,OACbvE,EAAAC,EAAAC,cAAC6Q,EAAD,CACErB,IAAKtP,EACLC,MAAOA,GAENkE,MAIU2M,EAAAnP,EAAA,+DAzBTgP,0JAgBAG,ofCfC,QAAMF,EAAS3L,kBAAO8L,KAAVxL,WAAA,CAAAC,YAAA,uBAAAC,YAAA,gBAAGR,CAAH,qBAMb+L,EAAe,SAAAvR,GAAA,IAAGC,EAAHD,EAAGC,QAAS6B,EAAZ9B,EAAY8B,QAASE,EAArBhC,EAAqBgC,KAArB,OACnB7B,EAAAC,EAAAC,cAAC8Q,EAAD,CAAQzC,SAAUzO,EAAS2N,KAAK,QAAQ9L,QAASA,EAAS0P,UAAWF,KACnEnR,EAAAC,EAAAC,cAACoR,EAAA,EAAD,CAAiBzP,KAAMA,EAAM4L,KAAK,WAIvB2D,EAAArP,EAAA,+DAZFiP,yJAMPI,o1BCDN,QAAMG,EAAyBlM,kBAAOmM,KAAV7L,WAAA,CAAAC,YAAA,yCAAAC,YAAA,eAAGR,CAAH,gDAOtBoM,EAAmBpM,kBAAOqM,KAAV/L,WAAA,CAAAC,YAAA,mCAAAC,YAAA,eAAGR,CAAH,sFAShBsM,EAAiB,SAAA9R,GAAA,IACrB0B,EADqB1B,EACrB0B,KAEA4N,EAHqBtP,EAGrBsP,MACAyC,EAJqB/R,EAIrB+R,OAOAC,GAXqBhS,EAKrBiS,aALqBjS,EAWrBgS,UACAE,EAZqBlS,EAYrBkS,cACAC,EAbqBnS,EAarBmS,SAbqB,OAiBrBvN,EAAAxE,EAAAC,cAAC+R,EAAA,EAAD,CAAO1Q,KAAMA,EAAMsQ,SAAU,SAAAK,GAAK,OAAIL,EAASK,EAAO3Q,KACnD,SAAAX,GAAA,IAAGuR,EAAHvR,EAAGuR,MAAH,OACC1N,EAAAxE,EAAAC,cAACqR,EAAD,CAAwBjD,QAAQ,WAAW8D,WAAS,GAClD3N,EAAAxE,EAAAC,cAACmS,EAAApS,EAAD,CAAYqS,QAAM,GAAEnD,GACpB1K,EAAAxE,EAAAC,cAACuR,EAADpE,EAAA,GACM8E,EADN,CAEE5Q,KAAMA,EACNyQ,SAAU,SAACO,GACTR,EAAcxQ,GAEdyQ,EAASO,MAGVC,IAAIZ,EAAQ,SAAAM,GAAK,OAChBzN,EAAAxE,EAAAC,cAACuS,EAAAxS,EAAD,CACEyP,IAAKwC,EACLA,MAAOA,EACPQ,QAASjO,EAAAxE,EAAAC,cAACyS,EAAA1S,EAAD,MACTkP,MAAO+C,aASNP,EAAA5P,EAAA,+DA5DTwP,oKAOAE,8JASAE,0vCCxBC,QAAMzG,EAAiB,SAAC3J,EAAMqR,GAAP,IAAoBC,EAApBhQ,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAoC,GAApC,OAA2C,SAACiQ,GACxE,IAAMC,EAAyB,GAAAnO,OAAMrD,EAAN,SACzByR,EAAyBC,IAAIH,EAAgBC,GAC/CG,IAAIJ,EAAgBC,GACpB,GACItR,EAAWqR,EAAXrR,OAER,OACE0R,EAAAlT,EAAAC,cAACkT,EAAA,SAAD/F,EAAA,CACEtN,SAAU6S,GACNC,EACAG,GAEH,SAACjT,EAAUiN,GAAX,OAAsBvL,EAAO,CAC5B1B,WACAiN,SACAzL,aAMKsI,EAAc,SAACtI,EAAM8R,GAAP,IAAiBC,EAAjBzQ,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAA8B,GAA9B,OAAqC,SAACiQ,GAC/D,IAAMS,EAAsB,GAAA3O,OAAMrD,EAAN,SACtBiS,EAAsBP,IAAIH,EAAgBS,GAC5CL,IAAIJ,EAAgBS,GACpB,GACI9R,EAAWqR,EAAXrR,OAER,OACE0R,EAAAlT,EAAAC,cAACkT,EAAA,MAAD/F,EAAA,CACE9D,MAAO8J,GACHC,EACAE,GAEH,SAAAhP,GAAK,OAAI/C,EAAMuJ,EAAA,GACXxG,EADW,CAEdjD,cAMKyI,EAAqB,SAACzI,EAAMkS,GAAP,IAAwBC,EAAxB7Q,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAA4C,GAA5C,OAAmD,SAACiQ,GACpF,IAAMa,EAA6B,GAAA/O,OAAMrD,EAAN,SAC7BqS,EAA6BX,IAAIH,EAAgBa,GACnDT,IAAIJ,EAAgBa,GACpB,GACIlS,EAAWqR,EAAXrR,OAER,OACE0R,EAAAlT,EAAAC,cAACkT,EAAA,aAAD/F,EAAA,CACEwG,aAAcJ,GACVC,EACAE,GAEH,SAAApP,GAAK,OAAI/C,EAAMuJ,EAAA,GACXxG,EADW,CAEdjD,yEA1DK2J,iIAsBArB,8HAqBAG,s9BCzCN,QAAM/D,EAAiB,SAAC6N,GAAD,IAAOC,EAAPlR,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAc,GAAd,OAAqB,SAAC2B,GAClD,IAAM0N,EAAQ8B,IAAIxP,EAAOsP,GAEzB,OAAIC,EACF,GAAAnP,OAAUsN,GAAVtN,OAAkBmP,GAEb7B,IAEIpM,EAAa,eAACmO,EAADpR,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAO,EAAP,OAAa,SAAC2B,GACtC,IAAM0P,EAAiBjO,EAAe,qBAAfA,CAAqCzB,GAG5D,SAAAI,OAFgBsP,EAAiBD,EAEjC,QAGWE,EAAQC,yBAAe,CAClCC,WAAY,CACVC,iBAAiB,KAIRC,EAAcC,4BAAH1M,IACpB2M,IAUexO,EAAe,+BACjBA,EAAe,6BACbA,EAAe,sCAU1BwH,YAAK,uEA5CAxH,iIAQAH,6HAOAqO,wHAMAI,guGCnBb,IAAMG,gBAAkBrP,uDAAOc,IAAVR,WAAA,CAAAC,YAAA,sCAAAC,YAAA,gBAAGR,CAAH,yDAGRS,+CAAW,IAGlB6O,iUACK,IACCC,EAAuB/Q,KAAKW,MAA5BoQ,mBAER,OACEnP,2CAAAxF,EAAAC,cAACwU,gBAAD,KACEjP,2CAAAxF,EAAAC,cAAC2U,2DAAA5U,EAAD,CAAKI,MAAM,UAAUoN,KAAK,SAAS9L,QAASiT,GAC1CnP,2CAAAxF,EAAAC,cAAC4U,mEAAA7U,EAAD,yJAPuB4E,uDAclB8P,8CAAA5S,oBAAA,2JApBT2S,oMAMAC,4jBCRN,QAAMI,EAAqB1P,UAAOc,IAAVR,WAAA,CAAAC,YAAA,kCAAAC,YAAA,eAAGR,CAAH,uFAQlB2P,EAAkB3P,UAAOuL,EAAVjL,WAAA,CAAAC,YAAA,+BAAAC,YAAA,eAAGR,CAAH,2CAKf4P,EAAc,SAAApV,GAId,IAHJE,EAGIF,EAHJE,SACUD,EAEND,EAFJmN,OAAUlN,QACVoV,EACIrV,EADJqV,KAEA,OACElV,EAAAC,EAAAC,cAAC6U,EAAD,KACE/U,EAAAC,EAAAC,cAAC8U,EAAD,KACGE,GAEHlV,EAAAC,EAAAC,cAACiV,EAAA,EAAD,CAAUrV,QAASA,EAASC,SAAUA,IACtCC,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAQtV,QAASA,EAASC,SAAUA,QAK3BkV,EAAAlT,EAAA,+DA7BTgT,oKAQAC,iKAKAC,ydCZJnE,EAGEjJ,IAHFiJ,aACAlJ,EAEEC,IAFFD,YACAkB,EACEjB,IADFiB,gBAGIuM,EAAcxL,YAAY,cAAeiH,GACzCwE,EAAgBzL,YAAY,gBAAiBf,GAC7CyM,EAAarK,YAAe,aAActD,EAAa,CAC3DwD,OAD2D,SACpDjC,EADoDtJ,GAClC,IAAR2D,EAAQ3D,EAAR2D,KACf0F,YAAkBC,EAAQ3F,EAAK+R,eAI7BC,EAAwB/J,YAAM,CAClC4J,cACAC,gBACAC,iBAGaC,EAAAzT,EAAA,+DAnBb+O,0JACAlJ,yJACAkB,6JAGIuM,yJACAC,2JACAC,wJAMAC,glCCdN,IAAMC,EAAW,SAAA5V,GAOX,IANOgF,EAMPhF,EANJwR,UACQqE,EAKJ7V,EALJ8V,OACAC,EAII/V,EAJJ+V,aACAC,EAGIhW,EAHJgW,SACAlR,EAEI9E,EAFJ8E,GACGY,EACCC,EAAA3F,EAAA,uDACE4B,EAAS,SAAA+C,GAAK,OAClBsR,EAAA7V,EAAAC,cAACwV,EAAD,KACEI,EAAA7V,EAAAC,cAAC2E,EAAcL,KAInB,OACEsR,EAAA7V,EAAAC,cAAC6V,EAAA,EAAD1I,EAAA,GACM9H,EADN,CAEE9D,OAAQ,SAAA+C,GAAK,OAEQqR,EACfC,EAAA7V,EAAAC,cAAC2E,EAAD,CAAWF,GAAIA,IAEAiR,EACfE,EAAA7V,EAAAC,cAAC8V,EAAA,EAAD,KACGvU,EAAO+C,IAIT/C,EAAO+C,QAQpBiR,EAASrF,aAAe,CACtBwF,cAAc,EACdD,OAAQ,KACRE,UAAU,EACVlR,GAAI,IAEN8Q,EAAS3Q,UAAY,CACnBuM,UAAWtM,IAAUC,UAAU,CAACD,IAAUE,QAASF,IAAUG,KAAMH,IAAUkR,OAAO9Q,WACpFwQ,OAAQ5Q,IAAUC,UAAU,CAACD,IAAUkR,KAAMlR,IAAUmR,SACvDN,aAAc7Q,IAAUoR,KACxBN,SAAU9Q,IAAUoR,KACpBxR,GAAII,IAAUsL,kBAGDoF,EAAA1T,EAAA,+DAlDT0T,4XCJSW,cAAArU,EAAA,sOCFf0O,EAAAC,QAAiBC,EAAAC,EAAuB,0yLCuBhCzI,kBAAsBN,qCAAtBM,kBAEFmI,QAAUjL,gEAAOgR,iEAAV1Q,WAAA,CAAAC,YAAA,iBAAAC,YAAA,gBAAGR,CAAH,8CAEPoI,iDAAK,SAML6I,UAAYjR,gEAAOgR,iEAAV1Q,WAAA,CAAAC,YAAA,mBAAAC,YAAA,gBAAGR,CAAH,oFAKAS,gDAAW,GACFG,gDAAe,qCAIjCsQ,6PACJtS,MAAQ,CACNuS,SAAU,KACVC,UAAW,MAyBbC,WAAa,WAAM,IACGC,EAAa9J,EAAKrI,MAA9BoS,SAAYD,OAGpB,OAFmBE,qDAAYC,MAAMH,GAA7BI,UAKVC,WAAa,SAACD,GAAgC,IAAxBE,EAAwBpU,UAAAK,OAAA,QAAAC,IAAAN,UAAA,IAAAA,UAAA,GACpCqU,EAAYrK,EAAKrI,MAAjB0S,QAERrK,EAAKxI,SAAS,CAAEmS,SAAUO,IAEtBE,GACFC,EAAQC,KAAR,iBAAAvS,OAA8BmS,OAIlCK,gBAAkB,SAACC,GAAiC,IAAnBC,EAAmBzU,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAV,MACzB,QAAXyU,EACFzK,EAAKxI,SAAS,SAAAxE,GAAA,IAAG4W,EAAH5W,EAAG4W,UAAH,MAAoB,CAAEA,UAAWc,qDAAOd,EAAWY,MAC7C,WAAXC,GACTzK,EAAKxI,SAAS,SAAAzD,GAAA,IAAG6V,EAAH7V,EAAG6V,UAAH,MAAoB,CAChCA,UAAWe,qDAAOf,EAAW,SAAA1V,GAAE,OAAIA,IAAOsW,2GA3C9C,IAAMb,EAAW3S,KAAK6S,aAElBF,GACF3S,KAAKmT,WAAWR,8CAID1J,GAAW,IACpB8J,EAAa/S,KAAKW,MAAlBoS,SAER,IAAKa,sDAAQ3K,EAAU8J,SAAUA,GAAW,CAC1C,IAAMJ,EAAW3S,KAAK6S,aAEjBF,EAGH3S,KAAKmT,WAAWR,GAFhB3S,KAAKmT,WAAW,wCAkCb,IAAAU,EAAA7T,KAAAS,EACyBT,KAAKI,MAA7BuS,EADDlS,EACCkS,SAAUC,EADXnS,EACWmS,UAElB,OACEkB,4CAAA1X,EAAAC,cAAC0X,mDAAA,EAAWC,SAAZ,KACG,SAAAnW,GAAA,IAAGoW,EAAHpW,EAAGoW,KAAMC,EAATrW,EAASqW,SAAT,OACCJ,4CAAA1X,EAAAC,cAAC8X,oDAAA,EAAD,CACEC,8BAA+B,CAC7B3W,UAAW,CAAEyV,OAAQP,IAEvB0B,gBAAiB,CACfC,YAAa,SAAA9M,GAAsC,IAArBgM,EAAqBhM,EAAnC+M,WAAcf,aAC5BK,EAAKN,gBAAgBC,EAAc,aAItC,SAAAgB,GAUK,IAAAC,EAAAD,EATJE,WASIC,EAAAF,EARF9U,KAAQgG,EAQNgP,EARMhP,WAAYC,EAQlB+O,EARkB/O,QACTgP,EAOTH,EAPFI,UACA5Y,EAMEwY,EANFxY,QAME6Y,EAAAN,EAJJD,WACYA,EAGRO,EAHF5Y,SACmBgO,EAEjB4K,EAFF3L,OAAUlN,QAGN8Y,EAAkBC,mDAAKrP,EAAY,CAAEuN,OAAQP,IAC7CsC,EAAeD,mDAAKpP,EAAS,CAAE1I,GAAIyV,IAEzC,OACEmB,4CAAA1X,EAAAC,cAACoQ,QAAD,CAASyI,QAAM,EAACC,UAAW,GACzBrB,4CAAA1X,EAAAC,cAAC+Y,6DAAAhZ,EAAD,CAAMiZ,WAAS,EAACC,QAAS,GACvBxB,4CAAA1X,EAAAC,cAAC+Y,6DAAAhZ,EAAD,CAAM4N,MAAI,EAACuL,GAAI,GAAI7R,GAAI,EAAG8R,GAAI,GAC5B1B,4CAAA1X,EAAAC,cAACoZ,gEAAA,EAAD,CACExZ,QAASiY,EACTzM,GAAIwM,EACJyB,SAAU/P,EACVgQ,MAAO/P,EACP+M,SAAUA,EACVQ,WAAY,SAAAD,GAAM,OAAIW,EAAKV,WAAWD,GAAQ,OAGlDY,4CAAA1X,EAAAC,cAACuZ,+DAAAxZ,EAAD,CAAQyZ,QAAM,GACZ/B,4CAAA1X,EAAAC,cAAC+Y,6DAAAhZ,EAAD,CAAM4N,MAAI,EAACtG,GAAI,EAAG8R,GAAI,GAEDM,uDAAQnQ,GACtB,KAEegN,EAQhBmB,4CAAA1X,EAAAC,cAAC0Z,gEAAA,EAAD,CACE9Z,QAASA,EACTiO,OAAQA,EACRzC,GAAIwM,EACJpR,QAASkS,EACTxP,KAAM0P,EACNrC,UAAWA,EACXgC,kBAAmB,SAAC1B,EAAQ8C,GAAT,OAAkBpB,EAAkB,CACrDlP,MAAOpB,kBACP7G,UAAW,CAAEyV,SAAQ8C,QACrBC,YAAa,SAAC9W,EAAD+W,GAA+B,IAClCC,EADkCD,EAAtBE,gBACZD,aACFE,EAAiBC,kDAAInX,EAAKyG,QAAS,SAACL,GAAS,IACzCrI,EAAiBqI,EAAjBrI,GAAIqZ,EAAahR,EAAbgR,SAEZ,GAAIrZ,IAAOgW,EAAQ,CACjB,IAAMsD,EAAkB9C,qDAAOyC,EAAcI,GAE7C,OAAOE,kDAAIlR,EAAM,WAAYiR,GAE/B,OAAOjR,IAET,OAAOkR,kDAAItX,EAAMyG,EAASyQ,OAG9B9B,WAAY,SAAC9W,GAAc,IACjBP,EAAO+W,EAAP/W,GAENgW,EAIEzV,EAJFyV,OACA7P,EAGE5F,EAHF4F,QACAC,EAEE7F,EAFF6F,KACAkQ,EACE/V,EADF+V,aAIFK,EAAKN,gBAAgBC,GACrBe,EAAW,CACT9W,YACAiZ,mBAAoB,CAClBC,WAAY,WACZpC,WAAY,CACVrB,SACA0D,YAAY,EACZpD,eACA1Q,QAAS,CACP5F,GAAIsW,EACJpQ,SAAUlG,EACVmG,UACAC,OACAuT,KAAM,OACNC,MAAM,EACNC,QAAQ,EACRJ,WAAY,eAEdA,WAAY,uBA7DtB7C,4CAAA1X,EAAAC,cAACoZ,gEAAA,EAAD,KACE3B,4CAAA1X,EAAAC,cAAC2a,mEAAA5a,EAAD,CAAYqO,QAAQ,aAClBqJ,4CAAA1X,EAAAC,cAAA,wDAqEZyX,4CAAA1X,EAAAC,cAACuZ,+DAAAxZ,EAAD,CAAQ6a,QAAM,GACZnD,4CAAA1X,EAAAC,cAAC+Y,6DAAAhZ,EAAD,CAAM4N,MAAI,EAACwL,GAAI,GACb1B,4CAAA1X,EAAAC,cAACoW,UAAD,CAAWyC,QAAM,EAACC,UAAW,GAAI,kJAlLrCnU,wDAgMLkW,yDAAWxE,kCAAXxU,oBAAA,2JApNPoG,kLAEFmI,8JAQAgG,kKAUAC,mtLCjCAyE,iTACJ/W,MAAQ,CACNgX,cAAc,KAGhBC,mBAAqB,WACnBrO,EAAKxI,SAAS,SAAAxE,GAAA,MAAuB,CAAEob,cAAzBpb,EAAGob,qIAGV,IACCA,EAAiBpX,KAAKI,MAAtBgX,aADD/N,EAEmBrJ,KAAKW,MAAvBkW,EAFDxN,EAECwN,KAASnV,EAFVC,yBAAA0H,EAAA,UAGDiO,EAAYF,EAAe,OAASP,EAE1C,OACEvN,2CAAAlN,EAAAC,cAACkb,yCAAA,EAAD/N,SAAA,GACM9H,EADN,CAEEmV,KAAMS,EACN7N,aACEH,2CAAAlN,EAAAC,cAACmb,sEAAApb,EAAD,CAAgBmG,SAAS,OACvB+G,2CAAAlN,EAAAC,cAACob,mEAAArb,EAAD,CAAY0B,QAASkC,KAAKqX,oBAELD,EACf9N,2CAAAlN,EAAAC,cAACqb,2EAAAtb,EAAD,MAGAkN,2CAAAlN,EAAAC,cAACsb,8EAAAvb,EAAD,2JA1Bc0N,2DAqCjBqN,6CAAAjZ,oBAAA,2JArCTiZ,0jBCJN,QAAMS,EAAepW,kBAAO2L,KAAVrL,WAAA,CAAAC,YAAA,2BAAAC,YAAA,eAAGR,CAAH,2CAOZqW,EAAa,SAAA7b,GAAA,IAAGC,EAAHD,EAAGC,QAAS0H,EAAZ3H,EAAY2H,KAAZ,OACjBxH,EAAAC,EAAAC,cAACub,EAAD,CACEf,KAAK,SACLjN,KAAK,QACLpN,MAAM,UACNiO,QAAQ,YACRC,SAAUzO,EACVsS,WAAS,GAGUtS,EACfE,EAAAC,EAAAC,cAACyb,EAAA1b,EAAD,CAAkBwN,KAAM,KAGvBjG,MAMMkU,EAAA3Z,EAAA,+DA3BT0Z,sJAOAC,0gHCRN,IAAME,iBAAmB,SAAnBA,iBAAmBC,kBAAgB,IAAAC,MAAA,OAAAA,MAAA,SAAAC,YAAA,SAAAD,QAAA,IAAAE,EAAAnP,EAAAoP,gBAAApY,KAAAiY,OAAA,QAAAI,EAAArZ,UAAAK,OAAAiZ,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAxZ,UAAAwZ,GAAA,OAAAxP,EAAAyP,2BAAAzY,MAAAmY,EAAAO,gBAAAT,QAAAU,KAAAzY,MAAAiY,EAAA,CAAAnY,MAAAe,OAAAuX,MACvClY,MAAQ,CACNwY,MAAM,EACN9V,QAAS,GACT+T,KAAM,SAJ+B7N,EAOvC6P,mBAAqB,WAA6B,IAA5B/V,EAA4B9D,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAlB,GAAI6X,EAAc7X,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAP,GACzCgK,EAAKxI,SAAS,SAAAxE,GAAc,IACpB8c,EAAe,CACnBF,MAFwB5c,EAAX4c,MAWf,OANI9V,GACFiW,kDAAID,EAAc,UAAWhW,GAE3B+T,GACFkC,kDAAID,EAAc,OAAQjC,GAErBiC,KAnB4B9P,EAAA,OAAAgQ,UAAAf,MAAAC,YAAAe,aAAAhB,MAAA,EAAApM,IAAA,SAAAwC,MAAA,WAwBrC,OACEzN,2CAAAxE,EAAAC,cAAC6c,mCAAA,SAAD,KACEtY,2CAAAxE,EAAAC,cAAC2b,iBAADxO,SAAA,GAAsBxJ,KAAKW,MAA3B,CAAkCkY,mBAAoB7Y,KAAK6Y,sBAC3DjY,2CAAAxE,EAAAC,cAAC8c,2CAAA,EAAD3P,SAAA,GAAkBxJ,KAAKI,MAAvB,CAA8BgZ,OAAQpZ,KAAK6Y,yBA3BV,CAAAhN,IAAA,mCAAAwC,MAAA,SAAAgL,iCAAAxN,IAAAyN,MAAAtZ,KAAA6L,KAAA0N,KAAAD,UAAArB,MAAA,CAAkBjX,8CAAlBiX,gBAiC1BF,4CAAA7Z,oBAAA,2JAjCT6Z,uvCCON,QAAMyB,EAAehY,kBAAOmM,KAAV7L,WAAA,CAAAC,YAAA,0BAAAC,YAAA,gBAAGR,CAAH,iDAOZiY,EAAajY,kBAAOkY,KAAV5X,WAAA,CAAAC,YAAA,wBAAAC,YAAA,gBAAGR,CAAH,YAEVe,YAAS,WAAY,KAAM,EAAG,QAAS,IAIvCoX,EAAY,SAAA3d,GAcZ,IAbJ0B,EAaI1B,EAbJ0B,KACAmZ,EAYI7a,EAZJ6a,KACAvL,EAWItP,EAXJsP,MACAsO,EAUI5d,EAVJ4d,YACAC,EASI7d,EATJ6d,SACAC,EAQI9d,EARJ8d,aACA1Q,EAOIpN,EAPJoN,MACA2Q,EAMI/d,EANJ+d,QACA/L,EAKIhS,EALJgS,SACAE,EAIIlS,EAJJkS,cACAC,EAGInS,EAHJmS,SACA6L,EAEIhe,EAFJge,OACGtY,EACCC,EAAA3F,EAAA,kIACJ,OACE4E,EAAAxE,EAAAC,cAAC+R,EAAA,EAAD,CAAO1Q,KAAMA,EAAMsQ,SAAU,SAAAK,GAAK,OAAIL,EAASK,EAAO3Q,KACnD,SAAAX,GAAA,IAAGuR,EAAHvR,EAAGuR,MAAH,OACC1N,EAAAxE,EAAAC,cAACmd,EAAD,CAAcjL,WAAS,GACrB3N,EAAAxE,EAAAC,cAAC4d,EAAA7d,EAAD,CAAYqS,OAAiB,SAAToI,QAAmBvX,EAAW4a,QAASxc,GAAO4N,GAClE1K,EAAAxE,EAAAC,cAAC8d,EAAA/d,EAADoN,EAAA,GACM8E,EADN,CAEEpR,GAAIQ,EACJmZ,KAAMA,EACN+C,YAAaA,EACbC,SAAUA,EACVC,aAAcA,EACd1Q,MAAO2Q,EACP5L,SAAUA,EACV6L,OAAQ,SAACtL,GACPR,EAAcxQ,GAEVsc,GAAQA,EAAOtL,IAErB0L,WAAY,CACVC,UAAW,SAAAxc,GAAqB,IAAlBgO,EAAkBhO,EAAlBgO,IAAKyO,EAAazc,EAAbyc,OACL,WAARzO,GACFyO,EAAOC,UAIT7Y,IAENd,EAAAxE,EAAAC,cAACod,EAAD,CAAYrQ,MAAO2Q,GAAU3Q,SAOxBuQ,EAAAzb,EAAA,+DA/DTsb,qJAOAC,mJAMAE,6UCzBN,IAAAa,EAAA,CACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,Q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","file":"app.f395af9d863a9bb91219.js","sourcesContent":["import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Google = ({ loading, mutation }) => (\r\n  <Social social=\"google\" color={red[500]}>\r\n    <GoogleLogin\r\n      scope=\"email profile\"\r\n      clientId={process.env.GOOGLE_APP_ID}\r\n      onSuccess={({\r\n        profileObj: {\r\n          googleId: id,\r\n          email,\r\n          givenName: firstName,\r\n          familyName: lastName,\r\n        },\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'google',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faGoogle} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Google;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nimport storage from '../storage';\r\n\r\nconst tokenSecrets = {\r\n  token: process.env.TOKEN_SECRET,\r\n  refresh: process.env.REFRESH_TOKEN_SECRET,\r\n};\r\n\r\nexport const checkToken = async (token, set = false, secretType = 'token') => {\r\n  try {\r\n    if (!token) {\r\n      throw new Error('Token wasn\\'t found');\r\n    }\r\n    const secret = tokenSecrets[secretType];\r\n    const { data: { regStatus } } = await jwt.verify(token, secret);\r\n\r\n    if (set) {\r\n      storage.token.set(token);\r\n    }\r\n    return { regStatus };\r\n  } catch (e) {\r\n    return { regStatus: '' };\r\n  }\r\n};\r\n\r\nclass PrivateRoute extends Component {\r\n  state = {\r\n    render: false,\r\n    auth: false,\r\n    status: '',\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const token = storage.token.get();\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, false);\r\n\r\n        this.setState({\r\n          render: true,\r\n          auth: true,\r\n          status: regStatus,\r\n        });\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    } else {\r\n      this.setState({\r\n        render: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { render, auth, status } = this.state;\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Choose>\r\n        <When condition={render}>\r\n          <Choose>\r\n            <When condition={!auth}>\r\n              <Redirect to=\"login\" />\r\n            </When>\r\n            <When condition={auth && status === 'UNCOMPLETED'}>\r\n              <Redirect to={`reg?token=${storage.token.get()}`} />\r\n            </When>\r\n            <Otherwise>\r\n              {children}\r\n            </Otherwise>\r\n          </Choose>\r\n        </When>\r\n        <Otherwise>{null}</Otherwise>\r\n      </Choose>\r\n    );\r\n  }\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport AppListItemAvatar from './AppList/ListItemAvatar';\r\nimport AppListItemInfo from './AppList/ListItemInfo';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\nimport { getAvatarInitials, messageTimeParser } from '../../../helpers';\r\n\r\nconst ContactListItem = styled(({ isSelected, ...rest }) => <ListItem {...rest} />)`\r\n  && {\r\n    padding-right: 60px;\r\n    padding-left: ${getSpacing(1)};\r\n    ${({ isSelected }) => isSelected && ({\r\n      'background-color': '#fff',\r\n      'border-radius': getStyledProps('theme.shape.borderRadius', 'px'),\r\n    })};\r\n\r\n    &&:hover {\r\n      background-color: #fff;\r\n      border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')};\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ContactItemSecondary = styled.div`\r\n  width: 60px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  ${position('absolute', 0, 0, 0, null)};\r\n  color: ${getStyledProps('theme.palette.grey.700')};\r\n  padding: 11px;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst ContactItemTime = styled.span`\r\n  width: 100%;\r\n  font-size: 11px;\r\n  text-align: right;\r\n`;\r\n\r\nconst ContactItemBadge = styled.div`\r\n  min-width: 21px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 5px;\r\n  font-size: 11px;\r\n  color: #fff;\r\n  background-color: ${red[500]};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ContactPanelItem = ({\r\n  myId,\r\n  contact,\r\n  message,\r\n  onSelect,\r\n  isSelected,\r\n}) => {\r\n  const { avatar, displayName, status } = contact;\r\n  const avatarText = getAvatarInitials(contact);\r\n  const online = status === 'ONLINE';\r\n  const { senderId, content, time } = message;\r\n  const isMyMessage = senderId === myId;\r\n  const secondary = isMyMessage\r\n    ? `You: ${content}`\r\n    : content;\r\n\r\n  return (\r\n    <ContactListItem isSelected={isSelected} onClick={onSelect}>\r\n      <AppListItemAvatar src={avatar && avatar.sm} text={avatarText} online={online} />\r\n      <AppListItemInfo primary={displayName} secondary={secondary} />\r\n      <ContactItemSecondary>\r\n        <ContactItemTime>{messageTimeParser(time)}</ContactItemTime>\r\n        {/* <ContactItemBadge>{}</ContactItemBadge> */}\r\n      </ContactItemSecondary>\r\n    </ContactListItem>\r\n  );\r\n};\r\n\r\nexport default ContactPanelItem;\r\n","import gql from 'graphql-tag';\r\n\r\nimport { myContactFragment, myChatFragment, messageFragment } from './fragments';\r\n\r\nexport const CREATE_CHAT = gql`\r\n  mutation CreateChat($userId: ID!) {\r\n    createChat(userId: $userId) {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nexport const CHAT_CREATED_SUBSCRIPTION = gql`\r\n  subscription onChatCreated {\r\n    chatCreated {\r\n      contact {\r\n        ...myContactData\r\n      }\r\n      chat {\r\n        ...myChatData\r\n      }\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\n\r\nexport const GET_CHAT_MESSAGES = gql`\r\n  query ChatMessages($chatId: String!, $skip: Int!) {\r\n    chatMessages(chatId: $chatId, skip: $skip) {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const ADD_MESSAGE = gql`\r\n  mutation AddMessage($chatId: String!, $content: String!, $time: DateTime!, $optimisticId: String!) {\r\n    addMessage(chatId: $chatId, content: $content, time: $time, optimisticId: $optimisticId) {\r\n      chatId\r\n      optimistic\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const MESSAGE_ADDED_SUBSCRIPTION = gql`\r\n  subscription onMessageAdded {\r\n    messageAdded {\r\n      chatId\r\n      optimisticId\r\n      message {\r\n        ...messageData\r\n      }\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport default {\r\n  CREATE_CHAT,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  GET_CHAT_MESSAGES,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n};\r\n","import { adopt } from 'react-adopt';\r\nimport { concat, find, set } from 'lodash';\r\n\r\nimport { createMutation, createQuery, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { myContactActivityFragment } from '../../gql/fragments';\r\n\r\nconst {\r\n  GET_ME,\r\n  GET_INITIAL_DATA,\r\n  CHAT_CREATED_SUBSCRIPTION,\r\n  SIGN_OUT,\r\n  GET_MY_CHATS,\r\n  GET_MY_CONTACTS,\r\n  CHECK_SESSION_EXPIRATION,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  UPLOAD_AVATAR,\r\n} = gql;\r\n\r\nexport const chatCreatedUpdate = (client, { contact, chat }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts: concat(myContacts, contact),\r\n      myChats: concat(myChats, chat),\r\n    },\r\n  });\r\n};\r\n\r\nconst getInitialData = createQuery('getInitialData', GET_INITIAL_DATA);\r\nconst checkSessionExpiration = createQuery('checkSessionExpiration', CHECK_SESSION_EXPIRATION);\r\nconst chatCreatedSubscription = createSubscription('chatCreatedSubscription', CHAT_CREATED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { chatCreated } } }) {\r\n    chatCreatedUpdate(client, chatCreated);\r\n  },\r\n});\r\nconst userActivitySubscription = createSubscription('userActivitySubscription', USER_ACTIVITY_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { userActivityUpdated } } }) {\r\n    const { userId, status, lastDate } = userActivityUpdated;\r\n    const { myContacts } = client.readQuery({ query: GET_MY_CONTACTS });\r\n    const { id: contactId } = find(myContacts, ({ userInfo: { id: userId } }));\r\n\r\n    const fragment = myContactActivityFragment;\r\n    const id = `MyContact:${contactId}`;\r\n    const { userInfo, ...rest } = client.readFragment({ fragment, id });\r\n\r\n    client.writeFragment({\r\n      fragment,\r\n      id,\r\n      data: {\r\n        userInfo: {\r\n          ...userInfo,\r\n          status,\r\n          lastDate,\r\n        },\r\n        ...rest,\r\n      },\r\n    });\r\n  },\r\n});\r\nconst signOut = createMutation('signOut', SIGN_OUT);\r\nconst uploadAvatar = createMutation('uploadAvatar', UPLOAD_AVATAR, {\r\n  update(client, { data: { uploadAvatar: avatar } }) {\r\n    const { me } = client.readQuery({ query: GET_ME });\r\n    set(me, 'avatar', avatar);\r\n\r\n    client.writeQuery({\r\n      query: GET_ME,\r\n      data: {\r\n        me,\r\n      },\r\n    });\r\n  },\r\n});\r\n\r\nconst AppLayoutContainer = adopt({\r\n  chatCreatedSubscription,\r\n  userActivitySubscription,\r\n  getInitialData,\r\n  checkSessionExpiration,\r\n  signOut,\r\n  uploadAvatar,\r\n});\r\n\r\nexport default AppLayoutContainer;\r\n","import gql from 'graphql-tag';\r\n\r\nimport { authPayloadFragment } from './fragments';\r\n\r\nconst SIGN_IN = gql`\r\n  mutation SignIn($form: SignInForm!) {\r\n    signIn(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_IN_BY_SOCIAL = gql`\r\n  mutation SignInBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signInBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_ASYNC_VALIDATION = gql`\r\n  mutation SignUpAsyncValidation($field: String!, $value: String!) {\r\n    signUpAsyncValidation(field: $field, value: $value) {\r\n      field\r\n      valid\r\n    }\r\n  }\r\n`;\r\n\r\nconst SIGN_UP = gql`\r\n  mutation SignUp($form: SignUpForm!) {\r\n    signUp(form: $form)\r\n  }\r\n`;\r\n\r\nconst SIGN_UP_COMPLETION = gql`\r\n  mutation SignUpCompletion($form: SignUpCompletionForm!) {\r\n    signUpCompletion(form: $form) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_UP_BY_SOCIAL = gql`\r\n  mutation SignUpBySocial($social: SocialProfile!, $profile: SocialUserProfile!) {\r\n    signUpBySocial(social: $social, profile: $profile) {\r\n      ...tokens\r\n    }\r\n  }\r\n  ${authPayloadFragment}\r\n`;\r\n\r\nconst SIGN_OUT = gql`\r\n  mutation SignOut {\r\n    signOut\r\n  }\r\n`;\r\n\r\nconst CHECK_SESSION_EXPIRATION = gql`\r\n  {\r\n    sessionExpired @client\r\n  }\r\n`;\r\n\r\nexport default {\r\n  SIGN_IN,\r\n  SIGN_IN_BY_SOCIAL,\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n  SIGN_OUT,\r\n  CHECK_SESSION_EXPIRATION,\r\n};\r\n","const icqBeep = new Audio('data:audio/mp3;base64,SUQzAwAAAAAfdlRDT04AAAAFAAAAKDEyKVBSSVYAAAAOAABQZWFrVmFsdWUAIQAAAFBSSVYAAAARAABBdmVyYWdlTGV2ZWwAewQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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CEosaRI4cSJU5xIlskUcY0iRw4kS2MFJQVgFNCjowViC8BTQo6MFYgvAU0KOjBWILwFNCjowV0F+Kbw74SYgpqKZlxyY1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tQwAADwAABpAAAAAAAADSAAAAATEFNRTMuOTFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UMAAA8AAAaQAAAAAAAA0gAAAAExBTUUzLjkxVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+1DAAAPAAAGkAAAAAAAANIAAAABMQU1FMy45MVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==');\r\n\r\nexport default icqBeep;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\n\r\nconst { SIGN_IN, SIGN_IN_BY_SOCIAL } = gql;\r\n\r\nconst signIn = createMutation('signIn', SIGN_IN);\r\nconst signInBySocial = createMutation('signInBySocial', SIGN_IN_BY_SOCIAL);\r\n\r\nconst LoginContainer = adopt({\r\n  signIn,\r\n  signInBySocial,\r\n});\r\n\r\nexport default LoginContainer;\r\n","import React, { PureComponent } from 'react';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CheckIcon from '@material-ui/icons/CheckRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass AsyncFormInput extends PureComponent {\r\n  state = {\r\n    asyncValid: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { data, error } } = this.props;\r\n\r\n    if (!prevProps.result.data && data) {\r\n      this.setAsyncValid(true);\r\n    }\r\n    if (!prevProps.result.error && error) {\r\n      this.setAsyncValid(false);\r\n    }\r\n  }\r\n\r\n  setAsyncValid = (valid) => {\r\n    this.setState({ asyncValid: valid });\r\n  }\r\n\r\n  render() {\r\n    const { asyncValid } = this.state;\r\n    const { result: { loading }, ...rest } = this.props;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        endAdornment={\r\n          (loading || asyncValid)\r\n          && (\r\n            <InputAdornment position=\"end\">\r\n              <Choose>\r\n                <When condition={loading}>\r\n                  <CircularProgress size={18} />\r\n                </When>\r\n                <When condition={!loading && asyncValid}>\r\n                  <CheckIcon color=\"action\" />\r\n                </When>\r\n                <Otherwise>{null}</Otherwise>\r\n              </Choose>\r\n            </InputAdornment>\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AsyncFormInput;\r\n","import React from 'react';\r\n// import styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport DoneIcon from '@material-ui/icons/DoneRounded';\r\n\r\nimport AppListItem from './AppList/ListItem';\r\nimport AppListItemAvatar from './AppList/ListItemAvatar';\r\nimport AppListItemInfo from './AppList/ListItemInfo';\r\n\r\n// import { getStyledProps, getSpacing } from '../../../styles';\r\nimport { getAvatarInitials } from '../../../helpers';\r\n\r\nconst SearchDialogListItem = ({\r\n  item,\r\n  openConfirmDialog,\r\n  adding,\r\n  added,\r\n}) => {\r\n  const { avatar, displayName, username } = item;\r\n  const avatarText = getAvatarInitials(item);\r\n  const secondary = `@${username}`;\r\n\r\n  return (\r\n    <AppListItem>\r\n      <AppListItemAvatar src={avatar} text={avatarText} online={false} />\r\n      <AppListItemInfo primary={displayName} secondary={secondary} />\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={() => openConfirmDialog(item)}\r\n        disabled={added}\r\n      >\r\n        <Choose>\r\n          <When condition={adding}>\r\n            <CircularProgress size={20} color=\"inherit\" />\r\n          </When>\r\n          <When condition={added}>\r\n            <DoneIcon />\r\n          </When>\r\n          <Otherwise>\r\n            Add\r\n          </Otherwise>\r\n        </Choose>\r\n      </Button>\r\n    </AppListItem>\r\n  );\r\n};\r\n\r\nexport default SearchDialogListItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport InfoIcon from '@material-ui/icons/InfoRounded';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircleRounded';\r\n\r\nconst StepLabelStyled = styled(StepLabel)`\r\n  p {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst RegFormStepper = ({ activeStep, steps }) => (\r\n  <Stepper alternativeLabel activeStep={activeStep}>\r\n    {\r\n      map(steps, (label, index) => {\r\n        const isActive = activeStep === index;\r\n        const isCompleted = index < activeStep;\r\n        const iconColor = (!isCompleted && !isActive)\r\n          ? 'disabled'\r\n          : 'primary';\r\n        const step = index + 1;\r\n\r\n        return (\r\n          <Step\r\n            key={index}\r\n            active={isActive}\r\n            completed={isCompleted}\r\n          >\r\n            <StepLabelStyled\r\n              icon={(\r\n                <Choose>\r\n                  <When condition={isCompleted}>\r\n                    <CheckCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <When condition={step === 1}>\r\n                    <AccountCircleIcon color={iconColor} />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <InfoIcon color={iconColor} />\r\n                  </Otherwise>\r\n                </Choose>\r\n              )}\r\n            >\r\n              <span>{`Step ${step}.`}</span>\r\n              <p>{label}</p>\r\n            </StepLabelStyled>\r\n          </Step>\r\n        );\r\n      })\r\n    }\r\n  </Stepper>\r\n);\r\n\r\nexport default RegFormStepper;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { ellipsis } from 'polished';\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst ListItemTextStyled = styled(ListItemText)`\r\n  && {\r\n    display: inline-flex;\r\n    flex-flow: column;\r\n    padding: 0 ${getSpacing(1)};\r\n\r\n    > * {\r\n      ${ellipsis('100%')};\r\n    }\r\n  }\r\n`;\r\n\r\nconst ListItemInfo = ({ primary, secondary }) => (\r\n  <ListItemTextStyled primary={primary} secondary={secondary} />\r\n);\r\n\r\nListItemInfo.defaultProps = {\r\n  primary: '',\r\n  secondary: '',\r\n};\r\nListItemInfo.propTypes = {\r\n  primary: PropTypes.string,\r\n  secondary: PropTypes.string,\r\n};\r\n\r\nexport default ListItemInfo;\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nconst Wrapper = styled.div`\r\n  ${position('absolute', '50%', null, null, '50%')}\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst PageLoader = () => (\r\n  <Wrapper>\r\n    <CircularProgress size={80} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default PageLoader;\r\n","module.exports = __webpack_public_path__ + \"assets/images/login-bg__1920_95.jpg\";","import gql from 'graphql-tag';\r\n\r\nimport { myContactFragment, myChatFragment, myFragment } from './fragments';\r\n\r\nconst GET_INITIAL_DATA = gql`\r\n  query GetInitialData {\r\n    me {\r\n      ...myData\r\n    }\r\n    myContacts {\r\n      ...myContactData\r\n    }\r\n    myChats {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_ME = gql`\r\n  query GetMe {\r\n    me @client {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst GET_MY_CONTACTS = gql`\r\n  query GetMyContacts {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n`;\r\n\r\nconst GET_MY_CHATS = gql`\r\n  query GetMyChats {\r\n    myContacts @client {\r\n      ...myContactData\r\n    }\r\n    myChats @client {\r\n      ...myChatData\r\n    }\r\n  }\r\n  ${myContactFragment}\r\n  ${myChatFragment}\r\n`;\r\n\r\nconst SEARCH_USERS = gql`\r\n  query SearchUsers($searchValue: String!) {\r\n    searchUsers(searchValue: $searchValue) {\r\n      ...myData\r\n    }\r\n  }\r\n  ${myFragment}\r\n`;\r\n\r\nconst USER_ACTIVITY_SUBSCRIPTION = gql`\r\n  subscription onUserActivityUpdated {\r\n    userActivityUpdated {\r\n      userId\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPLOAD_AVATAR = gql`\r\n  mutation uploadAvatar($file: Upload!) {\r\n    uploadAvatar(file: $file) {\r\n      sm\r\n      md\r\n    }\r\n  }\r\n`;\r\n\r\nexport default {\r\n  GET_INITIAL_DATA,\r\n  GET_ME,\r\n  GET_MY_CONTACTS,\r\n  GET_MY_CHATS,\r\n  SEARCH_USERS,\r\n  USER_ACTIVITY_SUBSCRIPTION,\r\n  UPLOAD_AVATAR,\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { rgba } from 'polished';\r\n\r\nimport { Button } from './SocialButton';\r\n\r\nconst SocialWrapper = styled.div`\r\n  display: inline-flex;\r\n\r\n  :not(:last-child) {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  ${Button} {\r\n    background-color: ${({ color }) => color};\r\n\r\n    :hover {\r\n      background-color: ${({ color }) => rgba(color, 0.8)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Social = ({ social, color, children }) => (\r\n  <SocialWrapper\r\n    key={social}\r\n    color={color}\r\n  >\r\n    {children}\r\n  </SocialWrapper>\r\n);\r\n\r\nexport default Social;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nexport const Button = styled(Fab)`\r\n  && {\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst SocialButton = ({ loading, onClick, icon }) => (\r\n  <Button disabled={loading} size=\"small\" onClick={onClick} component={Fab}>\r\n    <FontAwesomeIcon icon={icon} size=\"lg\" />\r\n  </Button>\r\n);\r\n\r\nexport default SocialButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { map } from 'lodash';\r\nimport styled from 'styled-components';\r\n// import { position } from 'polished';\r\n\r\nconst RadioFormControlStyled = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    margin-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst RadioGroupStyled = styled(RadioGroup)`\r\n  && {\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst FormInputRadio = ({\r\n  name,\r\n  // type,\r\n  label,\r\n  values,\r\n  initialValue,\r\n  // placeholder,\r\n  // required,\r\n  // autoComplete,\r\n  // error,\r\n  // isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  // onBlur,\r\n  // ...rest,\r\n}) => (\r\n  <Field name={name} validate={value => validate(value, name)}>\r\n    {({ field }) => (\r\n      <RadioFormControlStyled variant=\"standard\" fullWidth>\r\n        <InputLabel shrink>{label}</InputLabel>\r\n        <RadioGroupStyled\r\n          {...field}\r\n          name={name}\r\n          onChange={(event) => {\r\n            validateField(name);\r\n\r\n            onChange(event);\r\n          }}\r\n        >\r\n          {map(values, value => (\r\n            <FormControlLabel\r\n              key={value}\r\n              value={value}\r\n              control={<Radio />}\r\n              label={value}\r\n            />\r\n          ))}\r\n        </RadioGroupStyled>\r\n      </RadioFormControlStyled>\r\n    )}\r\n  </Field>\r\n);\r\n\r\nexport default FormInputRadio;\r\n","import React from 'react';\r\nimport { Query, Mutation, Subscription } from 'react-apollo';\r\nimport { get, has } from 'lodash';\r\n\r\nexport const createMutation = (name, gqlMutation, mutationProps = {}) => (containerProps) => {\r\n  const mutationContainerPropsKey = `${name}Props`;\r\n  const mutationContainerProps = has(containerProps, mutationContainerPropsKey)\r\n    ? get(containerProps, mutationContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Mutation\r\n      mutation={gqlMutation}\r\n      {...mutationProps}\r\n      {...mutationContainerProps}\r\n    >\r\n      {(mutation, result) => render({\r\n        mutation,\r\n        result,\r\n        name,\r\n      })}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\nexport const createQuery = (name, gqlQuery, queryProps = {}) => (containerProps) => {\r\n  const queryContainerPropsKey = `${name}Props`;\r\n  const queryContainerProps = has(containerProps, queryContainerPropsKey)\r\n    ? get(containerProps, queryContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Query\r\n      query={gqlQuery}\r\n      {...queryProps}\r\n      {...queryContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport const createSubscription = (name, gqlSubscription, subscriptionProps = {}) => (containerProps) => {\r\n  const subscriptionContainerPropsKey = `${name}Props`;\r\n  const subscriptionContainerProps = has(containerProps, subscriptionContainerPropsKey)\r\n    ? get(containerProps, subscriptionContainerPropsKey)\r\n    : {};\r\n  const { render } = containerProps;\r\n\r\n  return (\r\n    <Subscription\r\n      subscription={gqlSubscription}\r\n      {...subscriptionProps}\r\n      {...subscriptionContainerProps}\r\n    >\r\n      {props => render({\r\n        ...props,\r\n        name,\r\n      })}\r\n    </Subscription>\r\n  );\r\n};\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport reset from 'styled-reset';\r\nimport { size } from 'polished';\r\nimport { get } from 'lodash';\r\n\r\nexport const getStyledProps = (path, unit = '') => (props) => {\r\n  const value = get(props, path);\r\n\r\n  if (unit) {\r\n    return `${value}${unit}`;\r\n  }\r\n  return value;\r\n};\r\nexport const getSpacing = (num = 1) => (props) => {\r\n  const defaultPadding = getStyledProps('theme.spacing.unit')(props);\r\n  const padding = defaultPadding * num;\r\n\r\n  return `${padding}px`;\r\n};\r\n\r\nexport const theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  ${reset}\r\n\r\n  html,\r\n  body {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    min-height: 100%;\r\n    font-family: ${getStyledProps('theme.typography.fontFamily')};\r\n    font-size: ${getStyledProps('theme.typography.fontSize')}px;\r\n    font-weight: ${getStyledProps('theme.typography.fontWeightRegular')};\r\n    color: #000;\r\n    background-color: #fff;\r\n    overflow-y: auto;\r\n\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    #root {\r\n      ${size('inherit')};\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/AddRounded';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListPanelFooter = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: ${getSpacing(1)} 0;\r\n`;\r\n\r\nclass ContactPanelFooter extends Component {\r\n  render() {\r\n    const { toggleSearchDialog } = this.props;\r\n\r\n    return (\r\n      <ListPanelFooter>\r\n        <Fab color=\"primary\" size=\"medium\" onClick={toggleSearchDialog}>\r\n          <AddIcon />\r\n        </Fab>\r\n      </ListPanelFooter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContactPanelFooter;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Facebook from './Facebook';\r\nimport Google from './Google';\r\n\r\nconst SocialMediaWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 3em;\r\n`;\r\n\r\nconst SocialMediaNote = styled.p`\r\n  display: inline-flex;\r\n  margin-right: 1em;\r\n`;\r\n\r\nconst SocialMedia = ({\r\n  mutation,\r\n  result: { loading },\r\n  note,\r\n}) => {\r\n  return (\r\n    <SocialMediaWrapper>\r\n      <SocialMediaNote>\r\n        {note}\r\n      </SocialMediaNote>\r\n      <Facebook loading={loading} mutation={mutation} />\r\n      <Google loading={loading} mutation={mutation} />\r\n    </SocialMediaWrapper>\r\n  );\r\n};\r\n\r\nexport default SocialMedia;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport { createMutation, createQuery } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { chatCreatedUpdate } from './AppLayoutContainer';\r\n\r\nconst {\r\n  SEARCH_USERS,\r\n  CREATE_CHAT,\r\n  GET_MY_CONTACTS,\r\n} = gql;\r\n\r\nconst searchUsers = createQuery('searchUsers', SEARCH_USERS);\r\nconst getMyContacts = createQuery('getMyContacts', GET_MY_CONTACTS);\r\nconst createChat = createMutation('createChat', CREATE_CHAT, {\r\n  update(client, { data }) {\r\n    chatCreatedUpdate(client, data.createChat);\r\n  },\r\n});\r\n\r\nconst SearchDialogContainer = adopt({\r\n  searchUsers,\r\n  getMyContacts,\r\n  createChat,\r\n});\r\n\r\nexport default SearchDialogContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst AppRoute = ({\r\n  component: Component,\r\n  layout: Layout,\r\n  privateRoute,\r\n  redirect,\r\n  to,\r\n  ...rest\r\n}) => {\r\n  const render = props => (\r\n    <Layout>\r\n      <Component {...props} />\r\n    </Layout>\r\n  );\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        <Choose>\r\n          <When condition={redirect}>\r\n            <Component to={to} />\r\n          </When>\r\n          <When condition={privateRoute}>\r\n            <PrivateRoute>\r\n              {render(props)}\r\n            </PrivateRoute>\r\n          </When>\r\n          <Otherwise>\r\n            {render(props)}\r\n          </Otherwise>\r\n        </Choose>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nAppRoute.defaultProps = {\r\n  privateRoute: false,\r\n  layout: null,\r\n  redirect: false,\r\n  to: '',\r\n};\r\nAppRoute.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.node, PropTypes.func]).isRequired,\r\n  layout: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  privateRoute: PropTypes.bool,\r\n  redirect: PropTypes.bool,\r\n  to: PropTypes.string,\r\n};\r\n\r\nexport default AppRoute;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","module.exports = __webpack_public_path__ + \"assets/images/reg-bg__1920_95.jpg\";","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\nimport {\r\n  isEmpty, isEqual, find, map, concat, set, filter,\r\n} from 'lodash';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { AppContext } from '../../context/AppProvider';\r\nimport ContactPanel, { NoContactInfo } from '../../common/ContactPanel/ContactPanel';\r\nimport MessagePanel from '../../common/MessagePanel/MessagePanel';\r\n\r\nimport ChatsContainer from '../../smart/ChatsContainer';\r\n\r\nimport gql from '../../../gql';\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst { GET_CHAT_MESSAGES } = gql;\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    ${size('100%')};\r\n    display: flex;\r\n    align-items: stretch;\r\n  }\r\n`;\r\n\r\nconst InfoPanel = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)};\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n  }\r\n`;\r\n\r\nclass Chats extends Component {\r\n  state = {\r\n    selected: null,\r\n    sendedIds: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    const selected = this.checkRoute();\r\n\r\n    if (selected) {\r\n      this.selectChat(selected);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { location } = this.props;\r\n\r\n    if (!isEqual(prevProps.location, location)) {\r\n      const selected = this.checkRoute();\r\n\r\n      if (!selected) {\r\n        this.selectChat(null);\r\n      } else {\r\n        this.selectChat(selected);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkRoute = () => {\r\n    const { location: { search } } = this.props;\r\n    const { chatId } = queryString.parse(search);\r\n\r\n    return chatId;\r\n  }\r\n\r\n  selectChat = (chatId, changeRoute = false) => {\r\n    const { history } = this.props;\r\n\r\n    this.setState({ selected: chatId });\r\n\r\n    if (changeRoute) {\r\n      history.push(`/chats?chatId=${chatId}`);\r\n    }\r\n  }\r\n\r\n  updateSendedIds = (optimisticId, action = 'add') => {\r\n    if (action === 'add') {\r\n      this.setState(({ sendedIds }) => ({ sendedIds: concat(sendedIds, optimisticId) }));\r\n    } else if (action === 'remove') {\r\n      this.setState(({ sendedIds }) => ({\r\n        sendedIds: filter(sendedIds, id => id !== optimisticId),\r\n      }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { selected, sendedIds } = this.state;\r\n\r\n    return (\r\n      <AppContext.Consumer>\r\n        {({ user, fetching }) => (\r\n          <ChatsContainer\r\n            messageAddedSubscriptionProps={{\r\n              variables: { chatId: selected },\r\n            }}\r\n            addMessageProps={{\r\n              onCompleted: ({ addMessage: { optimisticId } }) => {\r\n                this.updateSendedIds(optimisticId, 'remove');\r\n              },\r\n            }}\r\n          >\r\n            {({\r\n              getMyChats: {\r\n                data: { myContacts, myChats },\r\n                fetchMore: fetchMoreMessages,\r\n                loading,\r\n              },\r\n              addMessage: {\r\n                mutation: addMessage,\r\n                result: { loading: adding },\r\n              },\r\n            }) => {\r\n              const selectedContact = find(myContacts, { chatId: selected });\r\n              const selectedChat = find(myChats, { id: selected });\r\n\r\n              return (\r\n                <Wrapper square elevation={0}>\r\n                  <Grid container spacing={0}>\r\n                    <Grid item xs={12} sm={4} lg={3}>\r\n                      <ContactPanel\r\n                        loading={fetching}\r\n                        me={user}\r\n                        contacts={myContacts}\r\n                        chats={myChats}\r\n                        selected={selected}\r\n                        selectChat={chatId => this.selectChat(chatId, true)}\r\n                      />\r\n                    </Grid>\r\n                    <Hidden xsDown>\r\n                      <Grid item sm={8} lg={6}>\r\n                        <Choose>\r\n                          <When condition={isEmpty(myContacts)}>\r\n                            {null}\r\n                          </When>\r\n                          <When condition={!selected}>\r\n                            <NoContactInfo>\r\n                              <Typography variant=\"subtitle2\">\r\n                                <p>Please select a chat to start messaging</p>\r\n                              </Typography>\r\n                            </NoContactInfo>\r\n                          </When>\r\n                          <Otherwise>\r\n                            <MessagePanel\r\n                              loading={loading}\r\n                              adding={adding}\r\n                              me={user}\r\n                              contact={selectedContact}\r\n                              chat={selectedChat}\r\n                              sendedIds={sendedIds}\r\n                              fetchMoreMessages={(chatId, skip) => fetchMoreMessages({\r\n                                query: GET_CHAT_MESSAGES,\r\n                                variables: { chatId, skip },\r\n                                updateQuery: (prev, { fetchMoreResult }) => {\r\n                                  const { chatMessages } = fetchMoreResult;\r\n                                  const updatedMyChats = map(prev.myChats, (chat) => {\r\n                                    const { id, messages } = chat;\r\n\r\n                                    if (id === chatId) {\r\n                                      const updatedMessages = concat(chatMessages, messages);\r\n\r\n                                      return set(chat, 'messages', updatedMessages);\r\n                                    }\r\n                                    return chat;\r\n                                  });\r\n                                  return set(prev, myChats, updatedMyChats);\r\n                                },\r\n                              })}\r\n                              addMessage={(variables) => {\r\n                                const { id } = user;\r\n                                const {\r\n                                  chatId,\r\n                                  content,\r\n                                  time,\r\n                                  optimisticId,\r\n                                } = variables;\r\n\r\n\r\n                                this.updateSendedIds(optimisticId);\r\n                                addMessage({\r\n                                  variables,\r\n                                  optimisticResponse: {\r\n                                    __typename: 'Mutation',\r\n                                    addMessage: {\r\n                                      chatId,\r\n                                      optimistic: true,\r\n                                      optimisticId,\r\n                                      message: {\r\n                                        id: optimisticId,\r\n                                        senderId: id,\r\n                                        content,\r\n                                        time,\r\n                                        type: 'text',\r\n                                        seen: false,\r\n                                        edited: false,\r\n                                        __typename: 'ChatMessage',\r\n                                      },\r\n                                      __typename: 'MessageUpdate',\r\n                                    },\r\n                                  },\r\n                                });\r\n                              }}\r\n                            />\r\n                          </Otherwise>\r\n                        </Choose>\r\n                      </Grid>\r\n                    </Hidden>\r\n                    <Hidden mdDown>\r\n                      <Grid item lg={3}>\r\n                        <InfoPanel square elevation={0}>{null}</InfoPanel>\r\n                      </Grid>\r\n                    </Hidden>\r\n                  </Grid>\r\n                </Wrapper>\r\n              );\r\n            }}\r\n          </ChatsContainer>\r\n        )}\r\n      </AppContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Chats);\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VisibilityIcon from '@material-ui/icons/VisibilityRounded';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOffRounded';\r\n\r\nimport FormInput from './FormInput';\r\n\r\nclass FormInputPassword extends PureComponent {\r\n  state = {\r\n    showPassword: false,\r\n  }\r\n\r\n  toggleShowPassword = () => {\r\n    this.setState(({ showPassword }) => ({ showPassword: !showPassword }));\r\n  }\r\n\r\n  render() {\r\n    const { showPassword } = this.state;\r\n    const { type, ...rest } = this.props;\r\n    const validType = showPassword ? 'text' : type;\r\n\r\n    return (\r\n      <FormInput\r\n        {...rest}\r\n        type={validType}\r\n        endAdornment={(\r\n          <InputAdornment position=\"end\">\r\n            <IconButton onClick={this.toggleShowPassword}>\r\n              <Choose>\r\n                <When condition={showPassword}>\r\n                  <VisibilityIcon />\r\n                </When>\r\n                <Otherwise>\r\n                  <VisibilityOffIcon />\r\n                </Otherwise>\r\n              </Choose>\r\n            </IconButton>\r\n          </InputAdornment>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormInputPassword;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst SubmitButton = styled(Button)`\r\n  && {\r\n    position: relative;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst FormSubmit = ({ loading, text }) => (\r\n  <SubmitButton\r\n    type=\"submit\"\r\n    size=\"large\"\r\n    color=\"primary\"\r\n    variant=\"contained\"\r\n    disabled={loading}\r\n    fullWidth\r\n  >\r\n    <Choose>\r\n      <When condition={loading}>\r\n        <CircularProgress size={26} />\r\n      </When>\r\n      <Otherwise>\r\n        {text}\r\n      </Otherwise>\r\n    </Choose>\r\n  </SubmitButton>\r\n);\r\n\r\nexport default FormSubmit;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { set } from 'lodash';\r\n\r\nimport Notification from '../Notification';\r\n\r\nconst withNotification = WrappedComponent => class extends Component {\r\n  state = {\r\n    open: false,\r\n    message: '',\r\n    type: 'error',\r\n  }\r\n\r\n  toggleNotification = (message = '', type = '') => {\r\n    this.setState(({ open }) => {\r\n      const updatedState = {\r\n        open: !open,\r\n      };\r\n\r\n      if (message) {\r\n        set(updatedState, 'message', message);\r\n      }\r\n      if (type) {\r\n        set(updatedState, 'type', type);\r\n      }\r\n      return updatedState;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <WrappedComponent {...this.props} toggleNotification={this.toggleNotification} />\r\n        <Notification {...this.state} toggle={this.toggleNotification} />\r\n      </Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withNotification;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'formik';\r\nimport { isEmpty } from 'lodash';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst InputWrapper = styled(FormControl)`\r\n  && {\r\n    position: relative;\r\n    padding-bottom: 1.5em;\r\n  }\r\n`;\r\n\r\nconst InputError = styled(FormHelperText)`\r\n  && {\r\n    ${position('absolute', null, 0, '0.5em', 0)}\r\n  }\r\n`;\r\n\r\nconst FormInput = ({\r\n  name,\r\n  type,\r\n  label,\r\n  placeholder,\r\n  required,\r\n  autoComplete,\r\n  error,\r\n  isError,\r\n  validate,\r\n  validateField,\r\n  onChange,\r\n  onBlur,\r\n  ...rest,\r\n}) => {\r\n  return (\r\n    <Field name={name} validate={value => validate(value, name)}>\r\n      {({ field }) => (\r\n        <InputWrapper fullWidth>\r\n          <InputLabel shrink={type === 'date' || undefined} htmlFor={name}>{label}</InputLabel>\r\n          <Input\r\n            {...field}\r\n            id={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            required={required}\r\n            autoComplete={autoComplete}\r\n            error={isError}\r\n            onChange={onChange}\r\n            onBlur={(event) => {\r\n              validateField(name);\r\n\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            inputProps={{\r\n              onKeyDown: ({ key, target }) => {\r\n                if (key === 'Escape') {\r\n                  target.blur();\r\n                }\r\n              },\r\n            }}\r\n            {...rest}\r\n          />\r\n          <InputError error={isError}>{error}</InputError>\r\n        </InputWrapper>\r\n      )}\r\n    </Field>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { map, find } from 'lodash';\r\nimport styled from 'styled-components';\r\n\r\nimport FormInput from './FormInput';\r\nimport FormInputPassword from './FormInputPassword';\r\nimport FormInputRadio from './FormInputRadio';\r\nimport AsyncFormInput from './AsyncFormInput';\r\nimport FormSubmit from './FormSubmit';\r\n\r\nconst FormWrapper = styled.form`\r\n  width: 100%;\r\n`;\r\n\r\nclass Form extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    const { result: { error }, setFieldError } = this.props;\r\n\r\n    if (!prevProps.result.error && error) {\r\n      if (error.graphQLErrors) {\r\n        const { graphQLErrors } = error;\r\n        const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n        if (invalidField) {\r\n          setFieldError(invalidField, message);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  validate = async (value, field) => {\r\n    const { validationSchema, asyncValidationFields } = this.props;\r\n    const asyncValidationField = find(asyncValidationFields, { name: field });\r\n\r\n    try {\r\n      await yup.reach(validationSchema, field).validate(value);\r\n\r\n      if (asyncValidationField) {\r\n        const { validation } = asyncValidationField;\r\n\r\n        await validation.mutation({ variables: { value, field } });\r\n      }\r\n    } catch ({ message, graphQLErrors }) {\r\n      if (graphQLErrors) {\r\n        const { message: graphQlMessage } = graphQLErrors[0];\r\n\r\n        throw graphQlMessage;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields,\r\n      errors,\r\n      touched,\r\n      handleChange,\r\n      handleBlur,\r\n      handleSubmit,\r\n      result,\r\n      submitButtonText,\r\n      validateField,\r\n      validate,\r\n      asyncValidationFields,\r\n    } = this.props;\r\n    const { loading } = result;\r\n\r\n    return (\r\n      <FormWrapper onSubmit={handleSubmit}>\r\n        {\r\n          map(fields, (field) => {\r\n            const {\r\n              name,\r\n              type,\r\n              initialValue,\r\n              ...values\r\n            } = field;\r\n            const error = errors[name];\r\n            const isError = error && touched[name];\r\n            const asyncValidationField = find(asyncValidationFields, { name });\r\n\r\n            return (\r\n              <Choose>\r\n                <When condition={asyncValidationField}>\r\n                  <AsyncFormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    result={asyncValidationField.validation.result}\r\n                    validate={this.validate}\r\n                    validateField={validateField}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'password'}>\r\n                  <FormInputPassword\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    isError={isError}\r\n                    error={error}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </When>\r\n                <When condition={type === 'radio'}>\r\n                  <FormInputRadio\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                  />\r\n                </When>\r\n                <Otherwise>\r\n                  <FormInput\r\n                    {...values}\r\n                    key={name}\r\n                    name={name}\r\n                    type={type}\r\n                    error={error}\r\n                    isError={isError}\r\n                    validateField={validateField}\r\n                    validate={this.validate}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                  />\r\n                </Otherwise>\r\n              </Choose>\r\n            );\r\n          })\r\n        }\r\n        <FormSubmit loading={loading} text={submitButtonText} />\r\n      </FormWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: ({ initialValues }) => initialValues,\r\n\r\n  handleSubmit: (form, { props: { mutation } }) => {\r\n    mutation({ variables: { form } });\r\n  },\r\n\r\n  validateOnChange: false,\r\n  validateOnBlur: false,\r\n})(Form);\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\n// import {} from 'lodash';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\nimport RegFormStepper from './RegFormStepper';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    padding: ${getSpacing(5)} ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\n\r\nconst SignUp = ({\r\n  steps,\r\n  activeStep,\r\n  completed,\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <RegFormStepper activeStep={activeStep} steps={steps} />\r\n      </Header>\r\n      <Choose>\r\n        <When condition={completed}>\r\n          {'Your account had been successfuly completed.Check your email and confirm registration.'}\r\n        </When>\r\n        <When condition={activeStep === 0}>\r\n          <Form\r\n            {...formConfig('signUpStepOne')}\r\n            mutation={signUp.mutation}\r\n            result={signUp.result}\r\n            submitButtonText=\"Confirm\"\r\n            asyncValidationFields={[{\r\n              name: 'username',\r\n              validation: signUpAsyncValidationUsername,\r\n            }, {\r\n              name: 'email',\r\n              validation: signUpAsyncValidationEmail,\r\n            }]}\r\n          />\r\n          <SocialMedia\r\n            mutation={signUpBySocial.mutation}\r\n            result={signUpBySocial.result}\r\n            note=\"Sign Up with social media:\"\r\n          />\r\n        </When>\r\n        <When condition={activeStep === 1}>\r\n          <Form\r\n            {...formConfig('signUpStepTwo')}\r\n            mutation={signUpCompletion.mutation}\r\n            result={signUpCompletion.result}\r\n            submitButtonText=\"Confirm\"\r\n          />\r\n        </When>\r\n        <Otherwise>\r\n          {null}\r\n        </Otherwise>\r\n      </Choose>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\r\n\r\nimport Social from './Social';\r\nimport SocialButton from './SocialButton';\r\n\r\nconst Facebook = ({ loading, mutation }) => (\r\n  <Social social=\"facebook\" color={blue[900]}>\r\n    <FacebookLogin\r\n      fields=\"first_name,last_name,id,email,gender\"\r\n      appId={process.env.FACEBOOK_APP_ID}\r\n      callback={({\r\n        // eslint-disable-next-line\r\n        userID: id,\r\n        email,\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n      }) => mutation({\r\n        variables: {\r\n          social: {\r\n            id,\r\n            name: 'facebook',\r\n          },\r\n          profile: {\r\n            email,\r\n            firstName,\r\n            lastName,\r\n          },\r\n        },\r\n      })}\r\n      render={({ onClick }) => (\r\n        <SocialButton loading={loading} onClick={onClick} icon={faFacebook} />\r\n      )}\r\n    />\r\n  </Social>\r\n);\r\n\r\nexport default Facebook;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\nimport {\r\n  map, isEmpty, find, filter, upperCase,\r\n} from 'lodash';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport ListSearch from './AppList/ListSearch';\r\nimport AppList from './AppList/List';\r\nimport ContactPanelItem from './ContactPanelItem';\r\nimport ContactPanelFooter from './ContactPanelFooter';\r\nimport SearchDialog from './SearchDialog';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    background-color: ${getStyledProps('theme.palette.background.default')};\r\n    padding: ${getSpacing(2)};\r\n    padding-top: ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nexport const NoContactInfo = styled.div`\r\n  ${size('100%')};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  p {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nclass ContactPanel extends Component {\r\n  state = {\r\n    searchDialog: false,\r\n    searchValue: '',\r\n  }\r\n\r\n  toggleSearchDialog = () => {\r\n    this.setState(({ searchDialog }) => ({ searchDialog: !searchDialog }));\r\n  }\r\n\r\n  onChangeSearchValue = (searchValue) => {\r\n    this.setState({ searchValue });\r\n  }\r\n\r\n  sortContacts = () => {\r\n    const { searchValue } = this.state;\r\n    const { contacts } = this.props;\r\n\r\n    return filter(contacts, ({ userInfo }) => {\r\n      const upperName = upperCase(userInfo.displayName);\r\n      const upperSearchValue = upperCase(searchValue);\r\n\r\n      return upperName.indexOf(upperSearchValue) !== -1;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { searchDialog, searchValue } = this.state;\r\n    const {\r\n      loading,\r\n      me,\r\n      contacts,\r\n      chats,\r\n      selected,\r\n      selectChat,\r\n    } = this.props;\r\n    const sortedContacts = this.sortContacts();\r\n\r\n    return (\r\n      <Wrapper square elevation={0}>\r\n        <ListSearch searchValue={searchValue} onChange={this.onChangeSearchValue} />\r\n        <AppList>\r\n          <Choose>\r\n            <When condition={isEmpty(contacts)}>\r\n              <NoContactInfo>\r\n                <Choose>\r\n                  <When condition={loading}>\r\n                    <CircularProgress color=\"primary\" />\r\n                  </When>\r\n                  <Otherwise>\r\n                    <Typography variant=\"subtitle2\">\r\n                      <p>Your contact list is empty.</p>\r\n                      <p>Click on the \"+\" icon to find your contacts</p>\r\n                    </Typography>\r\n                  </Otherwise>\r\n                </Choose>\r\n              </NoContactInfo>\r\n            </When>\r\n            <Otherwise>\r\n              {map(sortedContacts, ({ chatId, userInfo }) => {\r\n                const { id } = userInfo;\r\n                const { messages } = find(chats, { id: chatId });\r\n\r\n                return (\r\n                  <ContactPanelItem\r\n                    key={id}\r\n                    myId={me.id}\r\n                    contact={userInfo}\r\n                    message={messages[messages.length - 1]}\r\n                    isSelected={selected === chatId}\r\n                    onSelect={() => selectChat(chatId)}\r\n                  />\r\n                );\r\n              })}\r\n            </Otherwise>\r\n          </Choose>\r\n        </AppList>\r\n        <ContactPanelFooter toggleSearchDialog={this.toggleSearchDialog} />\r\n        <If condition={searchDialog}>\r\n          <SearchDialog open={searchDialog} toggle={this.toggleSearchDialog} />\r\n        </If>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContactPanel;\r\n","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\nimport { map, findIndex, includes } from 'lodash';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport blue from '@material-ui/core/colors/blue';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\nimport {\r\n  messageTimeParser,\r\n  messageHistoryDateParser,\r\n  isSameDay,\r\n} from '../../../helpers';\r\n\r\nconst Wrapper = styled.div`\r\n  flex: 1 auto;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst MessagePanelList = styled(List)`\r\n  && {\r\n    ${position('absolute', 0, '-17px', 0, 0)}\r\n    height: 100%;\r\n    max-height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    justify-content: flex-end;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n  }\r\n`;\r\n\r\nconst MessagePanelListItem = styled(ListItem)`\r\n  && {\r\n    flex-flow: column;\r\n  }\r\n`;\r\n\r\nconst MessagePanelListItemMessageWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: ${({ alignItems }) => alignItems};\r\n`;\r\n\r\nconst MessagePanelHistoryDivider = styled.div`\r\n  width: 100%;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: ${getSpacing(1)} 0;\r\n\r\n  p {\r\n    height: 1px;\r\n    flex: 1 auto;\r\n    display: inline-flex;\r\n    background-color: ${grey[500]};\r\n    border-radius: 2px;\r\n  }\r\n\r\n  span {\r\n    padding: 0 ${getSpacing(2)};\r\n    color: ${grey[500]};\r\n  }\r\n`;\r\n\r\nconst MessagePanelMessage = styled.div`\r\n  max-width: 49%;\r\n  padding: ${getSpacing(2)};\r\n  ${({ isMyMessage }) => ({\r\n    [`border-bottom-${isMyMessage ? 'left' : 'right'}-radius`]: 0,\r\n  })};\r\n  background-color: ${({ isMyMessage }) => (isMyMessage ? grey[100] : blue[100])};\r\n  border-radius: 10px;\r\n  opacity: ${({ isAdding }) => (isAdding ? 0.3 : 1)};\r\n  word-break: break-all;\r\n  ${getStyledProps('theme.typography.body1')};\r\n\r\n  &:hover {\r\n    cursor: text;\r\n  }\r\n`;\r\n\r\nconst MessagePanelSystemMessage = styled.div`\r\n  padding: ${getSpacing(1)};\r\n  color: ${grey[500]};\r\n  background-color: ${grey[100]};\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst MessagePanelMessageTime = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n\r\n  span {\r\n    ${getStyledProps('theme.typography.caption')};\r\n    color: ${getStyledProps('theme.palette.text.secondary')};\r\n  }\r\n`;\r\n\r\nconst MessagePanelLoading = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nclass MessagePanelMessages extends Component {\r\n  render() {\r\n    const { messages, myId, loading, sendedIds } = this.props;\r\n\r\n    const renderMessages = () => {\r\n      let prevMessageTime;\r\n\r\n      return map(messages, ({\r\n        id,\r\n        senderId,\r\n        type,\r\n        time,\r\n        content,\r\n      }) => {\r\n        const isSystem = type === 'system';\r\n        const isFirst = findIndex(messages, { id }) === 0;\r\n        const isMyMessage = senderId === myId;\r\n        const isAdding = includes(sendedIds, id);\r\n        const direction = isMyMessage ? 'start' : 'end';\r\n        const alignItems = isSystem ? 'center' : `flex-${direction}`;\r\n        let divider = false;\r\n\r\n        if (prevMessageTime) {\r\n          divider = !isSameDay(time, prevMessageTime);\r\n        }\r\n        prevMessageTime = time;\r\n\r\n        return (\r\n          <MessagePanelListItem key={id}>\r\n            <MessagePanelListItemMessageWrapper alignItems={alignItems}>\r\n              <If condition={isFirst || divider}>\r\n                <MessagePanelHistoryDivider>\r\n                  <p />\r\n                  <span>{messageHistoryDateParser(time)}</span>\r\n                  <p />\r\n                </MessagePanelHistoryDivider>\r\n              </If>\r\n              <Choose>\r\n                <When condition={isSystem}>\r\n                  <MessagePanelSystemMessage>\r\n                    <p>{content}</p>\r\n                  </MessagePanelSystemMessage>\r\n                </When>\r\n                <Otherwise>\r\n                  <MessagePanelMessage\r\n                    isMyMessage={isMyMessage}\r\n                    isAdding={isAdding}\r\n                  >\r\n                    {content}\r\n                  </MessagePanelMessage>\r\n                  <MessagePanelMessageTime>\r\n                    <span>{messageTimeParser(time, 'wide')}</span>\r\n                  </MessagePanelMessageTime>\r\n                </Otherwise>\r\n              </Choose>\r\n            </MessagePanelListItemMessageWrapper>\r\n          </MessagePanelListItem>\r\n        );\r\n      });\r\n    };\r\n\r\n    return (\r\n      <Wrapper>\r\n        <MessagePanelList disablePadding>\r\n          <Fragment>\r\n            <If condition={loading}>\r\n              <MessagePanelLoading>\r\n                <CircularProgress color=\"primary\" />\r\n              </MessagePanelLoading>\r\n            </If>\r\n            {renderMessages()}\r\n          </Fragment>\r\n        </MessagePanelList>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessagePanelMessages;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  margin-bottom: ${getSpacing(1)};\r\n  color: ${getStyledProps('theme.palette.grey.600')};\r\n  background-color: #fff;\r\n  border-radius: ${getStyledProps('theme.shape.borderRadius', 'px')}\r\n`;\r\n\r\nconst SearchIconWrapper = styled.div`\r\n  flex: 0 40px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${getStyledProps('theme.palette.primary.light')};\r\n`;\r\n\r\nconst SearchInput = styled(InputBase)`\r\n  && {\r\n    flex: 1 auto;\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\nconst ListSearch = ({ searchValue, onChange, autoFocus }) => (\r\n  <Wrapper>\r\n    <SearchIconWrapper>\r\n      <SearchIcon />\r\n    </SearchIconWrapper>\r\n    <SearchInput\r\n      type=\"text\"\r\n      value={searchValue}\r\n      onChange={({ target: { value } }) => onChange(value)}\r\n      placeholder=\"Search...\"\r\n      autoFocus={autoFocus}\r\n    />\r\n  </Wrapper>\r\n);\r\n\r\nListSearch.defaultProps = {\r\n  autoFocus: false,\r\n};\r\nListSearch.props = {\r\n  autoFocus: PropTypes.bool,\r\n};\r\n\r\nexport default ListSearch;\r\n","import { adopt } from 'react-adopt';\r\n\r\nimport gql from '../../gql';\r\nimport { createMutation } from '../../apollo/utils';\r\n\r\nconst {\r\n  SIGN_UP_ASYNC_VALIDATION,\r\n  SIGN_UP,\r\n  SIGN_UP_COMPLETION,\r\n  SIGN_UP_BY_SOCIAL,\r\n} = gql;\r\n\r\nconst signUpAsyncValidationUsername = createMutation('signUpAsyncValidationUsername', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUpAsyncValidationEmail = createMutation('signUpAsyncValidationEmail', SIGN_UP_ASYNC_VALIDATION);\r\nconst signUp = createMutation('signUp', SIGN_UP);\r\nconst signUpCompletion = createMutation('signUpCompletion', SIGN_UP_COMPLETION);\r\nconst signUpBySocial = createMutation('signUpBySocial', SIGN_UP_BY_SOCIAL);\r\n\r\nconst RegContainer = adopt({\r\n  signUpAsyncValidationUsername,\r\n  signUpAsyncValidationEmail,\r\n  signUp,\r\n  signUpCompletion,\r\n  signUpBySocial,\r\n});\r\n\r\nexport default RegContainer;\r\n","import auth from './auth';\r\nimport user from './user';\r\nimport chat from './chat';\r\n\r\n\r\nexport default {\r\n  ...auth,\r\n  ...user,\r\n  ...chat,\r\n};\r\n","import React, { Component, createRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport MoodIcon from '@material-ui/icons/MoodRounded';\r\nimport SendIcon from '@material-ui/icons/SendRounded';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport RootRef from '@material-ui/core/RootRef';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport orange from '@material-ui/core/colors/orange';\r\n\r\nimport AppListItemAvatar from '../ContactPanel/AppList/ListItemAvatar';\r\n\r\nimport { getStyledProps, getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  position: relative;\r\n  border-top: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  padding-top: ${getSpacing(1)};\r\n`;\r\n\r\nconst MessagePanelSubmitProgress = styled.div`\r\n  ${position('absolute', '-1px', 0, null, 0)}\r\n  height: 1px;\r\n`;\r\n\r\nconst LinearProgressStyled = styled(LinearProgress)`\r\n  && {\r\n    height: 1px;\r\n  }\r\n`;\r\n\r\nconst MessagePanelCommentAvatar = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: ${getSpacing(2)};\r\n`;\r\n\r\nconst MessagePanelCommentForm = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  position: relative;\r\n`;\r\n\r\nconst MessagePanelCommentInput = styled(Input)`\r\n  && {\r\n    width: 100%;\r\n    min-height: 80px;\r\n    display: inline-flex;\r\n    align-items: flex-start;\r\n\r\n    > div {\r\n      width: 95%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MessagePanelCommentSmiles = styled.div`\r\n  ${position('absolute', 0, 0, null, null)}\r\n  font-size: 28px;\r\n  color: ${grey[500]};\r\n  cursor: pointer;\r\n  z-index: 10;\r\n\r\n  &:hover {\r\n    color: ${orange[300]};\r\n  }\r\n`;\r\n\r\nconst MessagePanelCommentSubmit = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n\r\n  button {\r\n    margin-top: ${getSpacing(1)};\r\n    text-transform: uppercase;\r\n\r\n    svg {\r\n      margin-left: ${getSpacing(1)};\r\n    }\r\n  }\r\n`;\r\n\r\nclass MessagePanelComment extends Component {\r\n  submitButtonRef = createRef();\r\n\r\n  inputRef = createRef();\r\n\r\n  state = {\r\n    value: '',\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { value } = this.state;\r\n    const { submit } = this.props;\r\n\r\n    if (value) {\r\n      submit(value);\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  onChange = () => {\r\n    const { value } = this.inputRef.current;\r\n\r\n    this.setState({ value });\r\n  }\r\n\r\n  clear = () => {\r\n    this.setState({ value: '' });\r\n    this.inputRef.current.focus();\r\n  }\r\n\r\n  onKeyDown = ({ key }) => {\r\n    if (key === 'Escape') {\r\n      this.inputRef.current.blur();\r\n    } else if (key === 'Enter') {\r\n      this.submitButtonRef.current.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { adding, avatars: { me, contact } } = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <MessagePanelSubmitProgress>\r\n          <If condition={adding}>\r\n            <LinearProgressStyled color=\"primary\" />\r\n          </If>\r\n        </MessagePanelSubmitProgress>\r\n        <MessagePanelCommentAvatar>\r\n          <AppListItemAvatar {...me} />\r\n        </MessagePanelCommentAvatar>\r\n        <MessagePanelCommentForm onSubmit={this.onSubmit}>\r\n          <MessagePanelCommentSmiles>\r\n            <MoodIcon fontSize=\"inherit\" color=\"inherit\" />\r\n          </MessagePanelCommentSmiles>\r\n          <MessagePanelCommentInput\r\n            inputRef={this.inputRef}\r\n            value={value}\r\n            onChange={this.onChange}\r\n            onKeyDown={this.onKeyDown}\r\n            placeholder=\"Write a message...\"\r\n            multiline\r\n          />\r\n          <MessagePanelCommentSubmit>\r\n            <RootRef rootRef={this.submitButtonRef}>\r\n              <Button\r\n                variant=\"text\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                {'Send'}\r\n                <SendIcon />\r\n              </Button>\r\n            </RootRef>\r\n          </MessagePanelCommentSubmit>\r\n        </MessagePanelCommentForm>\r\n        <MessagePanelCommentAvatar>\r\n          <AppListItemAvatar {...contact} />\r\n        </MessagePanelCommentAvatar>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessagePanelComment;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { size, position } from 'polished';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\n// import { getStyledProps, getSpacing } from '../../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AvatarIndicator = styled.span`\r\n  ${position('absolute', null, '2px', '2px', null)};\r\n  ${size('10px')};\r\n  display: block;\r\n  background-color: ${green[500]};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ListItemAvatar = ({\r\n  online,\r\n  src,\r\n  alt,\r\n  text,\r\n}) => (\r\n  <Wrapper>\r\n    <Choose>\r\n      <When condition={src}>\r\n        <Avatar src={src} alt={alt || text} />\r\n      </When>\r\n      <Otherwise>\r\n        <Avatar>{text}</Avatar>\r\n      </Otherwise>\r\n    </Choose>\r\n    <If condition={online}>\r\n      <AvatarIndicator />\r\n    </If>\r\n  </Wrapper>\r\n);\r\n\r\nListItemAvatar.defaultProps = {\r\n  online: false,\r\n  src: '',\r\n  alt: '',\r\n  text: '',\r\n};\r\nListItemAvatar.propTypes = {\r\n  online: PropTypes.bool,\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  text: PropTypes.string,\r\n};\r\n\r\nexport default ListItemAvatar;\r\n","import { adopt } from 'react-adopt';\r\nimport { map } from 'lodash';\r\n\r\nimport { createQuery, createMutation, createSubscription } from '../../apollo/utils';\r\nimport gql from '../../gql';\r\nimport { icqBeepPlay } from '../../helpers';\r\n\r\nconst {\r\n  GET_MY_CHATS,\r\n  ADD_MESSAGE,\r\n  MESSAGE_ADDED_SUBSCRIPTION,\r\n} = gql;\r\n\r\nconst addMessageUpdate = (client, { chatId, message }) => {\r\n  const { myContacts, myChats } = client.readQuery({ query: GET_MY_CHATS });\r\n  const updatedMyChats = map(myChats, (chat) => {\r\n    const { id } = chat;\r\n\r\n    if (id === chatId) {\r\n      chat.messages.push(message);\r\n    }\r\n    return chat;\r\n  });\r\n\r\n  client.writeQuery({\r\n    query: GET_MY_CHATS,\r\n    data: {\r\n      myContacts,\r\n      myChats: updatedMyChats,\r\n    },\r\n  });\r\n};\r\n\r\nconst getMyChats = createQuery('getMyChats', GET_MY_CHATS, {\r\n  notifyOnNetworkStatusChange: true,\r\n});\r\nconst addMessage = createMutation('addMessage', ADD_MESSAGE, {\r\n  update(client, { data }) {\r\n    addMessageUpdate(client, data.addMessage);\r\n  },\r\n});\r\nconst messageAddedSubscription = createSubscription('messageAddedSubscription', MESSAGE_ADDED_SUBSCRIPTION, {\r\n  onSubscriptionData({ client, subscriptionData: { data: { messageAdded } } }) {\r\n    addMessageUpdate(client, messageAdded);\r\n    // icqBeepPlay();\r\n  },\r\n});\r\n\r\nconst ContactsContainer = adopt({\r\n  getMyChats,\r\n  addMessage,\r\n  messageAddedSubscription,\r\n});\r\n\r\nexport default ContactsContainer;\r\n","import { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\nconst cache = new InMemoryCache();\r\n\r\nconst initialState = {\r\n  sessionExpired: false,\r\n  me: {\r\n    __typename: 'User',\r\n  },\r\n  myContacts: [],\r\n  myChats: [],\r\n};\r\n\r\nexport const initData = () => {\r\n  cache.writeData({ data: initialState });\r\n};\r\ninitData();\r\n\r\nexport default cache;\r\n","import React, { Component } from 'react';\r\nimport createReactContext from 'create-react-context';\r\n\r\nexport const AppContext = createReactContext({});\r\n\r\nclass AppProvider extends Component {\r\n  state = {\r\n    fetching: false,\r\n    user: {},\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user });\r\n  }\r\n\r\n  setFetching = (fetching) => {\r\n    this.setState({ fetching });\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <AppContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          setUser: this.setUser,\r\n          setFetching: this.setFetching,\r\n        }}\r\n      >\r\n        {children}\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppProvider;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\n\r\nimport { getSpacing } from '../../../../styles';\r\n\r\nconst ListItemStyled = styled(ListItem)`\r\n  && {\r\n    padding: 0 ${getSpacing(1)};\r\n    margin-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst AppListItem = ({ children, onClick }) => {\r\n  return (\r\n    <ListItemStyled onClick={onClick}>\r\n      {children}\r\n    </ListItemStyled>\r\n  );\r\n};\r\n\r\nexport default AppListItem;\r\n","import { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloLink, from, split } from 'apollo-link';\r\nimport { onError } from 'apollo-link-error';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\r\nimport { isEmpty } from 'lodash';\r\n\r\nimport storage from '../storage';\r\nimport client from './index';\r\n\r\nconst httpLink = createUploadLink({\r\n  uri: process.env.APOLLO_URL,\r\n});\r\nconst wsClient = new SubscriptionClient(process.env.WS_URL, {\r\n  reconnect: true,\r\n});\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options, next) => {\r\n    options.tokens = storage.getTokens();\r\n    next();\r\n  },\r\n};\r\n\r\nconst wsLink = new WebSocketLink(wsClient);\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst networkLink = split(\r\n  ({ query }) => {\r\n    const { kind, operation } = getMainDefinition(query);\r\n    return kind === 'OperationDefinition' && operation === 'subscription';\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst authLink = new ApolloLink((operation, forward) => {\r\n  operation.setContext({\r\n    headers: {\r\n      'x-token': storage.token.get(),\r\n      'x-refresh-token': storage.refreshToken.get(),\r\n    },\r\n  });\r\n  return forward(operation);\r\n});\r\n\r\nconst tokenLink = new ApolloLink((operation, forward) => forward(operation).map((response) => {\r\n  const context = operation.getContext();\r\n\r\n  if ('response' in context) {\r\n    const { response: { headers } } = context;\r\n\r\n    if (headers) {\r\n      const token = headers.get('x-token');\r\n      const refreshToken = headers.get('x-refresh-token');\r\n\r\n      if (token && refreshToken) {\r\n        storage.setTokens(token, refreshToken);\r\n      }\r\n    }\r\n  }\r\n  return response;\r\n}));\r\n\r\nconst errorLink = onError(({ networkError = {}, graphQLErrors }) => {\r\n  if (networkError.statusCode === 401) {\r\n    client.writeData({ data: { sessionExpired: true } });\r\n  }\r\n  if (!isEmpty(networkError)) {\r\n    console.log(networkError);\r\n  }\r\n  if (!isEmpty(graphQLErrors)) {\r\n    console.log(graphQLErrors);\r\n  }\r\n});\r\n\r\nconst logger = new ApolloLink((operation, forward) => {\r\n  const { operationName } = operation;\r\n  console.log(`log operation: ${operationName}`, operation);\r\n  return forward(operation).map((response) => {\r\n    console.log(`log operation result ${operationName}:`, response);\r\n    return response;\r\n  });\r\n});\r\n\r\nconst link = from([\r\n  authLink,\r\n  tokenLink,\r\n  logger,\r\n  errorLink,\r\n  networkLink,\r\n]);\r\n\r\nexport default link;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n// import InfoIcon from '@material-ui/icons/Info';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport amber from '@material-ui/core/colors/amber';\r\n\r\nimport { getStyledProps } from '../../styles';\r\n\r\nconst NotificationMessageIcon = ({ type }) => (\r\n  <Choose>\r\n    <When condition={type === 'error'}>\r\n      <ErrorIcon />\r\n    </When>\r\n    <When condition={type === 'warning'}>\r\n      <WarningIcon />\r\n    </When>\r\n    <Otherwise>{null}</Otherwise>\r\n  </Choose>\r\n);\r\n\r\nconst NotificationMessageWrapper = styled.p`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #fff;\r\n\r\n  span {\r\n    margin-left: 1em;\r\n  }\r\n`;\r\n\r\nconst NotificationContentWrapper = styled(SnackbarContent)`\r\n  && {\r\n    background-color: ${(props) => {\r\n    const { type } = props;\r\n\r\n    if (type === 'error') {\r\n      return getStyledProps('theme.palette.error.main')(props);\r\n    }\r\n    return amber[500];\r\n  }}}\r\n`;\r\n\r\nconst NotificationMessage = ({ type, message }) => (\r\n  <NotificationMessageWrapper>\r\n    <NotificationMessageIcon type={type} />\r\n    <span>\r\n      {message}\r\n    </span>\r\n  </NotificationMessageWrapper>\r\n);\r\n\r\nconst NotificationClose = ({ toggle }) => (\r\n  <IconButton\r\n    key=\"close\"\r\n    aria-label=\"Close\"\r\n    color=\"inherit\"\r\n    onClick={toggle}\r\n  >\r\n    <CloseIcon />\r\n  </IconButton>\r\n);\r\n\r\nconst NotificationContent = ({ type, message, toggle }) => (\r\n  <NotificationContentWrapper\r\n    type={type}\r\n    aria-describedby=\"alert-notification\"\r\n    message={<NotificationMessage key=\"message\" type={type} message={message} />}\r\n    action={[<NotificationClose key=\"close\" toggle={toggle} />]}\r\n  />\r\n);\r\n\r\nconst Notification = ({\r\n  type,\r\n  message,\r\n  open,\r\n  toggle,\r\n  ...rest\r\n}) => (\r\n  <Snackbar\r\n    open={open}\r\n    onClose={(event, reason) => {\r\n      if (reason === 'timeout' && !open) {\r\n        return;\r\n      }\r\n      toggle();\r\n    }}\r\n    anchorOrigin={{\r\n      horizontal: 'right',\r\n      vertical: 'top',\r\n    }}\r\n    autoHideDuration={4000}\r\n    TransitionProps={{\r\n      direction: 'left',\r\n    }}\r\n    {...rest}\r\n  >\r\n    <NotificationContent type={type} message={message} toggle={() => toggle()} />\r\n  </Snackbar>\r\n);\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/SettingsRounded';\r\nimport SearchIcon from '@material-ui/icons/SearchRounded';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport { getStyledProps } from '../../../styles';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid ${getStyledProps('theme.palette.grey.300')};\r\n  z-index: 20;\r\n`;\r\n\r\nconst MessagePanelTopBarName = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n\r\n  p {\r\n    ${getStyledProps('theme.typography.subtitle2')};\r\n  }\r\n`;\r\n\r\nconst MessagePanelTopBarStatus = styled.span`\r\n  ${getStyledProps('theme.typography.caption')};\r\n  color: ${({ online, ...rest }) => (online\r\n    ? green[600]\r\n    : getStyledProps('theme.palette.grey.500')(rest))};\r\n`;\r\n\r\nconst MessagePanelTopBar = ({ name, statusText, isOnline }) => (\r\n  <Wrapper>\r\n    <IconButton>\r\n      <SearchIcon />\r\n    </IconButton>\r\n    <MessagePanelTopBarName>\r\n      <p>{name}</p>\r\n      <MessagePanelTopBarStatus online={isOnline}>\r\n        {statusText}\r\n      </MessagePanelTopBarStatus>\r\n    </MessagePanelTopBarName>\r\n    <IconButton>\r\n      <SettingsIcon />\r\n    </IconButton>\r\n  </Wrapper>\r\n);\r\n\r\nexport default MessagePanelTopBar;\r\n","// import {} from 'lodash';\r\n\r\nconst createTokenMethods = name => ({\r\n  name,\r\n  set(token) {\r\n    localStorage.setItem(this.name, token);\r\n  },\r\n  get() {\r\n    return localStorage.getItem(this.name) || '';\r\n  },\r\n  remove() {\r\n    localStorage.removeItem(this.name);\r\n  },\r\n});\r\n\r\nexport default {\r\n  token: createTokenMethods('chatkilla_tkn'),\r\n  refreshToken: createTokenMethods('chatkilla_rfrsh_tkn'),\r\n  setTokens(token, refreshToken) {\r\n    this.token.set(token);\r\n    this.refreshToken.set(refreshToken);\r\n  },\r\n  getTokens() {\r\n    const token = this.token.get();\r\n    const refreshToken = this.refreshToken.get();\r\n\r\n    return { token, refreshToken };\r\n  },\r\n  removeTokens() {\r\n    this.token.remove();\r\n    this.refreshToken.remove();\r\n  },\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { position } from 'polished';\r\n\r\nimport List from '@material-ui/core/List';\r\n\r\nimport { getStyledProps } from '../../../../styles';\r\n\r\nexport const Wrapper = styled.div`\r\n  flex: 1 auto;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ListStyled = styled(List)`\r\n  && {\r\n    ${position('absolute', 0, '-17px', 0, 0)}\r\n    height: 100%;\r\n    max-height: 100%;\r\n    overflow-y: scroll;\r\n    transition-duration: ${getStyledProps('theme.transitions.duration.shortest', 'ms')};\r\n    transition-timing-function: ${getStyledProps('theme.transitions.easing.sharp')};\r\n  }\r\n`;\r\n\r\nconst AppList = ({ children }) => (\r\n  <Wrapper>\r\n    <ListStyled disablePadding>\r\n      {children}\r\n    </ListStyled>\r\n  </Wrapper>\r\n);\r\n\r\nexport default AppList;\r\n","import gql from 'graphql-tag';\r\n\r\nexport const authPayloadFragment = gql`\r\n  fragment tokens on AuthPayload {\r\n    token\r\n    refreshToken\r\n  }\r\n`;\r\n\r\nexport const myFragment = gql`\r\n  fragment myData on User {\r\n    id\r\n    avatar {\r\n      sm\r\n      md\r\n    }\r\n    username\r\n    displayName\r\n    firstName\r\n    lastName\r\n    status\r\n  }\r\n`;\r\n\r\nexport const myContactFragment = gql`\r\n  fragment myContactData on MyContact {\r\n    id\r\n    chatId\r\n    userInfo {\r\n      id\r\n      avatar {\r\n        sm\r\n        md\r\n      }\r\n      username\r\n      displayName\r\n      firstName\r\n      lastName\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n\r\nexport const messageFragment = gql`\r\n  fragment messageData on ChatMessage {\r\n    id\r\n    senderId\r\n    type\r\n    content\r\n    time\r\n    edited\r\n    seen\r\n  }\r\n`;\r\n\r\nexport const myChatFragment = gql`\r\n  fragment myChatData on Chat {\r\n    id\r\n    messages {\r\n      ...messageData\r\n    }\r\n  }\r\n  ${messageFragment}\r\n`;\r\n\r\nexport const myContactActivityFragment = gql`\r\n  fragment contactActivity on MyContact {\r\n    userInfo {\r\n      id\r\n      status\r\n      lastDate\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\nimport importedComponent from 'react-imported-component';\r\n\r\nimport Login from '../components/dumb/Login/Login';\r\nimport Reg from '../components/dumb/Reg/Reg';\r\nimport Chats from '../components/dumb/Chats/Chats';\r\nimport NotFound from '../components/common/NotFound';\r\nimport PageLoader from '../components/common/PageLoader';\r\n\r\nimport AppRoute from './AppRoute';\r\n\r\nconst LoginLayout = importedComponent(() => import('../components/layouts/LoginLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst AppLayout = importedComponent(() => import('../components/layouts/AppLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst NotFoundLayout = importedComponent(() => import('../components/layouts/NotFoundLayout'), {\r\n  LoadingComponent: PageLoader,\r\n});\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <AppRoute path=\"/login\" layout={LoginLayout} component={Login} />\r\n    <AppRoute path=\"/reg\" layout={LoginLayout} component={Reg} />\r\n    <AppRoute exact path=\"/\" component={Redirect} to=\"/chats\" redirect />\r\n    <AppRoute path=\"/chats\" layout={AppLayout} component={Chats} privateRoute />\r\n    <AppRoute path=\"*\" layout={NotFoundLayout} component={NotFound} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\n// import {} from 'polished';\r\n// import {} from 'lodash';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Form from '../../common/Form/Form';\r\nimport formConfig from '../../common/Form/formConfig';\r\nimport SocialMedia from '../../common/SocialMedia/SocialMedia';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst Wrapper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    max-width: 375px;\r\n    min-width: 320px;\r\n    padding: ${getSpacing(5)} ${getSpacing(3)};\r\n  }\r\n`;\r\n\r\nconst Header = styled(Typography)`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n\r\nconst SignUpButton = styled(Button)`\r\n  && {\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nconst LoginForm = ({\r\n  signIn,\r\n  signInBySocial,\r\n  toSignUp,\r\n}) => {\r\n  return (\r\n    <Wrapper elevation={8}>\r\n      <Header variant=\"h1\" color=\"primary\" align=\"center\" gutterBottom>\r\n        <AccountCircleIcon fontSize=\"inherit\" color=\"primary\" />\r\n      </Header>\r\n      <Form\r\n        {...formConfig('signIn')}\r\n        mutation={signIn.mutation}\r\n        result={signIn.result}\r\n        submitButtonText=\"Sign In\"\r\n      />\r\n      <SignUpButton\r\n        onClick={toSignUp}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n      >\r\n        {'Sign Up'}\r\n      </SignUpButton>\r\n      <SocialMedia\r\n        mutation={signInBySocial.mutation}\r\n        result={signInBySocial.result}\r\n        note=\"Sign In with social media:\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport LoginContainer from '../../smart/LoginContainer';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/login-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass Login extends Component {\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    const { history } = this.props;\r\n\r\n    storage.setTokens(token, refreshToken);\r\n    history.push('/');\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message, data: { invalidField } } = graphQLErrors[0];\r\n\r\n      if (!invalidField) {\r\n        toggleNotification(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  toSignUp = () => {\r\n    const { history } = this.props;\r\n\r\n    history.push('/reg');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <LoginContainer\r\n        signInProps={{\r\n          onCompleted: ({ signIn }) => this.handleSuccess(signIn),\r\n          onError: this.handleError,\r\n        }}\r\n        signInBySocialProps={{\r\n          onCompleted: ({ signInBySocial }) => this.handleSuccess(signInBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({ signIn, signInBySocial }) => (\r\n          <Wrapper\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <LoginForm\r\n              signIn={signIn}\r\n              signInBySocial={signInBySocial}\r\n              toSignUp={this.toSignUp}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </LoginContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNotification(Login);\r\n","import React, { PureComponent, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { map, find } from 'lodash';\r\n\r\n// import Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport SearchDialogContainer from '../../smart/SearchDialogContainer';\r\n\r\nimport ListSearch from './AppList/ListSearch';\r\nimport List from './AppList/List';\r\nimport SearchDialogListItem from './SearchDialogListItem';\r\n\r\nimport { getSpacing } from '../../../styles';\r\n\r\nconst ListWrapper = styled.div`\r\n  height: 200px;\r\n  display: flex;\r\n`;\r\n\r\nconst SubTitle = styled(Typography)`\r\n  && {\r\n    padding: 0 ${getSpacing(3)};\r\n    padding-bottom: ${getSpacing(1)};\r\n  }\r\n`;\r\n\r\nconst ProgressWrapper = styled.div`\r\n  flex: 1 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nclass SearchDialog extends PureComponent {\r\n  state = {\r\n    searchValue: '',\r\n    confirmDialog: false,\r\n    selectedUser: {},\r\n  }\r\n\r\n  onChangeSearchValue = (value, refetch) => {\r\n    this.setState(\r\n      () => ({ searchValue: value }),\r\n      () => {\r\n        refetch();\r\n      },\r\n    );\r\n  }\r\n\r\n  openConfirmDialog = (user = {}) => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n      selectedUser: user,\r\n    }));\r\n  }\r\n\r\n  closeConfirmDialog = () => {\r\n    this.setState(({ confirmDialog }) => ({\r\n      confirmDialog: !confirmDialog,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { searchValue, confirmDialog, selectedUser } = this.state;\r\n    const { open, toggle } = this.props;\r\n\r\n    return (\r\n      <SearchDialogContainer\r\n        searchUsersProps={{\r\n          variables: { searchValue },\r\n          skip: !searchValue,\r\n        }}\r\n      >\r\n        {({\r\n          searchUsers: { loading, data, refetch },\r\n          createChat,\r\n          getMyContacts,\r\n        }) => {\r\n          const { data: { myContacts } } = getMyContacts;\r\n\r\n          return (\r\n            <Fragment>\r\n              <Dialog open={open} onClose={toggle} scroll=\"body\">\r\n                <DialogTitle>\r\n                  Search contact\r\n                </DialogTitle>\r\n                <SubTitle variant=\"subtitle2\">\r\n                  Search contact by name or use \"@\" as a first character for searching by username.\r\n                </SubTitle>\r\n                <DialogContent>\r\n                  <ListSearch\r\n                    value={searchValue}\r\n                    onChange={value => this.onChangeSearchValue(value, refetch)}\r\n                    autoFocus\r\n                  />\r\n                  <ListWrapper>\r\n                    <Choose>\r\n                      <When condition={loading}>\r\n                        <ProgressWrapper>\r\n                          <CircularProgress size={20} />\r\n                        </ProgressWrapper>\r\n                      </When>\r\n                      <When condition={!data}>\r\n                        {null}\r\n                      </When>\r\n                      <Otherwise>\r\n                        <List>\r\n                          {map(data.searchUsers, (user) => {\r\n                            const { id } = user;\r\n                            const added = !!find(myContacts, ({ userInfo }) => userInfo.id === id);\r\n\r\n                            return (\r\n                              <SearchDialogListItem\r\n                                key={id}\r\n                                item={user}\r\n                                adding={createChat.result.loading && selectedUser.id === id}\r\n                                added={added}\r\n                                openConfirmDialog={this.openConfirmDialog}\r\n                              />\r\n                            );\r\n                          })}\r\n                        </List>\r\n                      </Otherwise>\r\n                    </Choose>\r\n                  </ListWrapper>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button onClick={toggle} color=\"primary\">Close</Button>\r\n                </DialogActions>\r\n                {/* <DialogActions>\r\n                  <Button onClick={toggle} color=\"primary\">Cancel</Button>\r\n                  <Button color=\"primary\" disabled>Add</Button>\r\n                </DialogActions> */}\r\n              </Dialog>\r\n              <If condition={confirmDialog}>\r\n                <Dialog open={confirmDialog} onClose={toggle}>\r\n                  <DialogTitle>Create chat with {selectedUser.displayName}?</DialogTitle>\r\n                  <DialogActions>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      onClick={this.closeConfirmDialog}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        createChat.mutation({ variables: { userId: selectedUser.id } });\r\n                        this.closeConfirmDialog();\r\n                      }}\r\n                    >\r\n                      Confirm\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </If>\r\n            </Fragment>\r\n          );\r\n        }}\r\n      </SearchDialogContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDialog;\r\n","import React, { Fragment } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from 'styled-components';\r\n\r\nimport AppProvider from './context/AppProvider';\r\nimport Router from '../router';\r\nimport { GlobalStyle, theme } from '../styles';\r\n\r\nconst App = () => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ThemeProvider theme={theme}>\r\n        <AppProvider>\r\n          <Fragment>\r\n            <GlobalStyle />\r\n            <Router />\r\n          </Fragment>\r\n        </AppProvider>\r\n      </ThemeProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default hot(module)(App);\r\n","import { ApolloClient } from 'apollo-client';\r\n\r\nimport link from './link';\r\nimport cache, { initData } from './cache';\r\n\r\nconst client = new ApolloClient({\r\n  link,\r\n  cache,\r\n  credentials: 'include',\r\n});\r\n\r\nclient.onResetStore(initData);\r\n\r\nexport default client;\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport queryString from 'query-string';\r\nimport styled from 'styled-components';\r\nimport { backgrounds } from 'polished';\r\n\r\nimport RegContainer from '../../smart/RegContainer';\r\nimport RegForm from './RegForm';\r\n\r\nimport withNotification from '../../common/HOC/withNotification';\r\nimport { checkToken } from '../../../router/PrivateRoute';\r\nimport storage from '../../../storage';\r\n\r\nimport bgImage from '../../../assets/images/reg-bg__1920_95.jpg';\r\n\r\nconst Wrapper = styled(Grid)`\r\n  flex: 1 auto;\r\n  ${backgrounds(`url(${bgImage})`, 'center no-repeat')}\r\n  background-size: cover;\r\n`;\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    activeStep: 0,\r\n    completed: false,\r\n  }\r\n\r\n  steps = [\r\n    'Create your account',\r\n    'Tell us about yourself',\r\n  ];\r\n\r\n  async componentDidMount() {\r\n    const { location: { search }, history } = this.props;\r\n    const { token } = queryString.parse(search);\r\n\r\n    if (token) {\r\n      try {\r\n        const { regStatus } = await checkToken(token, true);\r\n\r\n        if (regStatus) {\r\n          this.setActiveStep(1);\r\n        } else {\r\n          history.push('/reg');\r\n        }\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSuccess = ({ token, refreshToken }) => {\r\n    if (token && refreshToken) {\r\n      const { history } = this.props;\r\n\r\n      storage.setTokens(token, refreshToken);\r\n      history.push('/');\r\n    } else {\r\n      this.setState({ completed: true });\r\n    }\r\n  }\r\n\r\n  handleError = (e) => {\r\n    if (e.graphQLErrors) {\r\n      const { toggleNotification } = this.props;\r\n      const { graphQLErrors } = e;\r\n      const { message } = graphQLErrors[0];\r\n\r\n      toggleNotification(message);\r\n    }\r\n  }\r\n\r\n  setActiveStep = (step) => {\r\n    this.setState(() => ({ activeStep: step }));\r\n  }\r\n\r\n  render() {\r\n    const { activeStep, completed } = this.state;\r\n\r\n    return (\r\n      <RegContainer\r\n        signUpProps={{\r\n          onCompleted: ({ signUp }) => this.handleSuccess(signUp),\r\n        }}\r\n        signUpCompletionProps={{\r\n          onCompleted: ({ signUpCompletion }) => this.handleSuccess(signUpCompletion),\r\n        }}\r\n        signUpBySocialProps={{\r\n          onCompleted: ({ signUpBySocial }) => this.handleSuccess(signUpBySocial),\r\n          onError: this.handleError,\r\n        }}\r\n      >\r\n        {({\r\n          signUpAsyncValidationUsername,\r\n          signUpAsyncValidationEmail,\r\n          signUp,\r\n          signUpCompletion,\r\n          signUpBySocial,\r\n        }) => (\r\n          <Wrapper\r\n            ref={this.createRef}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n            container\r\n          >\r\n            <RegForm\r\n              steps={this.steps}\r\n              activeStep={activeStep}\r\n              completed={completed}\r\n              signUpAsyncValidationUsername={signUpAsyncValidationUsername}\r\n              signUpAsyncValidationEmail={signUpAsyncValidationEmail}\r\n              signUp={signUp}\r\n              signUpCompletion={signUpCompletion}\r\n              signUpBySocial={signUpBySocial}\r\n            />\r\n          </Wrapper>\r\n        )}\r\n      </RegContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNotification(SignUp);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { size } from 'polished';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfiedRounded';\r\n\r\nconst Wrapper = styled.div`\r\n  ${size('100%')}\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n`;\r\n\r\nconst ContentIcon = styled.div`\r\n  width: 100%;\r\n  font-size: 7em;\r\n`;\r\n\r\nconst NotFound = () => (\r\n  <Wrapper>\r\n    <Content>\r\n      <ContentIcon>\r\n        <SentimentDissatisfiedIcon color=\"primary\" fontSize=\"inherit\" />\r\n      </ContentIcon>\r\n      <Typography variant=\"h4\">\r\n        Sorry, but page not found...\r\n      </Typography>\r\n    </Content>\r\n  </Wrapper>\r\n);\r\n\r\nexport default NotFound;\r\n","import 'whatwg-fetch';\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { ApolloProvider } from 'react-apollo';\r\n// import registerServiceWorker from './registerServiceWorker';\r\n\r\nimport App from './components/App';\r\n\r\nimport apollo from './apollo';\r\nimport history from './router/history';\r\n\r\nconst renderApp = (Component) => {\r\n  render(\r\n    <ApolloProvider client={apollo}>\r\n      <Router history={history}>\r\n        <Component />\r\n      </Router>\r\n    </ApolloProvider>, document.getElementById('root'),\r\n  );\r\n};\r\n\r\nrenderApp(App);\r\n// registerServiceWorker();\r\n","import { transform, forEach, set } from 'lodash';\r\nimport * as yup from 'yup';\r\n\r\nexport const formFields = {\r\n  signIn: [{\r\n    name: 'username',\r\n    label: 'User Name / Email Address',\r\n    type: 'text',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'on',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepOne: [{\r\n    name: 'username',\r\n    label: 'User Name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'email',\r\n    label: 'Email Address',\r\n    type: 'email',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'password',\r\n    label: 'Password',\r\n    type: 'password',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }],\r\n  signUpStepTwo: [{\r\n    name: 'firstName',\r\n    label: 'First Name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'lastName',\r\n    label: 'Last name',\r\n    type: 'text',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: '',\r\n  }, {\r\n    name: 'gender',\r\n    label: 'Gender',\r\n    type: 'radio',\r\n    autoComplete: 'no',\r\n    required: true,\r\n    initialValue: 'Male',\r\n    values: ['Male', 'Female', 'Other'],\r\n  }, {\r\n    name: 'birthday',\r\n    label: 'Birthday',\r\n    type: 'date',\r\n    autoComplete: 'no',\r\n    required: false,\r\n    initialValue: '',\r\n  }],\r\n};\r\n\r\nexport const formValidationSchemas = {\r\n  signIn: yup.object().shape(transform(formFields.signIn, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepOne: yup.object().shape(transform(formFields.signUpStepOne, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'username': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'email': {\r\n        res[name] = yup.string().email().required('*required');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        res[name] = yup.string()\r\n          .min(6)\r\n          .max(20)\r\n          .required('*required');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n  signUpStepTwo: yup.object().shape(transform(formFields.signUpStepTwo, (res, { name }) => {\r\n    // eslint-disable-next-line\r\n    switch (name) {\r\n      case 'firstName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'lastName': {\r\n        res[name] = yup.string().required('*required');\r\n        break;\r\n      }\r\n      case 'gender': {\r\n        res[name] = yup.string();\r\n        break;\r\n      }\r\n      case 'birthday': {\r\n        res[name] = yup.date().typeError('');\r\n        break;\r\n      }\r\n    }\r\n  }), {}),\r\n};\r\n\r\nexport const formInitialValues = transform(formFields, (res, values, formName) => {\r\n  res[formName] = {};\r\n\r\n  forEach(values, ({ name, initialValue }) => {\r\n    set(res[formName], name, initialValue);\r\n  });\r\n}, {});\r\n\r\n\r\nexport default formId => ({\r\n  fields: formFields[formId],\r\n  validationSchema: formValidationSchemas[formId],\r\n  initialValues: formInitialValues[formId],\r\n});\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { isEqual } from 'lodash';\r\nimport uuid from 'uuid/v4';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport MessagePanelTopBar from './MessagePanelTopBar';\r\nimport MessagePanelMessages from './MessagePanelMessages';\r\nimport MessagePanelComment from './MessagePanelComment';\r\n\r\nimport { getSpacing } from '../../../styles';\r\nimport { getAvatarInitials, userLastDateParser } from '../../../helpers';\r\n\r\nconst WrapperPaper = styled(Paper)`\r\n  && {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n    padding: ${getSpacing(2)} 0;\r\n    background-color: #fff;\r\n  }\r\n`;\r\n\r\nclass MessagePanel extends Component {\r\n  componentDidMount() {\r\n    this.getMessages(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { chat: { id } } = this.props;\r\n\r\n    if (!isEqual(prevProps.chat.id, id)) {\r\n      this.getMessages(true);\r\n    }\r\n  }\r\n\r\n  getMessages = (initial = false) => {\r\n    const { fetchMoreMessages, chat } = this.props;\r\n    const { id, messages } = chat;\r\n\r\n    if (initial) {\r\n      if (messages.length < 20) {\r\n        fetchMoreMessages(id, messages.length);\r\n      }\r\n    } else {\r\n      fetchMoreMessages(id, messages.length);\r\n    }\r\n  }\r\n\r\n  addMessage = (content) => {\r\n    const { chat: { id: chatId }, addMessage } = this.props;\r\n    const optimisticId = uuid();\r\n    const time = new Date();\r\n\r\n    addMessage({\r\n      chatId,\r\n      content,\r\n      time,\r\n      optimisticId,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      adding,\r\n      me,\r\n      contact,\r\n      chat,\r\n      sendedIds,\r\n    } = this.props;\r\n    const { userInfo } = contact;\r\n    const { displayName, status, lastDate } = userInfo;\r\n    const { messages } = chat;\r\n\r\n    const isOnline = status === 'ONLINE';\r\n    const statusText = isOnline\r\n      ? 'online'\r\n      : userLastDateParser(lastDate);\r\n    const myAvatarText = getAvatarInitials(me);\r\n    const contactAvatarText = getAvatarInitials(userInfo);\r\n\r\n    return (\r\n      <WrapperPaper square elevation={0}>\r\n        <MessagePanelTopBar\r\n          name={displayName}\r\n          isOnline={isOnline}\r\n          statusText={statusText}\r\n        />\r\n        <MessagePanelMessages\r\n          loading={loading}\r\n          myId={me.id}\r\n          messages={messages}\r\n          sendedIds={sendedIds}\r\n        />\r\n        <MessagePanelComment\r\n          adding={adding}\r\n          avatars={{\r\n            me: {\r\n              src: null,\r\n              text: myAvatarText,\r\n            },\r\n            contact: {\r\n              src: null,\r\n              text: contactAvatarText,\r\n            },\r\n          }}\r\n          submit={this.addMessage}\r\n        />\r\n      </WrapperPaper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessagePanel;\r\n","import { upperCase, isEmpty } from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport icqBeep from '../assets/audio/icqBeep';\r\n\r\nexport const getAvatarInitials = (user = null) => {\r\n  if (!user || isEmpty(user)) return '';\r\n\r\n  const { firstName, lastName } = user;\r\n  const firstLater = upperCase(firstName[0]);\r\n\r\n  if (!lastName) {\r\n    return firstLater;\r\n  }\r\n  const lastLater = upperCase(lastName[0]);\r\n\r\n  return `${firstLater}${lastLater}`;\r\n};\r\n\r\nexport const historyDateParser = date => moment(date).format('dddd, MMMM D, YYYY');\r\n\r\nconst shortMessageTimeParser = date => moment(date).calendar(null, {\r\n  sameDay: 'HH:mm',\r\n  lastDay: 'ddd',\r\n  lastWeek: 'ddd',\r\n  sameElse: 'DD/MM/YY',\r\n});\r\n\r\nexport const messageTimeParser = (time, variant = 'short') => {\r\n  if (variant === 'wide') {\r\n    return moment(time).format('HH:mm:ss');\r\n  }\r\n  return shortMessageTimeParser(time);\r\n};\r\n\r\nexport const userLastDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[today at] HH:mm',\r\n  lastDay: '[yesterday at] HH:mm',\r\n  lastWeek: '[last] dddd [at] HH:mm',\r\n  sameElse: 'DD/MM/YYYY',\r\n});\r\n\r\nconst messageHistoryDateFormat = 'dddd, MMMM D, YYYY';\r\n\r\nexport const messageHistoryDateParser = date => moment(date).calendar(null, {\r\n  sameDay: '[Today]',\r\n  lastDay: '[Yesterday]',\r\n  lastWeek: messageHistoryDateFormat,\r\n  sameElse: messageHistoryDateFormat,\r\n});\r\n\r\nexport const isSameDay = (date, referenceDate) => {\r\n  const a = moment(date);\r\n  const b = moment(referenceDate);\r\n  const diff = a.isSame(b, 'days');\r\n\r\n  return diff;\r\n};\r\n\r\nexport const icqBeepPlay = () => icqBeep.play();\r\n\r\nexport const getBase64 = file => new Promise((res, rej) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.onload = () => {\r\n    res(reader.result);\r\n  };\r\n  reader.onerror = (error) => {\r\n    rej(error);\r\n  };\r\n});\r\n"],"sourceRoot":""}